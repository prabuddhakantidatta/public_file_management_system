<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cabinet & File Management System</title>
    <script type="module" crossorigin>(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function tC(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var hf={exports:{}},Ml={};var yy;function nC(){if(yy)return Ml;yy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(l,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:l,key:f,ref:o!==void 0?o:null,props:c}}return Ml.Fragment=e,Ml.jsx=i,Ml.jsxs=i,Ml}var vy;function iC(){return vy||(vy=1,hf.exports=nC()),hf.exports}var p=iC(),mf={exports:{}},oe={};var _y;function sC(){if(_y)return oe;_y=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function E(w){return w===null||typeof w!="object"?null:(w=_&&w[_]||w["@@iterator"],typeof w=="function"?w:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,k={};function F(w,R,V){this.props=w,this.context=R,this.refs=k,this.updater=V||S}F.prototype.isReactComponent={},F.prototype.setState=function(w,R){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,R,"setState")},F.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function L(){}L.prototype=F.prototype;function z(w,R,V){this.props=w,this.context=R,this.refs=k,this.updater=V||S}var Y=z.prototype=new L;Y.constructor=z,A(Y,F.prototype),Y.isPureReactComponent=!0;var ne=Array.isArray;function J(){}var O={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function X(w,R,V){var Z=V.ref;return{$$typeof:s,type:w,key:R,ref:Z!==void 0?Z:null,props:V}}function _e(w,R){return X(w.type,R,w.props)}function Se(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function Ye(w){var R={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(V){return R[V]})}var It=/\/+/g;function Ge(w,R){return typeof w=="object"&&w!==null&&w.key!=null?Ye(""+w.key):R.toString(36)}function Q(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(J,J):(w.status="pending",w.then(function(R){w.status==="pending"&&(w.status="fulfilled",w.value=R)},function(R){w.status==="pending"&&(w.status="rejected",w.reason=R)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function U(w,R,V,Z,W){var de=typeof w;(de==="undefined"||de==="boolean")&&(w=null);var Ae=!1;if(w===null)Ae=!0;else switch(de){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(w.$$typeof){case s:case e:Ae=!0;break;case v:return Ae=w._init,U(Ae(w._payload),R,V,Z,W)}}if(Ae)return W=W(w),Ae=Z===""?"."+Ge(w,0):Z,ne(W)?(V="",Ae!=null&&(V=Ae.replace(It,"$&/")+"/"),U(W,R,V,"",function(Ba){return Ba})):W!=null&&(Se(W)&&(W=_e(W,V+(W.key==null||w&&w.key===W.key?"":(""+W.key).replace(It,"$&/")+"/")+Ae)),R.push(W)),1;Ae=0;var Nt=Z===""?".":Z+":";if(ne(w))for(var Ze=0;Ze<w.length;Ze++)Z=w[Ze],de=Nt+Ge(Z,Ze),Ae+=U(Z,R,V,de,W);else if(Ze=E(w),typeof Ze=="function")for(w=Ze.call(w),Ze=0;!(Z=w.next()).done;)Z=Z.value,de=Nt+Ge(Z,Ze++),Ae+=U(Z,R,V,de,W);else if(de==="object"){if(typeof w.then=="function")return U(Q(w),R,V,Z,W);throw R=String(w),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function $(w,R,V){if(w==null)return w;var Z=[],W=0;return U(w,Z,"","",function(de){return R.call(V,de,W++)}),Z}function ie(w){if(w._status===-1){var R=w._result;R=R(),R.then(function(V){(w._status===0||w._status===-1)&&(w._status=1,w._result=V)},function(V){(w._status===0||w._status===-1)&&(w._status=2,w._result=V)}),w._status===-1&&(w._status=0,w._result=R)}if(w._status===1)return w._result.default;throw w._result}var me=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},Ce={map:$,forEach:function(w,R,V){$(w,function(){R.apply(this,arguments)},V)},count:function(w){var R=0;return $(w,function(){R++}),R},toArray:function(w){return $(w,function(R){return R})||[]},only:function(w){if(!Se(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return oe.Activity=b,oe.Children=Ce,oe.Component=F,oe.Fragment=i,oe.Profiler=o,oe.PureComponent=z,oe.StrictMode=l,oe.Suspense=m,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,oe.__COMPILER_RUNTIME={__proto__:null,c:function(w){return O.H.useMemoCache(w)}},oe.cache=function(w){return function(){return w.apply(null,arguments)}},oe.cacheSignal=function(){return null},oe.cloneElement=function(w,R,V){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var Z=A({},w.props),W=w.key;if(R!=null)for(de in R.key!==void 0&&(W=""+R.key),R)!G.call(R,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&R.ref===void 0||(Z[de]=R[de]);var de=arguments.length-2;if(de===1)Z.children=V;else if(1<de){for(var Ae=Array(de),Nt=0;Nt<de;Nt++)Ae[Nt]=arguments[Nt+2];Z.children=Ae}return X(w.type,W,Z)},oe.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},oe.createElement=function(w,R,V){var Z,W={},de=null;if(R!=null)for(Z in R.key!==void 0&&(de=""+R.key),R)G.call(R,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(W[Z]=R[Z]);var Ae=arguments.length-2;if(Ae===1)W.children=V;else if(1<Ae){for(var Nt=Array(Ae),Ze=0;Ze<Ae;Ze++)Nt[Ze]=arguments[Ze+2];W.children=Nt}if(w&&w.defaultProps)for(Z in Ae=w.defaultProps,Ae)W[Z]===void 0&&(W[Z]=Ae[Z]);return X(w,de,W)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(w){return{$$typeof:g,render:w}},oe.isValidElement=Se,oe.lazy=function(w){return{$$typeof:v,_payload:{_status:-1,_result:w},_init:ie}},oe.memo=function(w,R){return{$$typeof:h,type:w,compare:R===void 0?null:R}},oe.startTransition=function(w){var R=O.T,V={};O.T=V;try{var Z=w(),W=O.S;W!==null&&W(V,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(J,me)}catch(de){me(de)}finally{R!==null&&V.types!==null&&(R.types=V.types),O.T=R}},oe.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},oe.use=function(w){return O.H.use(w)},oe.useActionState=function(w,R,V){return O.H.useActionState(w,R,V)},oe.useCallback=function(w,R){return O.H.useCallback(w,R)},oe.useContext=function(w){return O.H.useContext(w)},oe.useDebugValue=function(){},oe.useDeferredValue=function(w,R){return O.H.useDeferredValue(w,R)},oe.useEffect=function(w,R){return O.H.useEffect(w,R)},oe.useEffectEvent=function(w){return O.H.useEffectEvent(w)},oe.useId=function(){return O.H.useId()},oe.useImperativeHandle=function(w,R,V){return O.H.useImperativeHandle(w,R,V)},oe.useInsertionEffect=function(w,R){return O.H.useInsertionEffect(w,R)},oe.useLayoutEffect=function(w,R){return O.H.useLayoutEffect(w,R)},oe.useMemo=function(w,R){return O.H.useMemo(w,R)},oe.useOptimistic=function(w,R){return O.H.useOptimistic(w,R)},oe.useReducer=function(w,R,V){return O.H.useReducer(w,R,V)},oe.useRef=function(w){return O.H.useRef(w)},oe.useState=function(w){return O.H.useState(w)},oe.useSyncExternalStore=function(w,R,V){return O.H.useSyncExternalStore(w,R,V)},oe.useTransition=function(){return O.H.useTransition()},oe.version="19.2.3",oe}var by;function uh(){return by||(by=1,mf.exports=sC()),mf.exports}var I=uh();const rt=tC(I);var pf={exports:{}},Ll={},gf={exports:{}},yf={};var xy;function aC(){return xy||(xy=1,(function(s){function e(U,$){var ie=U.length;U.push($);e:for(;0<ie;){var me=ie-1>>>1,Ce=U[me];if(0<o(Ce,$))U[me]=$,U[ie]=Ce,ie=me;else break e}}function i(U){return U.length===0?null:U[0]}function l(U){if(U.length===0)return null;var $=U[0],ie=U.pop();if(ie!==$){U[0]=ie;e:for(var me=0,Ce=U.length,w=Ce>>>1;me<w;){var R=2*(me+1)-1,V=U[R],Z=R+1,W=U[Z];if(0>o(V,ie))Z<Ce&&0>o(W,V)?(U[me]=W,U[Z]=ie,me=Z):(U[me]=V,U[R]=ie,me=R);else if(Z<Ce&&0>o(W,ie))U[me]=W,U[Z]=ie,me=Z;else break e}}return $}function o(U,$){var ie=U.sortIndex-$.sortIndex;return ie!==0?ie:U.id-$.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var m=[],h=[],v=1,b=null,_=3,E=!1,S=!1,A=!1,k=!1,F=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function Y(U){for(var $=i(h);$!==null;){if($.callback===null)l(h);else if($.startTime<=U)l(h),$.sortIndex=$.expirationTime,e(m,$);else break;$=i(h)}}function ne(U){if(A=!1,Y(U),!S)if(i(m)!==null)S=!0,J||(J=!0,Ye());else{var $=i(h);$!==null&&Q(ne,$.startTime-U)}}var J=!1,O=-1,G=5,X=-1;function _e(){return k?!0:!(s.unstable_now()-X<G)}function Se(){if(k=!1,J){var U=s.unstable_now();X=U;var $=!0;try{e:{S=!1,A&&(A=!1,L(O),O=-1),E=!0;var ie=_;try{t:{for(Y(U),b=i(m);b!==null&&!(b.expirationTime>U&&_e());){var me=b.callback;if(typeof me=="function"){b.callback=null,_=b.priorityLevel;var Ce=me(b.expirationTime<=U);if(U=s.unstable_now(),typeof Ce=="function"){b.callback=Ce,Y(U),$=!0;break t}b===i(m)&&l(m),Y(U)}else l(m);b=i(m)}if(b!==null)$=!0;else{var w=i(h);w!==null&&Q(ne,w.startTime-U),$=!1}}break e}finally{b=null,_=ie,E=!1}$=void 0}}finally{$?Ye():J=!1}}}var Ye;if(typeof z=="function")Ye=function(){z(Se)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,Ge=It.port2;It.port1.onmessage=Se,Ye=function(){Ge.postMessage(null)}}else Ye=function(){F(Se,0)};function Q(U,$){O=F(function(){U(s.unstable_now())},$)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_next=function(U){switch(_){case 1:case 2:case 3:var $=3;break;default:$=_}var ie=_;_=$;try{return U()}finally{_=ie}},s.unstable_requestPaint=function(){k=!0},s.unstable_runWithPriority=function(U,$){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ie=_;_=U;try{return $()}finally{_=ie}},s.unstable_scheduleCallback=function(U,$,ie){var me=s.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?me+ie:me):ie=me,U){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ie+Ce,U={id:v++,callback:$,priorityLevel:U,startTime:ie,expirationTime:Ce,sortIndex:-1},ie>me?(U.sortIndex=ie,e(h,U),i(m)===null&&U===i(h)&&(A?(L(O),O=-1):A=!0,Q(ne,ie-me))):(U.sortIndex=Ce,e(m,U),S||E||(S=!0,J||(J=!0,Ye()))),U},s.unstable_shouldYield=_e,s.unstable_wrapCallback=function(U){var $=_;return function(){var ie=_;_=$;try{return U.apply(this,arguments)}finally{_=ie}}}})(yf)),yf}var Ey;function lC(){return Ey||(Ey=1,gf.exports=aC()),gf.exports}var vf={exports:{}},xt={};var Cy;function rC(){if(Cy)return xt;Cy=1;var s=uh();function e(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,h,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:h,implementation:v}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,xt.createPortal=function(m,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return c(m,h,null,v)},xt.flushSync=function(m){var h=f.T,v=l.p;try{if(f.T=null,l.p=2,m)return m()}finally{f.T=h,l.p=v,l.d.f()}},xt.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,l.d.C(m,h))},xt.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},xt.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var v=h.as,b=g(v,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,E=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?l.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:E}):v==="script"&&l.d.X(m,{crossOrigin:b,integrity:_,fetchPriority:E,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},xt.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);l.d.M(m,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&l.d.M(m)},xt.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,b=g(v,h.crossOrigin);l.d.L(m,v,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},xt.preloadModule=function(m,h){if(typeof m=="string")if(h){var v=g(h.as,h.crossOrigin);l.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else l.d.m(m)},xt.requestFormReset=function(m){l.d.r(m)},xt.unstable_batchedUpdates=function(m,h){return m(h)},xt.useFormState=function(m,h,v){return f.H.useFormState(m,h,v)},xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},xt.version="19.2.3",xt}var Sy;function oC(){if(Sy)return vf.exports;Sy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),vf.exports=rC(),vf.exports}var Ny;function cC(){if(Ny)return Ll;Ny=1;var s=lC(),e=uh(),i=oC();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(l(188))}function h(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(l(188));return n!==t?null:t}for(var a=t,r=n;;){var u=a.return;if(u===null)break;var d=u.alternate;if(d===null){if(r=u.return,r!==null){a=r;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===a)return m(u),t;if(d===r)return m(u),n;d=d.sibling}throw Error(l(188))}if(a.return!==r.return)a=u,r=d;else{for(var y=!1,x=u.child;x;){if(x===a){y=!0,a=u,r=d;break}if(x===r){y=!0,r=u,a=d;break}x=x.sibling}if(!y){for(x=d.child;x;){if(x===a){y=!0,a=d,r=u;break}if(x===r){y=!0,r=d,a=u;break}x=x.sibling}if(!y)throw Error(l(189))}}if(a.alternate!==r)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),z=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),_e=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function Ye(t){return t===null||typeof t!="object"?null:(t=Se&&t[Se]||t["@@iterator"],typeof t=="function"?t:null)}var It=Symbol.for("react.client.reference");function Ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===It?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case F:return"Profiler";case k:return"StrictMode";case ne:return"Suspense";case J:return"SuspenseList";case X:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case S:return"Portal";case z:return t.displayName||"Context";case L:return(t._context.displayName||"Context")+".Consumer";case Y:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Ge(t.type)||"Memo";case G:n=t._payload,t=t._init;try{return Ge(t(n))}catch{}}return null}var Q=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},me=[],Ce=-1;function w(t){return{current:t}}function R(t){0>Ce||(t.current=me[Ce],me[Ce]=null,Ce--)}function V(t,n){Ce++,me[Ce]=t.current,t.current=n}var Z=w(null),W=w(null),de=w(null),Ae=w(null);function Nt(t,n){switch(V(de,n),V(W,t),V(Z,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?H0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=H0(n),t=B0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}R(Z),V(Z,t)}function Ze(){R(Z),R(W),R(de)}function Ba(t){t.memoizedState!==null&&V(Ae,t);var n=Z.current,a=B0(n,t.type);n!==a&&(V(W,t),V(Z,a))}function Sr(t){W.current===t&&(R(Z),R(W)),Ae.current===t&&(R(Ae),Il._currentValue=ie)}var Kc,gm;function Yi(t){if(Kc===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Kc=n&&n[1]||"",gm=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kc+t+gm}var $c=!1;function Xc(t,n){if(!t||$c)return"";$c=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(P){var j=P}Reflect.construct(t,[],q)}else{try{q.call()}catch(P){j=P}t.call(q.prototype)}}else{try{throw Error()}catch(P){j=P}(q=t())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(P){if(P&&j&&typeof P.stack=="string")return[P.stack,j.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),y=d[0],x=d[1];if(y&&x){var C=y.split(`
`),M=x.split(`
`);for(u=r=0;r<C.length&&!C[r].includes("DetermineComponentFrameRoot");)r++;for(;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;if(r===C.length||u===M.length)for(r=C.length-1,u=M.length-1;1<=r&&0<=u&&C[r]!==M[u];)u--;for(;1<=r&&0<=u;r--,u--)if(C[r]!==M[u]){if(r!==1||u!==1)do if(r--,u--,0>u||C[r]!==M[u]){var H=`
`+C[r].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=r&&0<=u);break}}}finally{$c=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Yi(a):""}function Ox(t,n){switch(t.tag){case 26:case 27:case 5:return Yi(t.type);case 16:return Yi("Lazy");case 13:return t.child!==n&&n!==null?Yi("Suspense Fallback"):Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 15:return Xc(t.type,!1);case 11:return Xc(t.type.render,!1);case 1:return Xc(t.type,!0);case 31:return Yi("Activity");default:return""}}function ym(t){try{var n="",a=null;do n+=Ox(t,a),a=t,t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Wc=Object.prototype.hasOwnProperty,Zc=s.unstable_scheduleCallback,Jc=s.unstable_cancelCallback,Dx=s.unstable_shouldYield,Mx=s.unstable_requestPaint,Ht=s.unstable_now,Lx=s.unstable_getCurrentPriorityLevel,vm=s.unstable_ImmediatePriority,_m=s.unstable_UserBlockingPriority,Nr=s.unstable_NormalPriority,jx=s.unstable_LowPriority,bm=s.unstable_IdlePriority,Ux=s.log,zx=s.unstable_setDisableYieldValue,qa=null,Bt=null;function ii(t){if(typeof Ux=="function"&&zx(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(qa,t)}catch{}}var qt=Math.clz32?Math.clz32:Bx,Px=Math.log,Hx=Math.LN2;function Bx(t){return t>>>=0,t===0?32:31-(Px(t)/Hx|0)|0}var wr=256,Tr=262144,Rr=4194304;function Gi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ar(t,n,a){var r=t.pendingLanes;if(r===0)return 0;var u=0,d=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var x=r&134217727;return x!==0?(r=x&~d,r!==0?u=Gi(r):(y&=x,y!==0?u=Gi(y):a||(a=x&~t,a!==0&&(u=Gi(a))))):(x=r&~d,x!==0?u=Gi(x):y!==0?u=Gi(y):a||(a=r&~t,a!==0&&(u=Gi(a)))),u===0?0:n!==0&&n!==u&&(n&d)===0&&(d=u&-u,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:u}function Va(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function qx(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xm(){var t=Rr;return Rr<<=1,(Rr&62914560)===0&&(Rr=4194304),t}function eu(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Fa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vx(t,n,a,r,u,d){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,C=t.expirationTimes,M=t.hiddenUpdates;for(a=y&~a;0<a;){var H=31-qt(a),q=1<<H;x[H]=0,C[H]=-1;var j=M[H];if(j!==null)for(M[H]=null,H=0;H<j.length;H++){var P=j[H];P!==null&&(P.lane&=-536870913)}a&=~q}r!==0&&Em(t,r,0),d!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=d&~(y&~n))}function Em(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var r=31-qt(n);t.entangledLanes|=n,t.entanglements[r]=t.entanglements[r]|1073741824|a&261930}function Cm(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var r=31-qt(a),u=1<<r;u&n|t[r]&n&&(t[r]|=n),a&=~u}}function Sm(t,n){var a=n&-n;return a=(a&42)!==0?1:tu(a),(a&(t.suspendedLanes|n))!==0?0:a}function tu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function nu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nm(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:uy(t.type))}function wm(t,n){var a=$.p;try{return $.p=t,n()}finally{$.p=a}}var si=Math.random().toString(36).slice(2),mt="__reactFiber$"+si,kt="__reactProps$"+si,Ns="__reactContainer$"+si,iu="__reactEvents$"+si,Fx="__reactListeners$"+si,Yx="__reactHandles$"+si,Tm="__reactResources$"+si,Ya="__reactMarker$"+si;function su(t){delete t[mt],delete t[kt],delete t[iu],delete t[Fx],delete t[Yx]}function ws(t){var n=t[mt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ns]||a[mt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=K0(t);t!==null;){if(a=t[mt])return a;t=K0(t)}return n}t=a,a=t.parentNode}return null}function Ts(t){if(t=t[mt]||t[Ns]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Ga(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function Rs(t){var n=t[Tm];return n||(n=t[Tm]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ot(t){t[Ya]=!0}var Rm=new Set,Am={};function Qi(t,n){As(t,n),As(t+"Capture",n)}function As(t,n){for(Am[t]=n,t=0;t<n.length;t++)Rm.add(n[t])}var Gx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Im={},km={};function Qx(t){return Wc.call(km,t)?!0:Wc.call(Im,t)?!1:Gx.test(t)?km[t]=!0:(Im[t]=!0,!1)}function Ir(t,n,a){if(Qx(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function kr(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function In(t,n,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+r)}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Om(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Kx(t,n,a){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,d=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function au(t){if(!t._valueTracker){var n=Om(t)?"checked":"value";t._valueTracker=Kx(t,n,""+t[n])}}function Dm(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),r="";return t&&(r=Om(t)?t.checked?"true":"false":t.value),t=r,t!==a?(n.setValue(t),!0):!1}function Or(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $x=/[\n"\\]/g;function Zt(t){return t.replace($x,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function lu(t,n,a,r,u,d,y,x){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Wt(n)):t.value!==""+Wt(n)&&(t.value=""+Wt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?ru(t,y,Wt(n)):a!=null?ru(t,y,Wt(a)):r!=null&&t.removeAttribute("value"),u==null&&d!=null&&(t.defaultChecked=!!d),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Wt(x):t.removeAttribute("name")}function Mm(t,n,a,r,u,d,y,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){au(t);return}a=a!=null?""+Wt(a):"",n=n!=null?""+Wt(n):a,x||n===t.value||(t.value=n),t.defaultValue=n}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=x?t.checked:!!r,t.defaultChecked=!!r,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),au(t)}function ru(t,n,a){n==="number"&&Or(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Is(t,n,a,r){if(t=t.options,n){n={};for(var u=0;u<a.length;u++)n["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=n.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&r&&(t[a].defaultSelected=!0)}else{for(a=""+Wt(a),n=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,r&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function Lm(t,n,a){if(n!=null&&(n=""+Wt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Wt(a):""}function jm(t,n,a,r){if(n==null){if(r!=null){if(a!=null)throw Error(l(92));if(Q(r)){if(1<r.length)throw Error(l(93));r=r[0]}a=r}a==null&&(a=""),n=a}a=Wt(n),t.defaultValue=a,r=t.textContent,r===a&&r!==""&&r!==null&&(t.value=r),au(t)}function ks(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Xx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Um(t,n,a){var r=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":r?t.setProperty(n,a):typeof a!="number"||a===0||Xx.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function zm(t,n,a){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var u in n)r=n[u],n.hasOwnProperty(u)&&a[u]!==r&&Um(t,u,r)}else for(var d in n)n.hasOwnProperty(d)&&Um(t,d,n[d])}function ou(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dr(t){return Zx.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function kn(){}var cu=null;function uu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Os=null,Ds=null;function Pm(t){var n=Ts(t);if(n&&(t=n.stateNode)){var a=t[kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(lu(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Zt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var r=a[n];if(r!==t&&r.form===t.form){var u=r[kt]||null;if(!u)throw Error(l(90));lu(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<a.length;n++)r=a[n],r.form===t.form&&Dm(r)}break e;case"textarea":Lm(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Is(t,!!a.multiple,n,!1)}}}var du=!1;function Hm(t,n,a){if(du)return t(n,a);du=!0;try{var r=t(n);return r}finally{if(du=!1,(Os!==null||Ds!==null)&&(xo(),Os&&(n=Os,t=Ds,Ds=Os=null,Pm(n),t)))for(n=0;n<t.length;n++)Pm(t[n])}}function Qa(t,n){var a=t.stateNode;if(a===null)return null;var r=a[kt]||null;if(r===null)return null;a=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(l(231,n,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fu=!1;if(On)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){fu=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{fu=!1}var ai=null,hu=null,Mr=null;function Bm(){if(Mr)return Mr;var t,n=hu,a=n.length,r,u="value"in ai?ai.value:ai.textContent,d=u.length;for(t=0;t<a&&n[t]===u[t];t++);var y=a-t;for(r=1;r<=y&&n[a-r]===u[d-r];r++);return Mr=u.slice(t,1<r?1-r:void 0)}function Lr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function jr(){return!0}function qm(){return!1}function Ot(t){function n(a,r,u,d,y){this._reactName=a,this._targetInst=u,this.type=r,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?jr:qm,this.isPropagationStopped=qm,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),n}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ur=Ot(Ki),$a=b({},Ki,{view:0,detail:0}),Jx=Ot($a),mu,pu,Xa,zr=b({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xa&&(Xa&&t.type==="mousemove"?(mu=t.screenX-Xa.screenX,pu=t.screenY-Xa.screenY):pu=mu=0,Xa=t),mu)},movementY:function(t){return"movementY"in t?t.movementY:pu}}),Vm=Ot(zr),e1=b({},zr,{dataTransfer:0}),t1=Ot(e1),n1=b({},$a,{relatedTarget:0}),gu=Ot(n1),i1=b({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),s1=Ot(i1),a1=b({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),l1=Ot(a1),r1=b({},Ki,{data:0}),Fm=Ot(r1),o1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d1(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=u1[t])?!!n[t]:!1}function yu(){return d1}var f1=b({},$a,{key:function(t){if(t.key){var n=o1[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?c1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(t){return t.type==="keypress"?Lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),h1=Ot(f1),m1=b({},zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ym=Ot(m1),p1=b({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),g1=Ot(p1),y1=b({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),v1=Ot(y1),_1=b({},zr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),b1=Ot(_1),x1=b({},Ki,{newState:0,oldState:0}),E1=Ot(x1),C1=[9,13,27,32],vu=On&&"CompositionEvent"in window,Wa=null;On&&"documentMode"in document&&(Wa=document.documentMode);var S1=On&&"TextEvent"in window&&!Wa,Gm=On&&(!vu||Wa&&8<Wa&&11>=Wa),Qm=" ",Km=!1;function $m(t,n){switch(t){case"keyup":return C1.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ms=!1;function N1(t,n){switch(t){case"compositionend":return Xm(n);case"keypress":return n.which!==32?null:(Km=!0,Qm);case"textInput":return t=n.data,t===Qm&&Km?null:t;default:return null}}function w1(t,n){if(Ms)return t==="compositionend"||!vu&&$m(t,n)?(t=Bm(),Mr=hu=ai=null,Ms=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Gm&&n.locale!=="ko"?null:n.data;default:return null}}var T1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!T1[t.type]:n==="textarea"}function Zm(t,n,a,r){Os?Ds?Ds.push(r):Ds=[r]:Os=r,n=Ro(n,"onChange"),0<n.length&&(a=new Ur("onChange","change",null,a,r),t.push({event:a,listeners:n}))}var Za=null,Ja=null;function R1(t){M0(t,0)}function Pr(t){var n=Ga(t);if(Dm(n))return t}function Jm(t,n){if(t==="change")return n}var ep=!1;if(On){var _u;if(On){var bu="oninput"in document;if(!bu){var tp=document.createElement("div");tp.setAttribute("oninput","return;"),bu=typeof tp.oninput=="function"}_u=bu}else _u=!1;ep=_u&&(!document.documentMode||9<document.documentMode)}function np(){Za&&(Za.detachEvent("onpropertychange",ip),Ja=Za=null)}function ip(t){if(t.propertyName==="value"&&Pr(Ja)){var n=[];Zm(n,Ja,t,uu(t)),Hm(R1,n)}}function A1(t,n,a){t==="focusin"?(np(),Za=n,Ja=a,Za.attachEvent("onpropertychange",ip)):t==="focusout"&&np()}function I1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pr(Ja)}function k1(t,n){if(t==="click")return Pr(n)}function O1(t,n){if(t==="input"||t==="change")return Pr(n)}function D1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Vt=typeof Object.is=="function"?Object.is:D1;function el(t,n){if(Vt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),r=Object.keys(n);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var u=a[r];if(!Wc.call(n,u)||!Vt(t[u],n[u]))return!1}return!0}function sp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ap(t,n){var a=sp(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=n&&r>=n)return{node:a,offset:n-t};t=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sp(a)}}function lp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?lp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function rp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Or(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Or(t.document)}return n}function xu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var M1=On&&"documentMode"in document&&11>=document.documentMode,Ls=null,Eu=null,tl=null,Cu=!1;function op(t,n,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Cu||Ls==null||Ls!==Or(r)||(r=Ls,"selectionStart"in r&&xu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tl&&el(tl,r)||(tl=r,r=Ro(Eu,"onSelect"),0<r.length&&(n=new Ur("onSelect","select",null,n,a),t.push({event:n,listeners:r}),n.target=Ls)))}function $i(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var js={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},Su={},cp={};On&&(cp=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Xi(t){if(Su[t])return Su[t];if(!js[t])return t;var n=js[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in cp)return Su[t]=n[a];return t}var up=Xi("animationend"),dp=Xi("animationiteration"),fp=Xi("animationstart"),L1=Xi("transitionrun"),j1=Xi("transitionstart"),U1=Xi("transitioncancel"),hp=Xi("transitionend"),mp=new Map,Nu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nu.push("scrollEnd");function cn(t,n){mp.set(t,n),Qi(n,[t])}var Hr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Jt=[],Us=0,wu=0;function Br(){for(var t=Us,n=wu=Us=0;n<t;){var a=Jt[n];Jt[n++]=null;var r=Jt[n];Jt[n++]=null;var u=Jt[n];Jt[n++]=null;var d=Jt[n];if(Jt[n++]=null,r!==null&&u!==null){var y=r.pending;y===null?u.next=u:(u.next=y.next,y.next=u),r.pending=u}d!==0&&pp(a,u,d)}}function qr(t,n,a,r){Jt[Us++]=t,Jt[Us++]=n,Jt[Us++]=a,Jt[Us++]=r,wu|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Tu(t,n,a,r){return qr(t,n,a,r),Vr(t)}function Wi(t,n){return qr(t,null,null,n),Vr(t)}function pp(t,n,a){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a);for(var u=!1,d=t.return;d!==null;)d.childLanes|=a,r=d.alternate,r!==null&&(r.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(u=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,u&&n!==null&&(u=31-qt(a),t=d.hiddenUpdates,r=t[u],r===null?t[u]=[n]:r.push(n),n.lane=a|536870912),d):null}function Vr(t){if(50<Cl)throw Cl=0,jd=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var zs={};function z1(t,n,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(t,n,a,r){return new z1(t,n,a,r)}function Ru(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Dn(t,n){var a=t.alternate;return a===null?(a=Ft(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function gp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fr(t,n,a,r,u,d){var y=0;if(r=t,typeof t=="function")Ru(t)&&(y=1);else if(typeof t=="string")y=VE(t,a,Z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case X:return t=Ft(31,a,n,u),t.elementType=X,t.lanes=d,t;case A:return Zi(a.children,u,d,n);case k:y=8,u|=24;break;case F:return t=Ft(12,a,n,u|2),t.elementType=F,t.lanes=d,t;case ne:return t=Ft(13,a,n,u),t.elementType=ne,t.lanes=d,t;case J:return t=Ft(19,a,n,u),t.elementType=J,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z:y=10;break e;case L:y=9;break e;case Y:y=11;break e;case O:y=14;break e;case G:y=16,r=null;break e}y=29,a=Error(l(130,t===null?"null":typeof t,"")),r=null}return n=Ft(y,a,n,u),n.elementType=t,n.type=r,n.lanes=d,n}function Zi(t,n,a,r){return t=Ft(7,t,r,n),t.lanes=a,t}function Au(t,n,a){return t=Ft(6,t,null,n),t.lanes=a,t}function yp(t){var n=Ft(18,null,null,0);return n.stateNode=t,n}function Iu(t,n,a){return n=Ft(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var vp=new WeakMap;function en(t,n){if(typeof t=="object"&&t!==null){var a=vp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ym(n)},vp.set(t,n),n)}return{value:t,source:n,stack:ym(n)}}var Ps=[],Hs=0,Yr=null,nl=0,tn=[],nn=0,li=null,xn=1,En="";function Mn(t,n){Ps[Hs++]=nl,Ps[Hs++]=Yr,Yr=t,nl=n}function _p(t,n,a){tn[nn++]=xn,tn[nn++]=En,tn[nn++]=li,li=t;var r=xn;t=En;var u=32-qt(r)-1;r&=~(1<<u),a+=1;var d=32-qt(n)+u;if(30<d){var y=u-u%5;d=(r&(1<<y)-1).toString(32),r>>=y,u-=y,xn=1<<32-qt(n)+u|a<<u|r,En=d+t}else xn=1<<d|a<<u|r,En=t}function ku(t){t.return!==null&&(Mn(t,1),_p(t,1,0))}function Ou(t){for(;t===Yr;)Yr=Ps[--Hs],Ps[Hs]=null,nl=Ps[--Hs],Ps[Hs]=null;for(;t===li;)li=tn[--nn],tn[nn]=null,En=tn[--nn],tn[nn]=null,xn=tn[--nn],tn[nn]=null}function bp(t,n){tn[nn++]=xn,tn[nn++]=En,tn[nn++]=li,xn=n.id,En=n.overflow,li=t}var pt=null,He=null,Ee=!1,ri=null,sn=!1,Du=Error(l(519));function oi(t){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(en(n,t)),Du}function xp(t){var n=t.stateNode,a=t.type,r=t.memoizedProps;switch(n[mt]=t,n[kt]=r,a){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(a=0;a<Nl.length;a++)ge(Nl[a],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":ge("invalid",n),Mm(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":ge("invalid",n);break;case"textarea":ge("invalid",n),jm(n,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||r.suppressHydrationWarning===!0||z0(n.textContent,a)?(r.popover!=null&&(ge("beforetoggle",n),ge("toggle",n)),r.onScroll!=null&&ge("scroll",n),r.onScrollEnd!=null&&ge("scrollend",n),r.onClick!=null&&(n.onclick=kn),n=!0):n=!1,n||oi(t,!0)}function Ep(t){for(pt=t.return;pt;)switch(pt.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:pt=pt.return}}function Bs(t){if(t!==pt)return!1;if(!Ee)return Ep(t),Ee=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wd(t.type,t.memoizedProps)),a=!a),a&&He&&oi(t),Ep(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));He=Q0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));He=Q0(t)}else n===27?(n=He,Ei(t.type)?(t=nf,nf=null,He=t):He=n):He=pt?ln(t.stateNode.nextSibling):null;return!0}function Ji(){He=pt=null,Ee=!1}function Mu(){var t=ri;return t!==null&&(jt===null?jt=t:jt.push.apply(jt,t),ri=null),t}function il(t){ri===null?ri=[t]:ri.push(t)}var Lu=w(null),es=null,Ln=null;function ci(t,n,a){V(Lu,n._currentValue),n._currentValue=a}function jn(t){t._currentValue=Lu.current,R(Lu)}function ju(t,n,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),t===a)break;t=t.return}}function Uu(t,n,a,r){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var d=u.dependencies;if(d!==null){var y=u.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=u;for(var C=0;C<n.length;C++)if(x.context===n[C]){d.lanes|=a,x=d.alternate,x!==null&&(x.lanes|=a),ju(d.return,a,t),r||(y=null);break e}d=x.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(l(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),ju(y,a,t),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===t){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function qs(t,n,a,r){t=null;for(var u=n,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var x=u.type;Vt(u.pendingProps.value,y.value)||(t!==null?t.push(x):t=[x])}}else if(u===Ae.current){if(y=u.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}u=u.return}t!==null&&Uu(n,t,a,r),n.flags|=262144}function Gr(t){for(t=t.firstContext;t!==null;){if(!Vt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ts(t){es=t,Ln=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function gt(t){return Cp(es,t)}function Qr(t,n){return es===null&&ts(t),Cp(t,n)}function Cp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ln===null){if(t===null)throw Error(l(308));Ln=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ln=Ln.next=n;return a}var P1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,r){t.push(r)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},H1=s.unstable_scheduleCallback,B1=s.unstable_NormalPriority,nt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zu(){return{controller:new P1,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&H1(B1,function(){t.controller.abort()})}var al=null,Pu=0,Vs=0,Fs=null;function q1(t,n){if(al===null){var a=al=[];Pu=0,Vs=qd(),Fs={status:"pending",value:void 0,then:function(r){a.push(r)}}}return Pu++,n.then(Sp,Sp),n}function Sp(){if(--Pu===0&&al!==null){Fs!==null&&(Fs.status="fulfilled");var t=al;al=null,Vs=0,Fs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function V1(t,n){var a=[],r={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return t.then(function(){r.status="fulfilled",r.value=n;for(var u=0;u<a.length;u++)(0,a[u])(n)},function(u){for(r.status="rejected",r.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),r}var Np=U.S;U.S=function(t,n){o0=Ht(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&q1(t,n),Np!==null&&Np(t,n)};var ns=w(null);function Hu(){var t=ns.current;return t!==null?t:Ue.pooledCache}function Kr(t,n){n===null?V(ns,ns.current):V(ns,n.pool)}function wp(){var t=Hu();return t===null?null:{parent:nt._currentValue,pool:t}}var Ys=Error(l(460)),Bu=Error(l(474)),$r=Error(l(542)),Xr={then:function(){}};function Tp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(kn,kn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ip(t),t;default:if(typeof n.status=="string")n.then(kn,kn);else{if(t=Ue,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(r){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=r}},function(r){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ip(t),t}throw ss=n,Ys}}function is(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ss=a,Ys):a}}var ss=null;function Ap(){if(ss===null)throw Error(l(459));var t=ss;return ss=null,t}function Ip(t){if(t===Ys||t===$r)throw Error(l(483))}var Gs=null,ll=0;function Wr(t){var n=ll;return ll+=1,Gs===null&&(Gs=[]),Rp(Gs,t,n)}function rl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Zr(t,n){throw n.$$typeof===_?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function kp(t){function n(T,N){if(t){var D=T.deletions;D===null?(T.deletions=[N],T.flags|=16):D.push(N)}}function a(T,N){if(!t)return null;for(;N!==null;)n(T,N),N=N.sibling;return null}function r(T){for(var N=new Map;T!==null;)T.key!==null?N.set(T.key,T):N.set(T.index,T),T=T.sibling;return N}function u(T,N){return T=Dn(T,N),T.index=0,T.sibling=null,T}function d(T,N,D){return T.index=D,t?(D=T.alternate,D!==null?(D=D.index,D<N?(T.flags|=67108866,N):D):(T.flags|=67108866,N)):(T.flags|=1048576,N)}function y(T){return t&&T.alternate===null&&(T.flags|=67108866),T}function x(T,N,D,B){return N===null||N.tag!==6?(N=Au(D,T.mode,B),N.return=T,N):(N=u(N,D),N.return=T,N)}function C(T,N,D,B){var se=D.type;return se===A?H(T,N,D.props.children,B,D.key):N!==null&&(N.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===G&&is(se)===N.type)?(N=u(N,D.props),rl(N,D),N.return=T,N):(N=Fr(D.type,D.key,D.props,null,T.mode,B),rl(N,D),N.return=T,N)}function M(T,N,D,B){return N===null||N.tag!==4||N.stateNode.containerInfo!==D.containerInfo||N.stateNode.implementation!==D.implementation?(N=Iu(D,T.mode,B),N.return=T,N):(N=u(N,D.children||[]),N.return=T,N)}function H(T,N,D,B,se){return N===null||N.tag!==7?(N=Zi(D,T.mode,B,se),N.return=T,N):(N=u(N,D),N.return=T,N)}function q(T,N,D){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Au(""+N,T.mode,D),N.return=T,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case E:return D=Fr(N.type,N.key,N.props,null,T.mode,D),rl(D,N),D.return=T,D;case S:return N=Iu(N,T.mode,D),N.return=T,N;case G:return N=is(N),q(T,N,D)}if(Q(N)||Ye(N))return N=Zi(N,T.mode,D,null),N.return=T,N;if(typeof N.then=="function")return q(T,Wr(N),D);if(N.$$typeof===z)return q(T,Qr(T,N),D);Zr(T,N)}return null}function j(T,N,D,B){var se=N!==null?N.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return se!==null?null:x(T,N,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case E:return D.key===se?C(T,N,D,B):null;case S:return D.key===se?M(T,N,D,B):null;case G:return D=is(D),j(T,N,D,B)}if(Q(D)||Ye(D))return se!==null?null:H(T,N,D,B,null);if(typeof D.then=="function")return j(T,N,Wr(D),B);if(D.$$typeof===z)return j(T,N,Qr(T,D),B);Zr(T,D)}return null}function P(T,N,D,B,se){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return T=T.get(D)||null,x(N,T,""+B,se);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return T=T.get(B.key===null?D:B.key)||null,C(N,T,B,se);case S:return T=T.get(B.key===null?D:B.key)||null,M(N,T,B,se);case G:return B=is(B),P(T,N,D,B,se)}if(Q(B)||Ye(B))return T=T.get(D)||null,H(N,T,B,se,null);if(typeof B.then=="function")return P(T,N,D,Wr(B),se);if(B.$$typeof===z)return P(T,N,D,Qr(N,B),se);Zr(N,B)}return null}function ee(T,N,D,B){for(var se=null,Ne=null,te=N,ue=N=0,xe=null;te!==null&&ue<D.length;ue++){te.index>ue?(xe=te,te=null):xe=te.sibling;var we=j(T,te,D[ue],B);if(we===null){te===null&&(te=xe);break}t&&te&&we.alternate===null&&n(T,te),N=d(we,N,ue),Ne===null?se=we:Ne.sibling=we,Ne=we,te=xe}if(ue===D.length)return a(T,te),Ee&&Mn(T,ue),se;if(te===null){for(;ue<D.length;ue++)te=q(T,D[ue],B),te!==null&&(N=d(te,N,ue),Ne===null?se=te:Ne.sibling=te,Ne=te);return Ee&&Mn(T,ue),se}for(te=r(te);ue<D.length;ue++)xe=P(te,T,ue,D[ue],B),xe!==null&&(t&&xe.alternate!==null&&te.delete(xe.key===null?ue:xe.key),N=d(xe,N,ue),Ne===null?se=xe:Ne.sibling=xe,Ne=xe);return t&&te.forEach(function(Ti){return n(T,Ti)}),Ee&&Mn(T,ue),se}function ae(T,N,D,B){if(D==null)throw Error(l(151));for(var se=null,Ne=null,te=N,ue=N=0,xe=null,we=D.next();te!==null&&!we.done;ue++,we=D.next()){te.index>ue?(xe=te,te=null):xe=te.sibling;var Ti=j(T,te,we.value,B);if(Ti===null){te===null&&(te=xe);break}t&&te&&Ti.alternate===null&&n(T,te),N=d(Ti,N,ue),Ne===null?se=Ti:Ne.sibling=Ti,Ne=Ti,te=xe}if(we.done)return a(T,te),Ee&&Mn(T,ue),se;if(te===null){for(;!we.done;ue++,we=D.next())we=q(T,we.value,B),we!==null&&(N=d(we,N,ue),Ne===null?se=we:Ne.sibling=we,Ne=we);return Ee&&Mn(T,ue),se}for(te=r(te);!we.done;ue++,we=D.next())we=P(te,T,ue,we.value,B),we!==null&&(t&&we.alternate!==null&&te.delete(we.key===null?ue:we.key),N=d(we,N,ue),Ne===null?se=we:Ne.sibling=we,Ne=we);return t&&te.forEach(function(eC){return n(T,eC)}),Ee&&Mn(T,ue),se}function Me(T,N,D,B){if(typeof D=="object"&&D!==null&&D.type===A&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case E:e:{for(var se=D.key;N!==null;){if(N.key===se){if(se=D.type,se===A){if(N.tag===7){a(T,N.sibling),B=u(N,D.props.children),B.return=T,T=B;break e}}else if(N.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===G&&is(se)===N.type){a(T,N.sibling),B=u(N,D.props),rl(B,D),B.return=T,T=B;break e}a(T,N);break}else n(T,N);N=N.sibling}D.type===A?(B=Zi(D.props.children,T.mode,B,D.key),B.return=T,T=B):(B=Fr(D.type,D.key,D.props,null,T.mode,B),rl(B,D),B.return=T,T=B)}return y(T);case S:e:{for(se=D.key;N!==null;){if(N.key===se)if(N.tag===4&&N.stateNode.containerInfo===D.containerInfo&&N.stateNode.implementation===D.implementation){a(T,N.sibling),B=u(N,D.children||[]),B.return=T,T=B;break e}else{a(T,N);break}else n(T,N);N=N.sibling}B=Iu(D,T.mode,B),B.return=T,T=B}return y(T);case G:return D=is(D),Me(T,N,D,B)}if(Q(D))return ee(T,N,D,B);if(Ye(D)){if(se=Ye(D),typeof se!="function")throw Error(l(150));return D=se.call(D),ae(T,N,D,B)}if(typeof D.then=="function")return Me(T,N,Wr(D),B);if(D.$$typeof===z)return Me(T,N,Qr(T,D),B);Zr(T,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,N!==null&&N.tag===6?(a(T,N.sibling),B=u(N,D),B.return=T,T=B):(a(T,N),B=Au(D,T.mode,B),B.return=T,T=B),y(T)):a(T,N)}return function(T,N,D,B){try{ll=0;var se=Me(T,N,D,B);return Gs=null,se}catch(te){if(te===Ys||te===$r)throw te;var Ne=Ft(29,te,null,T.mode);return Ne.lanes=B,Ne.return=T,Ne}finally{}}}var as=kp(!0),Op=kp(!1),ui=!1;function qu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function di(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function fi(t,n,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Te&2)!==0){var u=r.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),r.pending=n,n=Vr(t),pp(t,null,a),n}return qr(t,r,n,a),Vr(t)}function ol(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var r=n.lanes;r&=t.pendingLanes,a|=r,n.lanes=a,Cm(t,a)}}function Fu(t,n){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var u=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?u=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?u=d=n:d=d.next=n}else u=d=n;a={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Yu=!1;function cl(){if(Yu){var t=Fs;if(t!==null)throw t}}function ul(t,n,a,r){Yu=!1;var u=t.updateQueue;ui=!1;var d=u.firstBaseUpdate,y=u.lastBaseUpdate,x=u.shared.pending;if(x!==null){u.shared.pending=null;var C=x,M=C.next;C.next=null,y===null?d=M:y.next=M,y=C;var H=t.alternate;H!==null&&(H=H.updateQueue,x=H.lastBaseUpdate,x!==y&&(x===null?H.firstBaseUpdate=M:x.next=M,H.lastBaseUpdate=C))}if(d!==null){var q=u.baseState;y=0,H=M=C=null,x=d;do{var j=x.lane&-536870913,P=j!==x.lane;if(P?(be&j)===j:(r&j)===j){j!==0&&j===Vs&&(Yu=!0),H!==null&&(H=H.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ee=t,ae=x;j=n;var Me=a;switch(ae.tag){case 1:if(ee=ae.payload,typeof ee=="function"){q=ee.call(Me,q,j);break e}q=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=ae.payload,j=typeof ee=="function"?ee.call(Me,q,j):ee,j==null)break e;q=b({},q,j);break e;case 2:ui=!0}}j=x.callback,j!==null&&(t.flags|=64,P&&(t.flags|=8192),P=u.callbacks,P===null?u.callbacks=[j]:P.push(j))}else P={lane:j,tag:x.tag,payload:x.payload,callback:x.callback,next:null},H===null?(M=H=P,C=q):H=H.next=P,y|=j;if(x=x.next,x===null){if(x=u.shared.pending,x===null)break;P=x,x=P.next,P.next=null,u.lastBaseUpdate=P,u.shared.pending=null}}while(!0);H===null&&(C=q),u.baseState=C,u.firstBaseUpdate=M,u.lastBaseUpdate=H,d===null&&(u.shared.lanes=0),yi|=y,t.lanes=y,t.memoizedState=q}}function Dp(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function Mp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Dp(a[t],n)}var Qs=w(null),Jr=w(0);function Lp(t,n){t=Yn,V(Jr,t),V(Qs,n),Yn=t|n.baseLanes}function Gu(){V(Jr,Yn),V(Qs,Qs.current)}function Qu(){Yn=Jr.current,R(Qs),R(Jr)}var Yt=w(null),an=null;function hi(t){var n=t.alternate;V(Je,Je.current&1),V(Yt,t),an===null&&(n===null||Qs.current!==null||n.memoizedState!==null)&&(an=t)}function Ku(t){V(Je,Je.current),V(Yt,t),an===null&&(an=t)}function jp(t){t.tag===22?(V(Je,Je.current),V(Yt,t),an===null&&(an=t)):mi()}function mi(){V(Je,Je.current),V(Yt,Yt.current)}function Gt(t){R(Yt),an===t&&(an=null),R(Je)}var Je=w(0);function eo(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ef(a)||tf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Un=0,ce=null,Oe=null,it=null,to=!1,Ks=!1,ls=!1,no=0,dl=0,$s=null,F1=0;function Qe(){throw Error(l(321))}function $u(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Vt(t[a],n[a]))return!1;return!0}function Xu(t,n,a,r,u,d){return Un=d,ce=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=t===null||t.memoizedState===null?_g:dd,ls=!1,d=a(r,u),ls=!1,Ks&&(d=zp(n,a,r,u)),Up(t),d}function Up(t){U.H=ml;var n=Oe!==null&&Oe.next!==null;if(Un=0,it=Oe=ce=null,to=!1,dl=0,$s=null,n)throw Error(l(300));t===null||st||(t=t.dependencies,t!==null&&Gr(t)&&(st=!0))}function zp(t,n,a,r){ce=t;var u=0;do{if(Ks&&($s=null),dl=0,Ks=!1,25<=u)throw Error(l(301));if(u+=1,it=Oe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}U.H=bg,d=n(a,r)}while(Ks);return d}function Y1(){var t=U.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(Oe!==null?Oe.memoizedState:null)!==t&&(ce.flags|=1024),n}function Wu(){var t=no!==0;return no=0,t}function Zu(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Ju(t){if(to){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}to=!1}Un=0,it=Oe=ce=null,Ks=!1,dl=no=0,$s=null}function wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?ce.memoizedState=it=t:it=it.next=t,it}function et(){if(Oe===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var n=it===null?ce.memoizedState:it.next;if(n!==null)it=n,Oe=t;else{if(t===null)throw ce.alternate===null?Error(l(467)):Error(l(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},it===null?ce.memoizedState=it=t:it=it.next=t}return it}function io(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=dl;return dl+=1,$s===null&&($s=[]),t=Rp($s,t,n),n=ce,(it===null?n.memoizedState:it.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?_g:dd),t}function so(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===z)return gt(t)}throw Error(l(438,String(t)))}function ed(t){var n=null,a=ce.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var r=ce.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=io(),ce.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),r=0;r<t;r++)a[r]=_e;return n.index++,a}function zn(t,n){return typeof n=="function"?n(t):n}function ao(t){var n=et();return td(n,Oe,t)}function td(t,n,a){var r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=a;var u=t.baseQueue,d=r.pending;if(d!==null){if(u!==null){var y=u.next;u.next=d.next,d.next=y}n.baseQueue=u=d,r.pending=null}if(d=t.baseState,u===null)t.memoizedState=d;else{n=u.next;var x=y=null,C=null,M=n,H=!1;do{var q=M.lane&-536870913;if(q!==M.lane?(be&q)===q:(Un&q)===q){var j=M.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),q===Vs&&(H=!0);else if((Un&j)===j){M=M.next,j===Vs&&(H=!0);continue}else q={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},C===null?(x=C=q,y=d):C=C.next=q,ce.lanes|=j,yi|=j;q=M.action,ls&&a(d,q),d=M.hasEagerState?M.eagerState:a(d,q)}else j={lane:q,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},C===null?(x=C=j,y=d):C=C.next=j,ce.lanes|=q,yi|=q;M=M.next}while(M!==null&&M!==n);if(C===null?y=d:C.next=x,!Vt(d,t.memoizedState)&&(st=!0,H&&(a=Fs,a!==null)))throw a;t.memoizedState=d,t.baseState=y,t.baseQueue=C,r.lastRenderedState=d}return u===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function nd(t){var n=et(),a=n.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=t;var r=a.dispatch,u=a.pending,d=n.memoizedState;if(u!==null){a.pending=null;var y=u=u.next;do d=t(d,y.action),y=y.next;while(y!==u);Vt(d,n.memoizedState)||(st=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,r]}function Pp(t,n,a){var r=ce,u=et(),d=Ee;if(d){if(a===void 0)throw Error(l(407));a=a()}else a=n();var y=!Vt((Oe||u).memoizedState,a);if(y&&(u.memoizedState=a,st=!0),u=u.queue,ad(qp.bind(null,r,u,t),[t]),u.getSnapshot!==n||y||it!==null&&it.memoizedState.tag&1){if(r.flags|=2048,Xs(9,{destroy:void 0},Bp.bind(null,r,u,a,n),null),Ue===null)throw Error(l(349));d||(Un&127)!==0||Hp(r,n,a)}return a}function Hp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=ce.updateQueue,n===null?(n=io(),ce.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Bp(t,n,a,r){n.value=a,n.getSnapshot=r,Vp(n)&&Fp(t)}function qp(t,n,a){return a(function(){Vp(n)&&Fp(t)})}function Vp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Vt(t,a)}catch{return!0}}function Fp(t){var n=Wi(t,2);n!==null&&Ut(n,t,2)}function id(t){var n=wt();if(typeof t=="function"){var a=t;if(t=a(),ls){ii(!0);try{a()}finally{ii(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:t},n}function Yp(t,n,a,r){return t.baseState=a,td(t,Oe,typeof r=="function"?r:zn)}function G1(t,n,a,r,u){if(oo(t))throw Error(l(485));if(t=n.action,t!==null){var d={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};U.T!==null?a(!0):d.isTransition=!1,r(d),a=n.pending,a===null?(d.next=n.pending=d,Gp(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Gp(t,n){var a=n.action,r=n.payload,u=t.state;if(n.isTransition){var d=U.T,y={};U.T=y;try{var x=a(u,r),C=U.S;C!==null&&C(y,x),Qp(t,n,x)}catch(M){sd(t,n,M)}finally{d!==null&&y.types!==null&&(d.types=y.types),U.T=d}}else try{d=a(u,r),Qp(t,n,d)}catch(M){sd(t,n,M)}}function Qp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Kp(t,n,r)},function(r){return sd(t,n,r)}):Kp(t,n,a)}function Kp(t,n,a){n.status="fulfilled",n.value=a,$p(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Gp(t,a)))}function sd(t,n,a){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=a,$p(n),n=n.next;while(n!==r)}t.action=null}function $p(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Xp(t,n){return n}function Wp(t,n){if(Ee){var a=Ue.formState;if(a!==null){e:{var r=ce;if(Ee){if(He){t:{for(var u=He,d=sn;u.nodeType!==8;){if(!d){u=null;break t}if(u=ln(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){He=ln(u.nextSibling),r=u.data==="F!";break e}}oi(r)}r=!1}r&&(n=a[0])}}return a=wt(),a.memoizedState=a.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xp,lastRenderedState:n},a.queue=r,a=gg.bind(null,ce,r),r.dispatch=a,r=id(!1),d=ud.bind(null,ce,!1,r.queue),r=wt(),u={state:n,dispatch:null,action:t,pending:null},r.queue=u,a=G1.bind(null,ce,u,d,a),u.dispatch=a,r.memoizedState=t,[n,a,!1]}function Zp(t){var n=et();return Jp(n,Oe,t)}function Jp(t,n,a){if(n=td(t,n,Xp)[0],t=ao(zn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=fl(n)}catch(y){throw y===Ys?$r:y}else r=n;n=et();var u=n.queue,d=u.dispatch;return a!==n.memoizedState&&(ce.flags|=2048,Xs(9,{destroy:void 0},Q1.bind(null,u,a),null)),[r,d,t]}function Q1(t,n){t.action=n}function eg(t){var n=et(),a=Oe;if(a!==null)return Jp(n,a,t);et(),n=n.memoizedState,a=et();var r=a.queue.dispatch;return a.memoizedState=t,[n,r,!1]}function Xs(t,n,a,r){return t={tag:t,create:a,deps:r,inst:n,next:null},n=ce.updateQueue,n===null&&(n=io(),ce.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,n.lastEffect=t),t}function tg(){return et().memoizedState}function lo(t,n,a,r){var u=wt();ce.flags|=t,u.memoizedState=Xs(1|n,{destroy:void 0},a,r===void 0?null:r)}function ro(t,n,a,r){var u=et();r=r===void 0?null:r;var d=u.memoizedState.inst;Oe!==null&&r!==null&&$u(r,Oe.memoizedState.deps)?u.memoizedState=Xs(n,d,a,r):(ce.flags|=t,u.memoizedState=Xs(1|n,d,a,r))}function ng(t,n){lo(8390656,8,t,n)}function ad(t,n){ro(2048,8,t,n)}function K1(t){ce.flags|=4;var n=ce.updateQueue;if(n===null)n=io(),ce.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function ig(t){var n=et().memoizedState;return K1({ref:n,nextImpl:t}),function(){if((Te&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function sg(t,n){return ro(4,2,t,n)}function ag(t,n){return ro(4,4,t,n)}function lg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function rg(t,n,a){a=a!=null?a.concat([t]):null,ro(4,4,lg.bind(null,n,t),a)}function ld(){}function og(t,n){var a=et();n=n===void 0?null:n;var r=a.memoizedState;return n!==null&&$u(n,r[1])?r[0]:(a.memoizedState=[t,n],t)}function cg(t,n){var a=et();n=n===void 0?null:n;var r=a.memoizedState;if(n!==null&&$u(n,r[1]))return r[0];if(r=t(),ls){ii(!0);try{t()}finally{ii(!1)}}return a.memoizedState=[r,n],r}function rd(t,n,a){return a===void 0||(Un&1073741824)!==0&&(be&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=u0(),ce.lanes|=t,yi|=t,a)}function ug(t,n,a,r){return Vt(a,n)?a:Qs.current!==null?(t=rd(t,a,r),Vt(t,n)||(st=!0),t):(Un&42)===0||(Un&1073741824)!==0&&(be&261930)===0?(st=!0,t.memoizedState=a):(t=u0(),ce.lanes|=t,yi|=t,n)}function dg(t,n,a,r,u){var d=$.p;$.p=d!==0&&8>d?d:8;var y=U.T,x={};U.T=x,ud(t,!1,n,a);try{var C=u(),M=U.S;if(M!==null&&M(x,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=V1(C,r);hl(t,n,H,$t(t))}else hl(t,n,r,$t(t))}catch(q){hl(t,n,{then:function(){},status:"rejected",reason:q},$t())}finally{$.p=d,y!==null&&x.types!==null&&(y.types=x.types),U.T=y}}function $1(){}function od(t,n,a,r){if(t.tag!==5)throw Error(l(476));var u=fg(t).queue;dg(t,u,n,ie,a===null?$1:function(){return hg(t),a(r)})}function fg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:ie},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function hg(t){var n=fg(t);n.next===null&&(n=t.alternate.memoizedState),hl(t,n.next.queue,{},$t())}function cd(){return gt(Il)}function mg(){return et().memoizedState}function pg(){return et().memoizedState}function X1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=$t();t=di(a);var r=fi(n,t,a);r!==null&&(Ut(r,n,a),ol(r,n,a)),n={cache:zu()},t.payload=n;return}n=n.return}}function W1(t,n,a){var r=$t();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oo(t)?yg(n,a):(a=Tu(t,n,a,r),a!==null&&(Ut(a,t,r),vg(a,n,r)))}function gg(t,n,a){var r=$t();hl(t,n,a,r)}function hl(t,n,a,r){var u={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oo(t))yg(n,u);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,x=d(y,a);if(u.hasEagerState=!0,u.eagerState=x,Vt(x,y))return qr(t,n,u,0),Ue===null&&Br(),!1}catch{}finally{}if(a=Tu(t,n,u,r),a!==null)return Ut(a,t,r),vg(a,n,r),!0}return!1}function ud(t,n,a,r){if(r={lane:2,revertLane:qd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},oo(t)){if(n)throw Error(l(479))}else n=Tu(t,a,r,2),n!==null&&Ut(n,t,2)}function oo(t){var n=t.alternate;return t===ce||n!==null&&n===ce}function yg(t,n){Ks=to=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function vg(t,n,a){if((a&4194048)!==0){var r=n.lanes;r&=t.pendingLanes,a|=r,n.lanes=a,Cm(t,a)}}var ml={readContext:gt,use:so,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};ml.useEffectEvent=Qe;var _g={readContext:gt,use:so,useCallback:function(t,n){return wt().memoizedState=[t,n===void 0?null:n],t},useContext:gt,useEffect:ng,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,lo(4194308,4,lg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return lo(4194308,4,t,n)},useInsertionEffect:function(t,n){lo(4,2,t,n)},useMemo:function(t,n){var a=wt();n=n===void 0?null:n;var r=t();if(ls){ii(!0);try{t()}finally{ii(!1)}}return a.memoizedState=[r,n],r},useReducer:function(t,n,a){var r=wt();if(a!==void 0){var u=a(n);if(ls){ii(!0);try{a(n)}finally{ii(!1)}}}else u=n;return r.memoizedState=r.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},r.queue=t,t=t.dispatch=W1.bind(null,ce,t),[r.memoizedState,t]},useRef:function(t){var n=wt();return t={current:t},n.memoizedState=t},useState:function(t){t=id(t);var n=t.queue,a=gg.bind(null,ce,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:ld,useDeferredValue:function(t,n){var a=wt();return rd(a,t,n)},useTransition:function(){var t=id(!1);return t=dg.bind(null,ce,t.queue,!0,!1),wt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var r=ce,u=wt();if(Ee){if(a===void 0)throw Error(l(407));a=a()}else{if(a=n(),Ue===null)throw Error(l(349));(be&127)!==0||Hp(r,n,a)}u.memoizedState=a;var d={value:a,getSnapshot:n};return u.queue=d,ng(qp.bind(null,r,d,t),[t]),r.flags|=2048,Xs(9,{destroy:void 0},Bp.bind(null,r,d,a,n),null),a},useId:function(){var t=wt(),n=Ue.identifierPrefix;if(Ee){var a=En,r=xn;a=(r&~(1<<32-qt(r)-1)).toString(32)+a,n="_"+n+"R_"+a,a=no++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=F1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:cd,useFormState:Wp,useActionState:Wp,useOptimistic:function(t){var n=wt();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ud.bind(null,ce,!0,a),a.dispatch=n,[t,n]},useMemoCache:ed,useCacheRefresh:function(){return wt().memoizedState=X1.bind(null,ce)},useEffectEvent:function(t){var n=wt(),a={impl:t};return n.memoizedState=a,function(){if((Te&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},dd={readContext:gt,use:so,useCallback:og,useContext:gt,useEffect:ad,useImperativeHandle:rg,useInsertionEffect:sg,useLayoutEffect:ag,useMemo:cg,useReducer:ao,useRef:tg,useState:function(){return ao(zn)},useDebugValue:ld,useDeferredValue:function(t,n){var a=et();return ug(a,Oe.memoizedState,t,n)},useTransition:function(){var t=ao(zn)[0],n=et().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Pp,useId:mg,useHostTransitionStatus:cd,useFormState:Zp,useActionState:Zp,useOptimistic:function(t,n){var a=et();return Yp(a,Oe,t,n)},useMemoCache:ed,useCacheRefresh:pg};dd.useEffectEvent=ig;var bg={readContext:gt,use:so,useCallback:og,useContext:gt,useEffect:ad,useImperativeHandle:rg,useInsertionEffect:sg,useLayoutEffect:ag,useMemo:cg,useReducer:nd,useRef:tg,useState:function(){return nd(zn)},useDebugValue:ld,useDeferredValue:function(t,n){var a=et();return Oe===null?rd(a,t,n):ug(a,Oe.memoizedState,t,n)},useTransition:function(){var t=nd(zn)[0],n=et().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Pp,useId:mg,useHostTransitionStatus:cd,useFormState:eg,useActionState:eg,useOptimistic:function(t,n){var a=et();return Oe!==null?Yp(a,Oe,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ed,useCacheRefresh:pg};bg.useEffectEvent=ig;function fd(t,n,a,r){n=t.memoizedState,a=a(r,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hd={enqueueSetState:function(t,n,a){t=t._reactInternals;var r=$t(),u=di(r);u.payload=n,a!=null&&(u.callback=a),n=fi(t,u,r),n!==null&&(Ut(n,t,r),ol(n,t,r))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var r=$t(),u=di(r);u.tag=1,u.payload=n,a!=null&&(u.callback=a),n=fi(t,u,r),n!==null&&(Ut(n,t,r),ol(n,t,r))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=$t(),r=di(a);r.tag=2,n!=null&&(r.callback=n),n=fi(t,r,a),n!==null&&(Ut(n,t,a),ol(n,t,a))}};function xg(t,n,a,r,u,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,d,y):n.prototype&&n.prototype.isPureReactComponent?!el(a,r)||!el(u,d):!0}function Eg(t,n,a,r){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,r),n.state!==t&&hd.enqueueReplaceState(n,n.state,null)}function rs(t,n){var a=n;if("ref"in n){a={};for(var r in n)r!=="ref"&&(a[r]=n[r])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var u in t)a[u]===void 0&&(a[u]=t[u])}return a}function Cg(t){Hr(t)}function Sg(t){console.error(t)}function Ng(t){Hr(t)}function co(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function wg(t,n,a){try{var r=t.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function md(t,n,a){return a=di(a),a.tag=3,a.payload={element:null},a.callback=function(){co(t,n)},a}function Tg(t){return t=di(t),t.tag=3,t}function Rg(t,n,a,r){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var d=r.value;t.payload=function(){return u(d)},t.callback=function(){wg(n,a,r)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){wg(n,a,r),typeof u!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})})}function Z1(t,n,a,r,u){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=a.alternate,n!==null&&qs(n,a,u,!0),a=Yt.current,a!==null){switch(a.tag){case 31:case 13:return an===null?Eo():a.alternate===null&&Ke===0&&(Ke=3),a.flags&=-257,a.flags|=65536,a.lanes=u,r===Xr?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([r]):n.add(r),Pd(t,r,u)),!1;case 22:return a.flags|=65536,r===Xr?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([r]):a.add(r)),Pd(t,r,u)),!1}throw Error(l(435,a.tag))}return Pd(t,r,u),Eo(),!1}if(Ee)return n=Yt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,r!==Du&&(t=Error(l(422),{cause:r}),il(en(t,a)))):(r!==Du&&(n=Error(l(423),{cause:r}),il(en(n,a))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,r=en(r,a),u=md(t.stateNode,r,u),Fu(t,u),Ke!==4&&(Ke=2)),!1;var d=Error(l(520),{cause:r});if(d=en(d,a),El===null?El=[d]:El.push(d),Ke!==4&&(Ke=2),n===null)return!0;r=en(r,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=u&-u,a.lanes|=t,t=md(a.stateNode,r,t),Fu(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(vi===null||!vi.has(d))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Tg(u),Rg(u,t,a,r),Fu(a,u),!1}a=a.return}while(a!==null);return!1}var pd=Error(l(461)),st=!1;function yt(t,n,a,r){n.child=t===null?Op(n,null,a,r):as(n,t.child,a,r)}function Ag(t,n,a,r,u){a=a.render;var d=n.ref;if("ref"in r){var y={};for(var x in r)x!=="ref"&&(y[x]=r[x])}else y=r;return ts(n),r=Xu(t,n,a,y,d,u),x=Wu(),t!==null&&!st?(Zu(t,n,u),Pn(t,n,u)):(Ee&&x&&ku(n),n.flags|=1,yt(t,n,r,u),n.child)}function Ig(t,n,a,r,u){if(t===null){var d=a.type;return typeof d=="function"&&!Ru(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,kg(t,n,d,r,u)):(t=Fr(a.type,null,r,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Cd(t,u)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(y,r)&&t.ref===n.ref)return Pn(t,n,u)}return n.flags|=1,t=Dn(d,r),t.ref=n.ref,t.return=n,n.child=t}function kg(t,n,a,r,u){if(t!==null){var d=t.memoizedProps;if(el(d,r)&&t.ref===n.ref)if(st=!1,n.pendingProps=r=d,Cd(t,u))(t.flags&131072)!==0&&(st=!0);else return n.lanes=t.lanes,Pn(t,n,u)}return gd(t,n,a,r,u)}function Og(t,n,a,r){var u=r.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(r=n.child=t.child,u=0;r!==null;)u=u|r.lanes|r.childLanes,r=r.sibling;r=u&~d}else r=0,n.child=null;return Dg(t,n,d,a,r)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Kr(n,d!==null?d.cachePool:null),d!==null?Lp(n,d):Gu(),jp(n);else return r=n.lanes=536870912,Dg(t,n,d!==null?d.baseLanes|a:a,a,r)}else d!==null?(Kr(n,d.cachePool),Lp(n,d),mi(),n.memoizedState=null):(t!==null&&Kr(n,null),Gu(),mi());return yt(t,n,u,a),n.child}function pl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Dg(t,n,a,r,u){var d=Hu();return d=d===null?null:{parent:nt._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},t!==null&&Kr(n,null),Gu(),jp(n),t!==null&&qs(t,n,r,!0),n.childLanes=u,null}function uo(t,n){return n=ho({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Mg(t,n,a){return as(n,t.child,null,a),t=uo(n,n.pendingProps),t.flags|=2,Gt(n),n.memoizedState=null,t}function J1(t,n,a){var r=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ee){if(r.mode==="hidden")return t=uo(n,r),n.lanes=536870912,pl(null,t);if(Ku(n),(t=He)?(t=G0(t,sn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:li!==null?{id:xn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},a=yp(t),a.return=n,n.child=a,pt=n,He=null)):t=null,t===null)throw oi(n);return n.lanes=536870912,null}return uo(n,r)}var d=t.memoizedState;if(d!==null){var y=d.dehydrated;if(Ku(n),u)if(n.flags&256)n.flags&=-257,n=Mg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(l(558));else if(st||qs(t,n,a,!1),u=(a&t.childLanes)!==0,st||u){if(r=Ue,r!==null&&(y=Sm(r,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,Wi(t,y),Ut(r,t,y),pd;Eo(),n=Mg(t,n,a)}else t=d.treeContext,He=ln(y.nextSibling),pt=n,Ee=!0,ri=null,sn=!1,t!==null&&bp(n,t),n=uo(n,r),n.flags|=4096;return n}return t=Dn(t.child,{mode:r.mode,children:r.children}),t.ref=n.ref,n.child=t,t.return=n,t}function fo(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function gd(t,n,a,r,u){return ts(n),a=Xu(t,n,a,r,void 0,u),r=Wu(),t!==null&&!st?(Zu(t,n,u),Pn(t,n,u)):(Ee&&r&&ku(n),n.flags|=1,yt(t,n,a,u),n.child)}function Lg(t,n,a,r,u,d){return ts(n),n.updateQueue=null,a=zp(n,r,a,u),Up(t),r=Wu(),t!==null&&!st?(Zu(t,n,d),Pn(t,n,d)):(Ee&&r&&ku(n),n.flags|=1,yt(t,n,a,d),n.child)}function jg(t,n,a,r,u){if(ts(n),n.stateNode===null){var d=zs,y=a.contextType;typeof y=="object"&&y!==null&&(d=gt(y)),d=new a(r,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hd,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=r,d.state=n.memoizedState,d.refs={},qu(n),y=a.contextType,d.context=typeof y=="object"&&y!==null?gt(y):zs,d.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(fd(n,a,y,r),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&hd.enqueueReplaceState(d,d.state,null),ul(n,r,d,u),cl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(t===null){d=n.stateNode;var x=n.memoizedProps,C=rs(a,x);d.props=C;var M=d.context,H=a.contextType;y=zs,typeof H=="object"&&H!==null&&(y=gt(H));var q=a.getDerivedStateFromProps;H=typeof q=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,H||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||M!==y)&&Eg(n,d,r,y),ui=!1;var j=n.memoizedState;d.state=j,ul(n,r,d,u),cl(),M=n.memoizedState,x||j!==M||ui?(typeof q=="function"&&(fd(n,a,q,r),M=n.memoizedState),(C=ui||xg(n,a,C,r,j,M,y))?(H||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=M),d.props=r,d.state=M,d.context=y,r=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{d=n.stateNode,Vu(t,n),y=n.memoizedProps,H=rs(a,y),d.props=H,q=n.pendingProps,j=d.context,M=a.contextType,C=zs,typeof M=="object"&&M!==null&&(C=gt(M)),x=a.getDerivedStateFromProps,(M=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==q||j!==C)&&Eg(n,d,r,C),ui=!1,j=n.memoizedState,d.state=j,ul(n,r,d,u),cl();var P=n.memoizedState;y!==q||j!==P||ui||t!==null&&t.dependencies!==null&&Gr(t.dependencies)?(typeof x=="function"&&(fd(n,a,x,r),P=n.memoizedState),(H=ui||xg(n,a,H,r,j,P,C)||t!==null&&t.dependencies!==null&&Gr(t.dependencies))?(M||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,P,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,P,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=P),d.props=r,d.state=P,d.context=C,r=H):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),r=!1)}return d=r,fo(t,n),r=(n.flags&128)!==0,d||r?(d=n.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&r?(n.child=as(n,t.child,null,u),n.child=as(n,null,a,u)):yt(t,n,a,u),n.memoizedState=d.state,t=n.child):t=Pn(t,n,u),t}function Ug(t,n,a,r){return Ji(),n.flags|=256,yt(t,n,a,r),n.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(t){return{baseLanes:t,cachePool:wp()}}function _d(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Kt),t}function zg(t,n,a){var r=n.pendingProps,u=!1,d=(n.flags&128)!==0,y;if((y=d)||(y=t!==null&&t.memoizedState===null?!1:(Je.current&2)!==0),y&&(u=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ee){if(u?hi(n):mi(),(t=He)?(t=G0(t,sn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:li!==null?{id:xn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},a=yp(t),a.return=n,n.child=a,pt=n,He=null)):t=null,t===null)throw oi(n);return tf(t)?n.lanes=32:n.lanes=536870912,null}var x=r.children;return r=r.fallback,u?(mi(),u=n.mode,x=ho({mode:"hidden",children:x},u),r=Zi(r,u,a,null),x.return=n,r.return=n,x.sibling=r,n.child=x,r=n.child,r.memoizedState=vd(a),r.childLanes=_d(t,y,a),n.memoizedState=yd,pl(null,r)):(hi(n),bd(n,x))}var C=t.memoizedState;if(C!==null&&(x=C.dehydrated,x!==null)){if(d)n.flags&256?(hi(n),n.flags&=-257,n=xd(t,n,a)):n.memoizedState!==null?(mi(),n.child=t.child,n.flags|=128,n=null):(mi(),x=r.fallback,u=n.mode,r=ho({mode:"visible",children:r.children},u),x=Zi(x,u,a,null),x.flags|=2,r.return=n,x.return=n,r.sibling=x,n.child=r,as(n,t.child,null,a),r=n.child,r.memoizedState=vd(a),r.childLanes=_d(t,y,a),n.memoizedState=yd,n=pl(null,r));else if(hi(n),tf(x)){if(y=x.nextSibling&&x.nextSibling.dataset,y)var M=y.dgst;y=M,r=Error(l(419)),r.stack="",r.digest=y,il({value:r,source:null,stack:null}),n=xd(t,n,a)}else if(st||qs(t,n,a,!1),y=(a&t.childLanes)!==0,st||y){if(y=Ue,y!==null&&(r=Sm(y,a),r!==0&&r!==C.retryLane))throw C.retryLane=r,Wi(t,r),Ut(y,t,r),pd;ef(x)||Eo(),n=xd(t,n,a)}else ef(x)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,He=ln(x.nextSibling),pt=n,Ee=!0,ri=null,sn=!1,t!==null&&bp(n,t),n=bd(n,r.children),n.flags|=4096);return n}return u?(mi(),x=r.fallback,u=n.mode,C=t.child,M=C.sibling,r=Dn(C,{mode:"hidden",children:r.children}),r.subtreeFlags=C.subtreeFlags&65011712,M!==null?x=Dn(M,x):(x=Zi(x,u,a,null),x.flags|=2),x.return=n,r.return=n,r.sibling=x,n.child=r,pl(null,r),r=n.child,x=t.child.memoizedState,x===null?x=vd(a):(u=x.cachePool,u!==null?(C=nt._currentValue,u=u.parent!==C?{parent:C,pool:C}:u):u=wp(),x={baseLanes:x.baseLanes|a,cachePool:u}),r.memoizedState=x,r.childLanes=_d(t,y,a),n.memoizedState=yd,pl(t.child,r)):(hi(n),a=t.child,t=a.sibling,a=Dn(a,{mode:"visible",children:r.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function bd(t,n){return n=ho({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ho(t,n){return t=Ft(22,t,null,n),t.lanes=0,t}function xd(t,n,a){return as(n,t.child,null,a),t=bd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Pg(t,n,a){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n),ju(t.return,n,a)}function Ed(t,n,a,r,u,d){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:u,treeForkCount:d}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=r,y.tail=a,y.tailMode=u,y.treeForkCount=d)}function Hg(t,n,a){var r=n.pendingProps,u=r.revealOrder,d=r.tail;r=r.children;var y=Je.current,x=(y&2)!==0;if(x?(y=y&1|2,n.flags|=128):y&=1,V(Je,y),yt(t,n,r,a),r=Ee?nl:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pg(t,a,n);else if(t.tag===19)Pg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(a=n.child,u=null;a!==null;)t=a.alternate,t!==null&&eo(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=n.child,n.child=null):(u=a.sibling,a.sibling=null),Ed(n,!1,u,a,d,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&eo(t)===null){n.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}Ed(n,!0,a,null,d,r);break;case"together":Ed(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function Pn(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),yi|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(qs(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,a=Dn(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Dn(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Cd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Gr(t)))}function eE(t,n,a){switch(n.tag){case 3:Nt(n,n.stateNode.containerInfo),ci(n,nt,t.memoizedState.cache),Ji();break;case 27:case 5:Ba(n);break;case 4:Nt(n,n.stateNode.containerInfo);break;case 10:ci(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ku(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(hi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?zg(t,n,a):(hi(n),t=Pn(t,n,a),t!==null?t.sibling:null);hi(n);break;case 19:var u=(t.flags&128)!==0;if(r=(a&n.childLanes)!==0,r||(qs(t,n,a,!1),r=(a&n.childLanes)!==0),u){if(r)return Hg(t,n,a);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),V(Je,Je.current),r)break;return null;case 22:return n.lanes=0,Og(t,n,a,n.pendingProps);case 24:ci(n,nt,t.memoizedState.cache)}return Pn(t,n,a)}function Bg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)st=!0;else{if(!Cd(t,a)&&(n.flags&128)===0)return st=!1,eE(t,n,a);st=(t.flags&131072)!==0}else st=!1,Ee&&(n.flags&1048576)!==0&&_p(n,nl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(t=is(n.elementType),n.type=t,typeof t=="function")Ru(t)?(r=rs(t,r),n.tag=1,n=jg(null,n,t,r,a)):(n.tag=0,n=gd(null,n,t,r,a));else{if(t!=null){var u=t.$$typeof;if(u===Y){n.tag=11,n=Ag(null,n,t,r,a);break e}else if(u===O){n.tag=14,n=Ig(null,n,t,r,a);break e}}throw n=Ge(t)||t,Error(l(306,n,""))}}return n;case 0:return gd(t,n,n.type,n.pendingProps,a);case 1:return r=n.type,u=rs(r,n.pendingProps),jg(t,n,r,u,a);case 3:e:{if(Nt(n,n.stateNode.containerInfo),t===null)throw Error(l(387));r=n.pendingProps;var d=n.memoizedState;u=d.element,Vu(t,n),ul(n,r,null,a);var y=n.memoizedState;if(r=y.cache,ci(n,nt,r),r!==d.cache&&Uu(n,[nt],a,!0),cl(),r=y.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Ug(t,n,r,a);break e}else if(r!==u){u=en(Error(l(424)),n),il(u),n=Ug(t,n,r,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(He=ln(t.firstChild),pt=n,Ee=!0,ri=null,sn=!0,a=Op(n,null,r,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ji(),r===u){n=Pn(t,n,a);break e}yt(t,n,r,a)}n=n.child}return n;case 26:return fo(t,n),t===null?(a=Z0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ee||(a=n.type,t=n.pendingProps,r=Ao(de.current).createElement(a),r[mt]=n,r[kt]=t,vt(r,a,t),ot(r),n.stateNode=r):n.memoizedState=Z0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ba(n),t===null&&Ee&&(r=n.stateNode=$0(n.type,n.pendingProps,de.current),pt=n,sn=!0,u=He,Ei(n.type)?(nf=u,He=ln(r.firstChild)):He=u),yt(t,n,n.pendingProps.children,a),fo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ee&&((u=r=He)&&(r=IE(r,n.type,n.pendingProps,sn),r!==null?(n.stateNode=r,pt=n,He=ln(r.firstChild),sn=!1,u=!0):u=!1),u||oi(n)),Ba(n),u=n.type,d=n.pendingProps,y=t!==null?t.memoizedProps:null,r=d.children,Wd(u,d)?r=null:y!==null&&Wd(u,y)&&(n.flags|=32),n.memoizedState!==null&&(u=Xu(t,n,Y1,null,null,a),Il._currentValue=u),fo(t,n),yt(t,n,r,a),n.child;case 6:return t===null&&Ee&&((t=a=He)&&(a=kE(a,n.pendingProps,sn),a!==null?(n.stateNode=a,pt=n,He=null,t=!0):t=!1),t||oi(n)),null;case 13:return zg(t,n,a);case 4:return Nt(n,n.stateNode.containerInfo),r=n.pendingProps,t===null?n.child=as(n,null,r,a):yt(t,n,r,a),n.child;case 11:return Ag(t,n,n.type,n.pendingProps,a);case 7:return yt(t,n,n.pendingProps,a),n.child;case 8:return yt(t,n,n.pendingProps.children,a),n.child;case 12:return yt(t,n,n.pendingProps.children,a),n.child;case 10:return r=n.pendingProps,ci(n,n.type,r.value),yt(t,n,r.children,a),n.child;case 9:return u=n.type._context,r=n.pendingProps.children,ts(n),u=gt(u),r=r(u),n.flags|=1,yt(t,n,r,a),n.child;case 14:return Ig(t,n,n.type,n.pendingProps,a);case 15:return kg(t,n,n.type,n.pendingProps,a);case 19:return Hg(t,n,a);case 31:return J1(t,n,a);case 22:return Og(t,n,a,n.pendingProps);case 24:return ts(n),r=gt(nt),t===null?(u=Hu(),u===null&&(u=Ue,d=zu(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=a),u=d),n.memoizedState={parent:r,cache:u},qu(n),ci(n,nt,u)):((t.lanes&a)!==0&&(Vu(t,n),ul(n,null,null,a),cl()),u=t.memoizedState,d=n.memoizedState,u.parent!==r?(u={parent:r,cache:r},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),ci(n,nt,r)):(r=d.cache,ci(n,nt,r),r!==u.cache&&Uu(n,[nt],a,!0))),yt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function Hn(t){t.flags|=4}function Sd(t,n,a,r,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(m0())t.flags|=8192;else throw ss=Xr,Bu}else t.flags&=-16777217}function qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!iy(n))if(m0())t.flags|=8192;else throw ss=Xr,Bu}function mo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?xm():536870912,t.lanes|=n,ea|=n)}function gl(t,n){if(!Ee)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Be(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(n)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=r,t.childLanes=a,n}function tE(t,n,a){var r=n.pendingProps;switch(Ou(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(n),null;case 1:return Be(n),null;case 3:return a=n.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),jn(nt),Ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Bs(n)?Hn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mu())),Be(n),null;case 26:var u=n.type,d=n.memoizedState;return t===null?(Hn(n),d!==null?(Be(n),qg(n,d)):(Be(n),Sd(n,u,null,r,a))):d?d!==t.memoizedState?(Hn(n),Be(n),qg(n,d)):(Be(n),n.flags&=-16777217):(t=t.memoizedProps,t!==r&&Hn(n),Be(n),Sd(n,u,t,r,a)),null;case 27:if(Sr(n),a=de.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==r&&Hn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return Be(n),null}t=Z.current,Bs(n)?xp(n):(t=$0(u,r,a),n.stateNode=t,Hn(n))}return Be(n),null;case 5:if(Sr(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==r&&Hn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return Be(n),null}if(d=Z.current,Bs(n))xp(n);else{var y=Ao(de.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof r.is=="string"?y.createElement("select",{is:r.is}):y.createElement("select"),r.multiple?d.multiple=!0:r.size&&(d.size=r.size);break;default:d=typeof r.is=="string"?y.createElement(u,{is:r.is}):y.createElement(u)}}d[mt]=n,d[kt]=r;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=d;e:switch(vt(d,u,r),u){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Hn(n)}}return Be(n),Sd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==r&&Hn(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(l(166));if(t=de.current,Bs(n)){if(t=n.stateNode,a=n.memoizedProps,r=null,u=pt,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}t[mt]=n,t=!!(t.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||z0(t.nodeValue,a)),t||oi(n,!0)}else t=Ao(t).createTextNode(r),t[mt]=n,n.stateNode=t}return Be(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(r=Bs(n),a!==null){if(t===null){if(!r)throw Error(l(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[mt]=n}else Ji(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Be(n),t=!1}else a=Mu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Gt(n),n):(Gt(n),null);if((n.flags&128)!==0)throw Error(l(558))}return Be(n),null;case 13:if(r=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Bs(n),r!==null&&r.dehydrated!==null){if(t===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[mt]=n}else Ji(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Be(n),u=!1}else u=Mu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(Gt(n),n):(Gt(n),null)}return Gt(n),(n.flags&128)!==0?(n.lanes=a,n):(a=r!==null,t=t!==null&&t.memoizedState!==null,a&&(r=n.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==u&&(r.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),mo(n,n.updateQueue),Be(n),null);case 4:return Ze(),t===null&&Gd(n.stateNode.containerInfo),Be(n),null;case 10:return jn(n.type),Be(n),null;case 19:if(R(Je),r=n.memoizedState,r===null)return Be(n),null;if(u=(n.flags&128)!==0,d=r.rendering,d===null)if(u)gl(r,!1);else{if(Ke!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=eo(t),d!==null){for(n.flags|=128,gl(r,!1),t=d.updateQueue,n.updateQueue=t,mo(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)gp(a,t),a=a.sibling;return V(Je,Je.current&1|2),Ee&&Mn(n,r.treeForkCount),n.child}t=t.sibling}r.tail!==null&&Ht()>_o&&(n.flags|=128,u=!0,gl(r,!1),n.lanes=4194304)}else{if(!u)if(t=eo(d),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,mo(n,t),gl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!d.alternate&&!Ee)return Be(n),null}else 2*Ht()-r.renderingStartTime>_o&&a!==536870912&&(n.flags|=128,u=!0,gl(r,!1),n.lanes=4194304);r.isBackwards?(d.sibling=n.child,n.child=d):(t=r.last,t!==null?t.sibling=d:n.child=d,r.last=d)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ht(),t.sibling=null,a=Je.current,V(Je,u?a&1|2:a&1),Ee&&Mn(n,r.treeForkCount),t):(Be(n),null);case 22:case 23:return Gt(n),Qu(),r=n.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(a&536870912)!==0&&(n.flags&128)===0&&(Be(n),n.subtreeFlags&6&&(n.flags|=8192)):Be(n),a=n.updateQueue,a!==null&&mo(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==a&&(n.flags|=2048),t!==null&&R(ns),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),jn(nt),Be(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function nE(t,n){switch(Ou(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return jn(nt),Ze(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Sr(n),null;case 31:if(n.memoizedState!==null){if(Gt(n),n.alternate===null)throw Error(l(340));Ji()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Gt(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));Ji()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return R(Je),null;case 4:return Ze(),null;case 10:return jn(n.type),null;case 22:case 23:return Gt(n),Qu(),t!==null&&R(ns),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return jn(nt),null;case 25:return null;default:return null}}function Vg(t,n){switch(Ou(n),n.tag){case 3:jn(nt),Ze();break;case 26:case 27:case 5:Sr(n);break;case 4:Ze();break;case 31:n.memoizedState!==null&&Gt(n);break;case 13:Gt(n);break;case 19:R(Je);break;case 10:jn(n.type);break;case 22:case 23:Gt(n),Qu(),t!==null&&R(ns);break;case 24:jn(nt)}}function yl(t,n){try{var a=n.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var u=r.next;a=u;do{if((a.tag&t)===t){r=void 0;var d=a.create,y=a.inst;r=d(),y.destroy=r}a=a.next}while(a!==u)}}catch(x){ke(n,n.return,x)}}function pi(t,n,a){try{var r=n.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var d=u.next;r=d;do{if((r.tag&t)===t){var y=r.inst,x=y.destroy;if(x!==void 0){y.destroy=void 0,u=n;var C=a,M=x;try{M()}catch(H){ke(u,C,H)}}}r=r.next}while(r!==d)}}catch(H){ke(n,n.return,H)}}function Fg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Mp(n,a)}catch(r){ke(t,t.return,r)}}}function Yg(t,n,a){a.props=rs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(r){ke(t,n,r)}}function vl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof a=="function"?t.refCleanup=a(r):a.current=r}}catch(u){ke(t,n,u)}}function Cn(t,n){var a=t.ref,r=t.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(u){ke(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){ke(t,n,u)}else a.current=null}function Gg(t){var n=t.type,a=t.memoizedProps,r=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(u){ke(t,t.return,u)}}function Nd(t,n,a){try{var r=t.stateNode;SE(r,t.type,a,n),r[kt]=n}catch(u){ke(t,t.return,u)}}function Qg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ei(t.type)||t.tag===4}function wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ei(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Td(t,n,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=kn));else if(r!==4&&(r===27&&Ei(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Td(t,n,a),t=t.sibling;t!==null;)Td(t,n,a),t=t.sibling}function po(t,n,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(r!==4&&(r===27&&Ei(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(po(t,n,a),t=t.sibling;t!==null;)po(t,n,a),t=t.sibling}function Kg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var r=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);vt(n,r,a),n[mt]=t,n[kt]=a}catch(d){ke(t,t.return,d)}}var Bn=!1,at=!1,Rd=!1,$g=typeof WeakSet=="function"?WeakSet:Set,ct=null;function iE(t,n){if(t=t.containerInfo,$d=jo,t=rp(t),xu(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var u=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var y=0,x=-1,C=-1,M=0,H=0,q=t,j=null;t:for(;;){for(var P;q!==a||u!==0&&q.nodeType!==3||(x=y+u),q!==d||r!==0&&q.nodeType!==3||(C=y+r),q.nodeType===3&&(y+=q.nodeValue.length),(P=q.firstChild)!==null;)j=q,q=P;for(;;){if(q===t)break t;if(j===a&&++M===u&&(x=y),j===d&&++H===r&&(C=y),(P=q.nextSibling)!==null)break;q=j,j=q.parentNode}q=P}a=x===-1||C===-1?null:{start:x,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xd={focusedElem:t,selectionRange:a},jo=!1,ct=n;ct!==null;)if(n=ct,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ct=t;else for(;ct!==null;){switch(n=ct,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)u=t[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,u=d.memoizedProps,d=d.memoizedState,r=a.stateNode;try{var ee=rs(a.type,u);t=r.getSnapshotBeforeUpdate(ee,d),r.__reactInternalSnapshotBeforeUpdate=t}catch(ae){ke(a,a.return,ae)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Jd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,ct=t;break}ct=n.return}}function Xg(t,n,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Vn(t,a),r&4&&yl(5,a);break;case 1:if(Vn(t,a),r&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){ke(a,a.return,y)}else{var u=rs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ke(a,a.return,y)}}r&64&&Fg(a),r&512&&vl(a,a.return);break;case 3:if(Vn(t,a),r&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Mp(t,n)}catch(y){ke(a,a.return,y)}}break;case 27:n===null&&r&4&&Kg(a);case 26:case 5:Vn(t,a),n===null&&r&4&&Gg(a),r&512&&vl(a,a.return);break;case 12:Vn(t,a);break;case 31:Vn(t,a),r&4&&Jg(t,a);break;case 13:Vn(t,a),r&4&&e0(t,a),r&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=fE.bind(null,a),OE(t,a))));break;case 22:if(r=a.memoizedState!==null||Bn,!r){n=n!==null&&n.memoizedState!==null||at,u=Bn;var d=at;Bn=r,(at=n)&&!d?Fn(t,a,(a.subtreeFlags&8772)!==0):Vn(t,a),Bn=u,at=d}break;case 30:break;default:Vn(t,a)}}function Wg(t){var n=t.alternate;n!==null&&(t.alternate=null,Wg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&su(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ve=null,Dt=!1;function qn(t,n,a){for(a=a.child;a!==null;)Zg(t,n,a),a=a.sibling}function Zg(t,n,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(qa,a)}catch{}switch(a.tag){case 26:at||Cn(a,n),qn(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||Cn(a,n);var r=Ve,u=Dt;Ei(a.type)&&(Ve=a.stateNode,Dt=!1),qn(t,n,a),Tl(a.stateNode),Ve=r,Dt=u;break;case 5:at||Cn(a,n);case 6:if(r=Ve,u=Dt,Ve=null,qn(t,n,a),Ve=r,Dt=u,Ve!==null)if(Dt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(a.stateNode)}catch(d){ke(a,n,d)}else try{Ve.removeChild(a.stateNode)}catch(d){ke(a,n,d)}break;case 18:Ve!==null&&(Dt?(t=Ve,F0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),oa(t)):F0(Ve,a.stateNode));break;case 4:r=Ve,u=Dt,Ve=a.stateNode.containerInfo,Dt=!0,qn(t,n,a),Ve=r,Dt=u;break;case 0:case 11:case 14:case 15:pi(2,a,n),at||pi(4,a,n),qn(t,n,a);break;case 1:at||(Cn(a,n),r=a.stateNode,typeof r.componentWillUnmount=="function"&&Yg(a,n,r)),qn(t,n,a);break;case 21:qn(t,n,a);break;case 22:at=(r=at)||a.memoizedState!==null,qn(t,n,a),at=r;break;default:qn(t,n,a)}}function Jg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{oa(t)}catch(a){ke(n,n.return,a)}}}function e0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{oa(t)}catch(a){ke(n,n.return,a)}}function sE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new $g),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new $g),n;default:throw Error(l(435,t.tag))}}function go(t,n){var a=sE(t);n.forEach(function(r){if(!a.has(r)){a.add(r);var u=hE.bind(null,t,r);r.then(u,u)}})}function Mt(t,n){var a=n.deletions;if(a!==null)for(var r=0;r<a.length;r++){var u=a[r],d=t,y=n,x=y;e:for(;x!==null;){switch(x.tag){case 27:if(Ei(x.type)){Ve=x.stateNode,Dt=!1;break e}break;case 5:Ve=x.stateNode,Dt=!1;break e;case 3:case 4:Ve=x.stateNode.containerInfo,Dt=!0;break e}x=x.return}if(Ve===null)throw Error(l(160));Zg(d,y,u),Ve=null,Dt=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)t0(n,t),n=n.sibling}var un=null;function t0(t,n){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mt(n,t),Lt(t),r&4&&(pi(3,t,t.return),yl(3,t),pi(5,t,t.return));break;case 1:Mt(n,t),Lt(t),r&512&&(at||a===null||Cn(a,a.return)),r&64&&Bn&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var u=un;if(Mt(n,t),Lt(t),r&512&&(at||a===null||Cn(a,a.return)),r&4){var d=a!==null?a.memoizedState:null;if(r=t.memoizedState,a===null)if(r===null)if(t.stateNode===null){e:{r=t.type,a=t.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":d=u.getElementsByTagName("title")[0],(!d||d[Ya]||d[mt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(r),u.head.insertBefore(d,u.querySelector("head > title"))),vt(d,r,a),d[mt]=t,ot(d),r=d;break e;case"link":var y=ty("link","href",u).get(r+(a.href||""));if(y){for(var x=0;x<y.length;x++)if(d=y[x],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(x,1);break t}}d=u.createElement(r),vt(d,r,a),u.head.appendChild(d);break;case"meta":if(y=ty("meta","content",u).get(r+(a.content||""))){for(x=0;x<y.length;x++)if(d=y[x],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(x,1);break t}}d=u.createElement(r),vt(d,r,a),u.head.appendChild(d);break;default:throw Error(l(468,r))}d[mt]=t,ot(d),r=d}t.stateNode=r}else ny(u,t.type,t.stateNode);else t.stateNode=ey(u,r,t.memoizedProps);else d!==r?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,r===null?ny(u,t.type,t.stateNode):ey(u,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Nd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Mt(n,t),Lt(t),r&512&&(at||a===null||Cn(a,a.return)),a!==null&&r&4&&Nd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Mt(n,t),Lt(t),r&512&&(at||a===null||Cn(a,a.return)),t.flags&32){u=t.stateNode;try{ks(u,"")}catch(ee){ke(t,t.return,ee)}}r&4&&t.stateNode!=null&&(u=t.memoizedProps,Nd(t,u,a!==null?a.memoizedProps:u)),r&1024&&(Rd=!0);break;case 6:if(Mt(n,t),Lt(t),r&4){if(t.stateNode===null)throw Error(l(162));r=t.memoizedProps,a=t.stateNode;try{a.nodeValue=r}catch(ee){ke(t,t.return,ee)}}break;case 3:if(Oo=null,u=un,un=Io(n.containerInfo),Mt(n,t),un=u,Lt(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{oa(n.containerInfo)}catch(ee){ke(t,t.return,ee)}Rd&&(Rd=!1,n0(t));break;case 4:r=un,un=Io(t.stateNode.containerInfo),Mt(n,t),Lt(t),un=r;break;case 12:Mt(n,t),Lt(t);break;case 31:Mt(n,t),Lt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,go(t,r)));break;case 13:Mt(n,t),Lt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vo=Ht()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,go(t,r)));break;case 22:u=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,M=Bn,H=at;if(Bn=M||u,at=H||C,Mt(n,t),at=H,Bn=M,Lt(t),r&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(a===null||C||Bn||at||os(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(d=C.stateNode,u)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{x=C.stateNode;var q=C.memoizedProps.style,j=q!=null&&q.hasOwnProperty("display")?q.display:null;x.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ee){ke(C,C.return,ee)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=u?"":C.memoizedProps}catch(ee){ke(C,C.return,ee)}}}else if(n.tag===18){if(a===null){C=n;try{var P=C.stateNode;u?Y0(P,!0):Y0(C.stateNode,!1)}catch(ee){ke(C,C.return,ee)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=t.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,go(t,a))));break;case 19:Mt(n,t),Lt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,go(t,r)));break;case 30:break;case 21:break;default:Mt(n,t),Lt(t)}}function Lt(t){var n=t.flags;if(n&2){try{for(var a,r=t.return;r!==null;){if(Qg(r)){a=r;break}r=r.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var u=a.stateNode,d=wd(t);po(t,d,u);break;case 5:var y=a.stateNode;a.flags&32&&(ks(y,""),a.flags&=-33);var x=wd(t);po(t,x,y);break;case 3:case 4:var C=a.stateNode.containerInfo,M=wd(t);Td(t,M,C);break;default:throw Error(l(161))}}catch(H){ke(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function n0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;n0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Vn(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xg(t,n.alternate,n),n=n.sibling}function os(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:pi(4,n,n.return),os(n);break;case 1:Cn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Yg(n,n.return,a),os(n);break;case 27:Tl(n.stateNode);case 26:case 5:Cn(n,n.return),os(n);break;case 22:n.memoizedState===null&&os(n);break;case 30:os(n);break;default:os(n)}t=t.sibling}}function Fn(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,u=t,d=n,y=d.flags;switch(d.tag){case 0:case 11:case 15:Fn(u,d,a),yl(4,d);break;case 1:if(Fn(u,d,a),r=d,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(M){ke(r,r.return,M)}if(r=d,u=r.updateQueue,u!==null){var x=r.stateNode;try{var C=u.shared.hiddenCallbacks;if(C!==null)for(u.shared.hiddenCallbacks=null,u=0;u<C.length;u++)Dp(C[u],x)}catch(M){ke(r,r.return,M)}}a&&y&64&&Fg(d),vl(d,d.return);break;case 27:Kg(d);case 26:case 5:Fn(u,d,a),a&&r===null&&y&4&&Gg(d),vl(d,d.return);break;case 12:Fn(u,d,a);break;case 31:Fn(u,d,a),a&&y&4&&Jg(u,d);break;case 13:Fn(u,d,a),a&&y&4&&e0(u,d);break;case 22:d.memoizedState===null&&Fn(u,d,a),vl(d,d.return);break;case 30:break;default:Fn(u,d,a)}n=n.sibling}}function Ad(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function Id(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t))}function dn(t,n,a,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)i0(t,n,a,r),n=n.sibling}function i0(t,n,a,r){var u=n.flags;switch(n.tag){case 0:case 11:case 15:dn(t,n,a,r),u&2048&&yl(9,n);break;case 1:dn(t,n,a,r);break;case 3:dn(t,n,a,r),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t)));break;case 12:if(u&2048){dn(t,n,a,r),t=n.stateNode;try{var d=n.memoizedProps,y=d.id,x=d.onPostCommit;typeof x=="function"&&x(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){ke(n,n.return,C)}}else dn(t,n,a,r);break;case 31:dn(t,n,a,r);break;case 13:dn(t,n,a,r);break;case 23:break;case 22:d=n.stateNode,y=n.alternate,n.memoizedState!==null?d._visibility&2?dn(t,n,a,r):_l(t,n):d._visibility&2?dn(t,n,a,r):(d._visibility|=2,Ws(t,n,a,r,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Ad(y,n);break;case 24:dn(t,n,a,r),u&2048&&Id(n.alternate,n);break;default:dn(t,n,a,r)}}function Ws(t,n,a,r,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,y=n,x=a,C=r,M=y.flags;switch(y.tag){case 0:case 11:case 15:Ws(d,y,x,C,u),yl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Ws(d,y,x,C,u):_l(d,y):(H._visibility|=2,Ws(d,y,x,C,u)),u&&M&2048&&Ad(y.alternate,y);break;case 24:Ws(d,y,x,C,u),u&&M&2048&&Id(y.alternate,y);break;default:Ws(d,y,x,C,u)}n=n.sibling}}function _l(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,r=n,u=r.flags;switch(r.tag){case 22:_l(a,r),u&2048&&Ad(r.alternate,r);break;case 24:_l(a,r),u&2048&&Id(r.alternate,r);break;default:_l(a,r)}n=n.sibling}}var bl=8192;function Zs(t,n,a){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)s0(t,n,a),t=t.sibling}function s0(t,n,a){switch(t.tag){case 26:Zs(t,n,a),t.flags&bl&&t.memoizedState!==null&&FE(a,un,t.memoizedState,t.memoizedProps);break;case 5:Zs(t,n,a);break;case 3:case 4:var r=un;un=Io(t.stateNode.containerInfo),Zs(t,n,a),un=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=bl,bl=16777216,Zs(t,n,a),bl=r):Zs(t,n,a));break;default:Zs(t,n,a)}}function a0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function xl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var r=n[a];ct=r,r0(r,t)}a0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)l0(t),t=t.sibling}function l0(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&pi(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,yo(t)):xl(t);break;default:xl(t)}}function yo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var r=n[a];ct=r,r0(r,t)}a0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:pi(8,n,n.return),yo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,yo(n));break;default:yo(n)}t=t.sibling}}function r0(t,n){for(;ct!==null;){var a=ct;switch(a.tag){case 0:case 11:case 15:pi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:sl(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,ct=r;else e:for(a=t;ct!==null;){r=ct;var u=r.sibling,d=r.return;if(Wg(r),r===a){ct=null;break e}if(u!==null){u.return=d,ct=u;break e}ct=d}}}var aE={getCacheForType:function(t){var n=gt(nt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return gt(nt).controller.signal}},lE=typeof WeakMap=="function"?WeakMap:Map,Te=0,Ue=null,pe=null,be=0,Ie=0,Qt=null,gi=!1,Js=!1,kd=!1,Yn=0,Ke=0,yi=0,cs=0,Od=0,Kt=0,ea=0,El=null,jt=null,Dd=!1,vo=0,o0=0,_o=1/0,bo=null,vi=null,lt=0,_i=null,ta=null,Gn=0,Md=0,Ld=null,c0=null,Cl=0,jd=null;function $t(){return(Te&2)!==0&&be!==0?be&-be:U.T!==null?qd():Nm()}function u0(){if(Kt===0)if((be&536870912)===0||Ee){var t=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),Kt=t}else Kt=536870912;return t=Yt.current,t!==null&&(t.flags|=32),Kt}function Ut(t,n,a){(t===Ue&&(Ie===2||Ie===9)||t.cancelPendingCommit!==null)&&(na(t,0),bi(t,be,Kt,!1)),Fa(t,a),((Te&2)===0||t!==Ue)&&(t===Ue&&((Te&2)===0&&(cs|=a),Ke===4&&bi(t,be,Kt,!1)),Sn(t))}function d0(t,n,a){if((Te&6)!==0)throw Error(l(327));var r=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Va(t,n),u=r?cE(t,n):zd(t,n,!0),d=r;do{if(u===0){Js&&!r&&bi(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!rE(a)){u=zd(t,n,!1),d=!1;continue}if(u===2){if(d=n,t.errorRecoveryDisabledLanes&d)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var x=t;u=El;var C=x.current.memoizedState.isDehydrated;if(C&&(na(x,y).flags|=256),y=zd(x,y,!1),y!==2){if(kd&&!C){x.errorRecoveryDisabledLanes|=d,cs|=d,u=4;break e}d=jt,jt=u,d!==null&&(jt===null?jt=d:jt.push.apply(jt,d))}u=y}if(d=!1,u!==2)continue}}if(u===1){na(t,0),bi(t,n,0,!0);break}e:{switch(r=t,d=u,d){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:bi(r,n,Kt,!gi);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(u=vo+300-Ht(),10<u)){if(bi(r,n,Kt,!gi),Ar(r,0,!0)!==0)break e;Gn=n,r.timeoutHandle=q0(f0.bind(null,r,a,jt,bo,Dd,n,Kt,cs,ea,gi,d,"Throttled",-0,0),u);break e}f0(r,a,jt,bo,Dd,n,Kt,cs,ea,gi,d,null,-0,0)}}break}while(!0);Sn(t)}function f0(t,n,a,r,u,d,y,x,C,M,H,q,j,P){if(t.timeoutHandle=-1,q=n.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},s0(n,d,q);var ee=(d&62914560)===d?vo-Ht():(d&4194048)===d?o0-Ht():0;if(ee=YE(q,ee),ee!==null){Gn=d,t.cancelPendingCommit=ee(b0.bind(null,t,n,d,a,r,u,y,x,C,H,q,null,j,P)),bi(t,d,y,!M);return}}b0(t,n,d,a,r,u,y,x,C)}function rE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var u=a[r],d=u.getSnapshot;u=u.value;try{if(!Vt(d(),u))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function bi(t,n,a,r){n&=~Od,n&=~cs,t.suspendedLanes|=n,t.pingedLanes&=~n,r&&(t.warmLanes|=n),r=t.expirationTimes;for(var u=n;0<u;){var d=31-qt(u),y=1<<d;r[d]=-1,u&=~y}a!==0&&Em(t,a,n)}function xo(){return(Te&6)===0?(Sl(0),!1):!0}function Ud(){if(pe!==null){if(Ie===0)var t=pe.return;else t=pe,Ln=es=null,Ju(t),Gs=null,ll=0,t=pe;for(;t!==null;)Vg(t.alternate,t),t=t.return;pe=null}}function na(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,TE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Gn=0,Ud(),Ue=t,pe=a=Dn(t.current,null),be=n,Ie=0,Qt=null,gi=!1,Js=Va(t,n),kd=!1,ea=Kt=Od=cs=yi=Ke=0,jt=El=null,Dd=!1,(n&8)!==0&&(n|=n&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=n;0<r;){var u=31-qt(r),d=1<<u;n|=t[u],r&=~d}return Yn=n,Br(),a}function h0(t,n){ce=null,U.H=ml,n===Ys||n===$r?(n=Ap(),Ie=3):n===Bu?(n=Ap(),Ie=4):Ie=n===pd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Qt=n,pe===null&&(Ke=1,co(t,en(n,t.current)))}function m0(){var t=Yt.current;return t===null?!0:(be&4194048)===be?an===null:(be&62914560)===be||(be&536870912)!==0?t===an:!1}function p0(){var t=U.H;return U.H=ml,t===null?ml:t}function g0(){var t=U.A;return U.A=aE,t}function Eo(){Ke=4,gi||(be&4194048)!==be&&Yt.current!==null||(Js=!0),(yi&134217727)===0&&(cs&134217727)===0||Ue===null||bi(Ue,be,Kt,!1)}function zd(t,n,a){var r=Te;Te|=2;var u=p0(),d=g0();(Ue!==t||be!==n)&&(bo=null,na(t,n)),n=!1;var y=Ke;e:do try{if(Ie!==0&&pe!==null){var x=pe,C=Qt;switch(Ie){case 8:Ud(),y=6;break e;case 3:case 2:case 9:case 6:Yt.current===null&&(n=!0);var M=Ie;if(Ie=0,Qt=null,ia(t,x,C,M),a&&Js){y=0;break e}break;default:M=Ie,Ie=0,Qt=null,ia(t,x,C,M)}}oE(),y=Ke;break}catch(H){h0(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ln=es=null,Te=r,U.H=u,U.A=d,pe===null&&(Ue=null,be=0,Br()),y}function oE(){for(;pe!==null;)y0(pe)}function cE(t,n){var a=Te;Te|=2;var r=p0(),u=g0();Ue!==t||be!==n?(bo=null,_o=Ht()+500,na(t,n)):Js=Va(t,n);e:do try{if(Ie!==0&&pe!==null){n=pe;var d=Qt;t:switch(Ie){case 1:Ie=0,Qt=null,ia(t,n,d,1);break;case 2:case 9:if(Tp(d)){Ie=0,Qt=null,v0(n);break}n=function(){Ie!==2&&Ie!==9||Ue!==t||(Ie=7),Sn(t)},d.then(n,n);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:Tp(d)?(Ie=0,Qt=null,v0(n)):(Ie=0,Qt=null,ia(t,n,d,7));break;case 5:var y=null;switch(pe.tag){case 26:y=pe.memoizedState;case 5:case 27:var x=pe;if(y?iy(y):x.stateNode.complete){Ie=0,Qt=null;var C=x.sibling;if(C!==null)pe=C;else{var M=x.return;M!==null?(pe=M,Co(M)):pe=null}break t}}Ie=0,Qt=null,ia(t,n,d,5);break;case 6:Ie=0,Qt=null,ia(t,n,d,6);break;case 8:Ud(),Ke=6;break e;default:throw Error(l(462))}}uE();break}catch(H){h0(t,H)}while(!0);return Ln=es=null,U.H=r,U.A=u,Te=a,pe!==null?0:(Ue=null,be=0,Br(),Ke)}function uE(){for(;pe!==null&&!Dx();)y0(pe)}function y0(t){var n=Bg(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,n===null?Co(t):pe=n}function v0(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Lg(a,n,n.pendingProps,n.type,void 0,be);break;case 11:n=Lg(a,n,n.pendingProps,n.type.render,n.ref,be);break;case 5:Ju(n);default:Vg(a,n),n=pe=gp(n,Yn),n=Bg(a,n,Yn)}t.memoizedProps=t.pendingProps,n===null?Co(t):pe=n}function ia(t,n,a,r){Ln=es=null,Ju(n),Gs=null,ll=0;var u=n.return;try{if(Z1(t,u,n,a,be)){Ke=1,co(t,en(a,t.current)),pe=null;return}}catch(d){if(u!==null)throw pe=u,d;Ke=1,co(t,en(a,t.current)),pe=null;return}n.flags&32768?(Ee||r===1?t=!0:Js||(be&536870912)!==0?t=!1:(gi=t=!0,(r===2||r===9||r===3||r===6)&&(r=Yt.current,r!==null&&r.tag===13&&(r.flags|=16384))),_0(n,t)):Co(n)}function Co(t){var n=t;do{if((n.flags&32768)!==0){_0(n,gi);return}t=n.return;var a=tE(n.alternate,n,Yn);if(a!==null){pe=a;return}if(n=n.sibling,n!==null){pe=n;return}pe=n=t}while(n!==null);Ke===0&&(Ke=5)}function _0(t,n){do{var a=nE(t.alternate,t);if(a!==null){a.flags&=32767,pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){pe=t;return}pe=t=a}while(t!==null);Ke=6,pe=null}function b0(t,n,a,r,u,d,y,x,C){t.cancelPendingCommit=null;do So();while(lt!==0);if((Te&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(d=n.lanes|n.childLanes,d|=wu,Vx(t,a,d,y,x,C),t===Ue&&(pe=Ue=null,be=0),ta=n,_i=t,Gn=a,Md=d,Ld=u,c0=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,mE(Nr,function(){return N0(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=U.T,U.T=null,u=$.p,$.p=2,y=Te,Te|=4;try{iE(t,n,a)}finally{Te=y,$.p=u,U.T=r}}lt=1,x0(),E0(),C0()}}function x0(){if(lt===1){lt=0;var t=_i,n=ta,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var r=$.p;$.p=2;var u=Te;Te|=4;try{t0(n,t);var d=Xd,y=rp(t.containerInfo),x=d.focusedElem,C=d.selectionRange;if(y!==x&&x&&x.ownerDocument&&lp(x.ownerDocument.documentElement,x)){if(C!==null&&xu(x)){var M=C.start,H=C.end;if(H===void 0&&(H=M),"selectionStart"in x)x.selectionStart=M,x.selectionEnd=Math.min(H,x.value.length);else{var q=x.ownerDocument||document,j=q&&q.defaultView||window;if(j.getSelection){var P=j.getSelection(),ee=x.textContent.length,ae=Math.min(C.start,ee),Me=C.end===void 0?ae:Math.min(C.end,ee);!P.extend&&ae>Me&&(y=Me,Me=ae,ae=y);var T=ap(x,ae),N=ap(x,Me);if(T&&N&&(P.rangeCount!==1||P.anchorNode!==T.node||P.anchorOffset!==T.offset||P.focusNode!==N.node||P.focusOffset!==N.offset)){var D=q.createRange();D.setStart(T.node,T.offset),P.removeAllRanges(),ae>Me?(P.addRange(D),P.extend(N.node,N.offset)):(D.setEnd(N.node,N.offset),P.addRange(D))}}}}for(q=[],P=x;P=P.parentNode;)P.nodeType===1&&q.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<q.length;x++){var B=q[x];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}jo=!!$d,Xd=$d=null}finally{Te=u,$.p=r,U.T=a}}t.current=n,lt=2}}function E0(){if(lt===2){lt=0;var t=_i,n=ta,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var r=$.p;$.p=2;var u=Te;Te|=4;try{Xg(t,n.alternate,n)}finally{Te=u,$.p=r,U.T=a}}lt=3}}function C0(){if(lt===4||lt===3){lt=0,Mx();var t=_i,n=ta,a=Gn,r=c0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?lt=5:(lt=0,ta=_i=null,S0(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(vi=null),nu(a),n=n.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(qa,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=U.T,u=$.p,$.p=2,U.T=null;try{for(var d=t.onRecoverableError,y=0;y<r.length;y++){var x=r[y];d(x.value,{componentStack:x.stack})}}finally{U.T=n,$.p=u}}(Gn&3)!==0&&So(),Sn(t),u=t.pendingLanes,(a&261930)!==0&&(u&42)!==0?t===jd?Cl++:(Cl=0,jd=t):Cl=0,Sl(0)}}function S0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,sl(n)))}function So(){return x0(),E0(),C0(),N0()}function N0(){if(lt!==5)return!1;var t=_i,n=Md;Md=0;var a=nu(Gn),r=U.T,u=$.p;try{$.p=32>a?32:a,U.T=null,a=Ld,Ld=null;var d=_i,y=Gn;if(lt=0,ta=_i=null,Gn=0,(Te&6)!==0)throw Error(l(331));var x=Te;if(Te|=4,l0(d.current),i0(d,d.current,y,a),Te=x,Sl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(qa,d)}catch{}return!0}finally{$.p=u,U.T=r,S0(t,n)}}function w0(t,n,a){n=en(a,n),n=md(t.stateNode,n,2),t=fi(t,n,2),t!==null&&(Fa(t,2),Sn(t))}function ke(t,n,a){if(t.tag===3)w0(t,t,a);else for(;n!==null;){if(n.tag===3){w0(n,t,a);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vi===null||!vi.has(r))){t=en(a,t),a=Tg(2),r=fi(n,a,2),r!==null&&(Rg(a,r,n,t),Fa(r,2),Sn(r));break}}n=n.return}}function Pd(t,n,a){var r=t.pingCache;if(r===null){r=t.pingCache=new lE;var u=new Set;r.set(n,u)}else u=r.get(n),u===void 0&&(u=new Set,r.set(n,u));u.has(a)||(kd=!0,u.add(a),t=dE.bind(null,t,n,a),n.then(t,t))}function dE(t,n,a){var r=t.pingCache;r!==null&&r.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ue===t&&(be&a)===a&&(Ke===4||Ke===3&&(be&62914560)===be&&300>Ht()-vo?(Te&2)===0&&na(t,0):Od|=a,ea===be&&(ea=0)),Sn(t)}function T0(t,n){n===0&&(n=xm()),t=Wi(t,n),t!==null&&(Fa(t,n),Sn(t))}function fE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),T0(t,a)}function hE(t,n){var a=0;switch(t.tag){case 31:case 13:var r=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(n),T0(t,a)}function mE(t,n){return Zc(t,n)}var No=null,sa=null,Hd=!1,wo=!1,Bd=!1,xi=0;function Sn(t){t!==sa&&t.next===null&&(sa===null?No=sa=t:sa=sa.next=t),wo=!0,Hd||(Hd=!0,gE())}function Sl(t,n){if(!Bd&&wo){Bd=!0;do for(var a=!1,r=No;r!==null;){if(t!==0){var u=r.pendingLanes;if(u===0)var d=0;else{var y=r.suspendedLanes,x=r.pingedLanes;d=(1<<31-qt(42|t)+1)-1,d&=u&~(y&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,k0(r,d))}else d=be,d=Ar(r,r===Ue?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(d&3)===0||Va(r,d)||(a=!0,k0(r,d));r=r.next}while(a);Bd=!1}}function pE(){R0()}function R0(){wo=Hd=!1;var t=0;xi!==0&&wE()&&(t=xi);for(var n=Ht(),a=null,r=No;r!==null;){var u=r.next,d=A0(r,n);d===0?(r.next=null,a===null?No=u:a.next=u,u===null&&(sa=a)):(a=r,(t!==0||(d&3)!==0)&&(wo=!0)),r=u}lt!==0&&lt!==5||Sl(t),xi!==0&&(xi=0)}function A0(t,n){for(var a=t.suspendedLanes,r=t.pingedLanes,u=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var y=31-qt(d),x=1<<y,C=u[y];C===-1?((x&a)===0||(x&r)!==0)&&(u[y]=qx(x,n)):C<=n&&(t.expiredLanes|=x),d&=~x}if(n=Ue,a=be,a=Ar(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,a===0||t===n&&(Ie===2||Ie===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Jc(r),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Va(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(r!==null&&Jc(r),nu(a)){case 2:case 8:a=_m;break;case 32:a=Nr;break;case 268435456:a=bm;break;default:a=Nr}return r=I0.bind(null,t),a=Zc(a,r),t.callbackPriority=n,t.callbackNode=a,n}return r!==null&&r!==null&&Jc(r),t.callbackPriority=2,t.callbackNode=null,2}function I0(t,n){if(lt!==0&&lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(So()&&t.callbackNode!==a)return null;var r=be;return r=Ar(t,t===Ue?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(d0(t,r,n),A0(t,Ht()),t.callbackNode!=null&&t.callbackNode===a?I0.bind(null,t):null)}function k0(t,n){if(So())return null;d0(t,n,!0)}function gE(){RE(function(){(Te&6)!==0?Zc(vm,pE):R0()})}function qd(){if(xi===0){var t=Vs;t===0&&(t=wr,wr<<=1,(wr&261888)===0&&(wr=256)),xi=t}return xi}function O0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Dr(""+t)}function D0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function yE(t,n,a,r,u){if(n==="submit"&&a&&a.stateNode===u){var d=O0((u[kt]||null).action),y=r.submitter;y&&(n=(n=y[kt]||null)?O0(n.formAction):y.getAttribute("formAction"),n!==null&&(d=n,y=null));var x=new Ur("action","action",null,r,u);t.push({event:x,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(xi!==0){var C=y?D0(u,y):new FormData(u);od(a,{pending:!0,data:C,method:u.method,action:d},null,C)}}else typeof d=="function"&&(x.preventDefault(),C=y?D0(u,y):new FormData(u),od(a,{pending:!0,data:C,method:u.method,action:d},d,C))},currentTarget:u}]})}}for(var Vd=0;Vd<Nu.length;Vd++){var Fd=Nu[Vd],vE=Fd.toLowerCase(),_E=Fd[0].toUpperCase()+Fd.slice(1);cn(vE,"on"+_E)}cn(up,"onAnimationEnd"),cn(dp,"onAnimationIteration"),cn(fp,"onAnimationStart"),cn("dblclick","onDoubleClick"),cn("focusin","onFocus"),cn("focusout","onBlur"),cn(L1,"onTransitionRun"),cn(j1,"onTransitionStart"),cn(U1,"onTransitionCancel"),cn(hp,"onTransitionEnd"),As("onMouseEnter",["mouseout","mouseover"]),As("onMouseLeave",["mouseout","mouseover"]),As("onPointerEnter",["pointerout","pointerover"]),As("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function M0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],u=r.event;r=r.listeners;e:{var d=void 0;if(n)for(var y=r.length-1;0<=y;y--){var x=r[y],C=x.instance,M=x.currentTarget;if(x=x.listener,C!==d&&u.isPropagationStopped())break e;d=x,u.currentTarget=M;try{d(u)}catch(H){Hr(H)}u.currentTarget=null,d=C}else for(y=0;y<r.length;y++){if(x=r[y],C=x.instance,M=x.currentTarget,x=x.listener,C!==d&&u.isPropagationStopped())break e;d=x,u.currentTarget=M;try{d(u)}catch(H){Hr(H)}u.currentTarget=null,d=C}}}}function ge(t,n){var a=n[iu];a===void 0&&(a=n[iu]=new Set);var r=t+"__bubble";a.has(r)||(L0(n,t,2,!1),a.add(r))}function Yd(t,n,a){var r=0;n&&(r|=4),L0(a,t,r,n)}var To="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[To]){t[To]=!0,Rm.forEach(function(a){a!=="selectionchange"&&(bE.has(a)||Yd(a,!1,t),Yd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[To]||(n[To]=!0,Yd("selectionchange",!1,n))}}function L0(t,n,a,r){switch(uy(n)){case 2:var u=KE;break;case 8:u=$E;break;default:u=of}a=u.bind(null,n,a,t),u=void 0,!fu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),r?u!==void 0?t.addEventListener(n,a,{capture:!0,passive:u}):t.addEventListener(n,a,!0):u!==void 0?t.addEventListener(n,a,{passive:u}):t.addEventListener(n,a,!1)}function Qd(t,n,a,r,u){var d=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var y=r.tag;if(y===3||y===4){var x=r.stateNode.containerInfo;if(x===u)break;if(y===4)for(y=r.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;x!==null;){if(y=ws(x),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){r=d=y;continue e}x=x.parentNode}}r=r.return}Hm(function(){var M=d,H=uu(a),q=[];e:{var j=mp.get(t);if(j!==void 0){var P=Ur,ee=t;switch(t){case"keypress":if(Lr(a)===0)break e;case"keydown":case"keyup":P=h1;break;case"focusin":ee="focus",P=gu;break;case"focusout":ee="blur",P=gu;break;case"beforeblur":case"afterblur":P=gu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Vm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=t1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=g1;break;case up:case dp:case fp:P=s1;break;case hp:P=v1;break;case"scroll":case"scrollend":P=Jx;break;case"wheel":P=b1;break;case"copy":case"cut":case"paste":P=l1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Ym;break;case"toggle":case"beforetoggle":P=E1}var ae=(n&4)!==0,Me=!ae&&(t==="scroll"||t==="scrollend"),T=ae?j!==null?j+"Capture":null:j;ae=[];for(var N=M,D;N!==null;){var B=N;if(D=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||D===null||T===null||(B=Qa(N,T),B!=null&&ae.push(wl(N,B,D))),Me)break;N=N.return}0<ae.length&&(j=new P(j,ee,null,a,H),q.push({event:j,listeners:ae}))}}if((n&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",j&&a!==cu&&(ee=a.relatedTarget||a.fromElement)&&(ws(ee)||ee[Ns]))break e;if((P||j)&&(j=H.window===H?H:(j=H.ownerDocument)?j.defaultView||j.parentWindow:window,P?(ee=a.relatedTarget||a.toElement,P=M,ee=ee?ws(ee):null,ee!==null&&(Me=c(ee),ae=ee.tag,ee!==Me||ae!==5&&ae!==27&&ae!==6)&&(ee=null)):(P=null,ee=M),P!==ee)){if(ae=Vm,B="onMouseLeave",T="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ae=Ym,B="onPointerLeave",T="onPointerEnter",N="pointer"),Me=P==null?j:Ga(P),D=ee==null?j:Ga(ee),j=new ae(B,N+"leave",P,a,H),j.target=Me,j.relatedTarget=D,B=null,ws(H)===M&&(ae=new ae(T,N+"enter",ee,a,H),ae.target=D,ae.relatedTarget=Me,B=ae),Me=B,P&&ee)t:{for(ae=xE,T=P,N=ee,D=0,B=T;B;B=ae(B))D++;B=0;for(var se=N;se;se=ae(se))B++;for(;0<D-B;)T=ae(T),D--;for(;0<B-D;)N=ae(N),B--;for(;D--;){if(T===N||N!==null&&T===N.alternate){ae=T;break t}T=ae(T),N=ae(N)}ae=null}else ae=null;P!==null&&j0(q,j,P,ae,!1),ee!==null&&Me!==null&&j0(q,Me,ee,ae,!0)}}e:{if(j=M?Ga(M):window,P=j.nodeName&&j.nodeName.toLowerCase(),P==="select"||P==="input"&&j.type==="file")var Ne=Jm;else if(Wm(j))if(ep)Ne=O1;else{Ne=I1;var te=A1}else P=j.nodeName,!P||P.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?M&&ou(M.elementType)&&(Ne=Jm):Ne=k1;if(Ne&&(Ne=Ne(t,M))){Zm(q,Ne,a,H);break e}te&&te(t,j,M),t==="focusout"&&M&&j.type==="number"&&M.memoizedProps.value!=null&&ru(j,"number",j.value)}switch(te=M?Ga(M):window,t){case"focusin":(Wm(te)||te.contentEditable==="true")&&(Ls=te,Eu=M,tl=null);break;case"focusout":tl=Eu=Ls=null;break;case"mousedown":Cu=!0;break;case"contextmenu":case"mouseup":case"dragend":Cu=!1,op(q,a,H);break;case"selectionchange":if(M1)break;case"keydown":case"keyup":op(q,a,H)}var ue;if(vu)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ms?$m(t,a)&&(xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(Gm&&a.locale!=="ko"&&(Ms||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ms&&(ue=Bm()):(ai=H,hu="value"in ai?ai.value:ai.textContent,Ms=!0)),te=Ro(M,xe),0<te.length&&(xe=new Fm(xe,t,null,a,H),q.push({event:xe,listeners:te}),ue?xe.data=ue:(ue=Xm(a),ue!==null&&(xe.data=ue)))),(ue=S1?N1(t,a):w1(t,a))&&(xe=Ro(M,"onBeforeInput"),0<xe.length&&(te=new Fm("onBeforeInput","beforeinput",null,a,H),q.push({event:te,listeners:xe}),te.data=ue)),yE(q,t,M,a,H)}M0(q,n)})}function wl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ro(t,n){for(var a=n+"Capture",r=[];t!==null;){var u=t,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=Qa(t,a),u!=null&&r.unshift(wl(t,u,d)),u=Qa(t,n),u!=null&&r.push(wl(t,u,d))),t.tag===3)return r;t=t.return}return[]}function xE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function j0(t,n,a,r,u){for(var d=n._reactName,y=[];a!==null&&a!==r;){var x=a,C=x.alternate,M=x.stateNode;if(x=x.tag,C!==null&&C===r)break;x!==5&&x!==26&&x!==27||M===null||(C=M,u?(M=Qa(a,d),M!=null&&y.unshift(wl(a,M,C))):u||(M=Qa(a,d),M!=null&&y.push(wl(a,M,C)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var EE=/\r\n?/g,CE=/\u0000|\uFFFD/g;function U0(t){return(typeof t=="string"?t:""+t).replace(EE,`
`).replace(CE,"")}function z0(t,n){return n=U0(n),U0(t)===n}function De(t,n,a,r,u,d){switch(a){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||ks(t,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&ks(t,""+r);break;case"className":kr(t,"class",r);break;case"tabIndex":kr(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":kr(t,a,r);break;case"style":zm(t,r,d);break;case"data":if(n!=="object"){kr(t,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=Dr(""+r),t.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&De(t,n,"name",u.name,u,null),De(t,n,"formEncType",u.formEncType,u,null),De(t,n,"formMethod",u.formMethod,u,null),De(t,n,"formTarget",u.formTarget,u,null)):(De(t,n,"encType",u.encType,u,null),De(t,n,"method",u.method,u,null),De(t,n,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=Dr(""+r),t.setAttribute(a,r);break;case"onClick":r!=null&&(t.onclick=kn);break;case"onScroll":r!=null&&ge("scroll",t);break;case"onScrollEnd":r!=null&&ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}a=Dr(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""+r):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":r===!0?t.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,r):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(a,r):t.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(a):t.setAttribute(a,r);break;case"popover":ge("beforetoggle",t),ge("toggle",t),Ir(t,"popover",r);break;case"xlinkActuate":In(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":In(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":In(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":In(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":In(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":In(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":In(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":In(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":In(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Ir(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wx.get(a)||a,Ir(t,a,r))}}function Kd(t,n,a,r,u,d){switch(a){case"style":zm(t,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"children":typeof r=="string"?ks(t,r):(typeof r=="number"||typeof r=="bigint")&&ks(t,""+r);break;case"onScroll":r!=null&&ge("scroll",t);break;case"onScrollEnd":r!=null&&ge("scrollend",t);break;case"onClick":r!=null&&(t.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Am.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),n=a.slice(2,u?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,u),typeof r=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,r,u);break e}a in t?t[a]=r:r===!0?t.setAttribute(a,""):Ir(t,a,r)}}}function vt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",t),ge("load",t);var r=!1,u=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:De(t,n,d,y,a,null)}}u&&De(t,n,"srcSet",a.srcSet,a,null),r&&De(t,n,"src",a.src,a,null);return;case"input":ge("invalid",t);var x=d=y=u=null,C=null,M=null;for(r in a)if(a.hasOwnProperty(r)){var H=a[r];if(H!=null)switch(r){case"name":u=H;break;case"type":y=H;break;case"checked":C=H;break;case"defaultChecked":M=H;break;case"value":d=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,n));break;default:De(t,n,r,H,a,null)}}Mm(t,d,x,C,M,y,u,!1);return;case"select":ge("invalid",t),r=y=d=null;for(u in a)if(a.hasOwnProperty(u)&&(x=a[u],x!=null))switch(u){case"value":d=x;break;case"defaultValue":y=x;break;case"multiple":r=x;default:De(t,n,u,x,a,null)}n=d,a=y,t.multiple=!!r,n!=null?Is(t,!!r,n,!1):a!=null&&Is(t,!!r,a,!0);return;case"textarea":ge("invalid",t),d=u=r=null;for(y in a)if(a.hasOwnProperty(y)&&(x=a[y],x!=null))switch(y){case"value":r=x;break;case"defaultValue":u=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(91));break;default:De(t,n,y,x,a,null)}jm(t,r,u,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(r=a[C],r!=null))switch(C){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:De(t,n,C,r,a,null)}return;case"dialog":ge("beforetoggle",t),ge("toggle",t),ge("cancel",t),ge("close",t);break;case"iframe":case"object":ge("load",t);break;case"video":case"audio":for(r=0;r<Nl.length;r++)ge(Nl[r],t);break;case"image":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"embed":case"source":case"link":ge("error",t),ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in a)if(a.hasOwnProperty(M)&&(r=a[M],r!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:De(t,n,M,r,a,null)}return;default:if(ou(n)){for(H in a)a.hasOwnProperty(H)&&(r=a[H],r!==void 0&&Kd(t,n,H,r,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(r=a[x],r!=null&&De(t,n,x,r,a,null))}function SE(t,n,a,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,y=null,x=null,C=null,M=null,H=null;for(P in a){var q=a[P];if(a.hasOwnProperty(P)&&q!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":C=q;default:r.hasOwnProperty(P)||De(t,n,P,null,r,q)}}for(var j in r){var P=r[j];if(q=a[j],r.hasOwnProperty(j)&&(P!=null||q!=null))switch(j){case"type":d=P;break;case"name":u=P;break;case"checked":M=P;break;case"defaultChecked":H=P;break;case"value":y=P;break;case"defaultValue":x=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(l(137,n));break;default:P!==q&&De(t,n,j,P,r,q)}}lu(t,y,x,C,M,H,d,u);return;case"select":P=y=x=j=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":P=C;default:r.hasOwnProperty(d)||De(t,n,d,null,r,C)}for(u in r)if(d=r[u],C=a[u],r.hasOwnProperty(u)&&(d!=null||C!=null))switch(u){case"value":j=d;break;case"defaultValue":x=d;break;case"multiple":y=d;default:d!==C&&De(t,n,u,d,r,C)}n=x,a=y,r=P,j!=null?Is(t,!!a,j,!1):!!r!=!!a&&(n!=null?Is(t,!!a,n,!0):Is(t,!!a,a?[]:"",!1));return;case"textarea":P=j=null;for(x in a)if(u=a[x],a.hasOwnProperty(x)&&u!=null&&!r.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:De(t,n,x,null,r,u)}for(y in r)if(u=r[y],d=a[y],r.hasOwnProperty(y)&&(u!=null||d!=null))switch(y){case"value":j=u;break;case"defaultValue":P=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==d&&De(t,n,y,u,r,d)}Lm(t,j,P);return;case"option":for(var ee in a)if(j=a[ee],a.hasOwnProperty(ee)&&j!=null&&!r.hasOwnProperty(ee))switch(ee){case"selected":t.selected=!1;break;default:De(t,n,ee,null,r,j)}for(C in r)if(j=r[C],P=a[C],r.hasOwnProperty(C)&&j!==P&&(j!=null||P!=null))switch(C){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:De(t,n,C,j,r,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in a)j=a[ae],a.hasOwnProperty(ae)&&j!=null&&!r.hasOwnProperty(ae)&&De(t,n,ae,null,r,j);for(M in r)if(j=r[M],P=a[M],r.hasOwnProperty(M)&&j!==P&&(j!=null||P!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(l(137,n));break;default:De(t,n,M,j,r,P)}return;default:if(ou(n)){for(var Me in a)j=a[Me],a.hasOwnProperty(Me)&&j!==void 0&&!r.hasOwnProperty(Me)&&Kd(t,n,Me,void 0,r,j);for(H in r)j=r[H],P=a[H],!r.hasOwnProperty(H)||j===P||j===void 0&&P===void 0||Kd(t,n,H,j,r,P);return}}for(var T in a)j=a[T],a.hasOwnProperty(T)&&j!=null&&!r.hasOwnProperty(T)&&De(t,n,T,null,r,j);for(q in r)j=r[q],P=a[q],!r.hasOwnProperty(q)||j===P||j==null&&P==null||De(t,n,q,j,r,P)}function P0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var u=a[r],d=u.transferSize,y=u.initiatorType,x=u.duration;if(d&&x&&P0(y)){for(y=0,x=u.responseEnd,r+=1;r<a.length;r++){var C=a[r],M=C.startTime;if(M>x)break;var H=C.transferSize,q=C.initiatorType;H&&P0(q)&&(C=C.responseEnd,y+=H*(C<x?1:(x-M)/(C-M)))}if(--r,n+=8*(d+y)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $d=null,Xd=null;function Ao(t){return t.nodeType===9?t:t.ownerDocument}function H0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Wd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Zd=null;function wE(){var t=window.event;return t&&t.type==="popstate"?t===Zd?!1:(Zd=t,!0):(Zd=null,!1)}var q0=typeof setTimeout=="function"?setTimeout:void 0,TE=typeof clearTimeout=="function"?clearTimeout:void 0,V0=typeof Promise=="function"?Promise:void 0,RE=typeof queueMicrotask=="function"?queueMicrotask:typeof V0<"u"?function(t){return V0.resolve(null).then(t).catch(AE)}:q0;function AE(t){setTimeout(function(){throw t})}function Ei(t){return t==="head"}function F0(t,n){var a=n,r=0;do{var u=a.nextSibling;if(t.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(r===0){t.removeChild(u),oa(n);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")Tl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Tl(a);for(var d=a.firstChild;d;){var y=d.nextSibling,x=d.nodeName;d[Ya]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&Tl(t.ownerDocument.body);a=u}while(a);oa(n)}function Y0(t,n){var a=t;t=0;do{var r=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=r}while(a)}function Jd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jd(a),su(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function IE(t,n,a,r){for(;t.nodeType===1;){var u=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Ya])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ln(t.nextSibling),t===null)break}return null}function kE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ln(t.nextSibling),t===null))return null;return t}function G0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ln(t.nextSibling),t===null))return null;return t}function ef(t){return t.data==="$?"||t.data==="$~"}function tf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function OE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var r=function(){n(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function ln(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var nf=null;function Q0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return ln(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function K0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function $0(t,n,a){switch(n=Ao(a),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Tl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);su(t)}var rn=new Map,X0=new Set;function Io(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qn=$.d;$.d={f:DE,r:ME,D:LE,C:jE,L:UE,m:zE,X:HE,S:PE,M:BE};function DE(){var t=Qn.f(),n=xo();return t||n}function ME(t){var n=Ts(t);n!==null&&n.tag===5&&n.type==="form"?hg(n):Qn.r(t)}var aa=typeof document>"u"?null:document;function W0(t,n,a){var r=aa;if(r&&typeof n=="string"&&n){var u=Zt(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),X0.has(u)||(X0.add(u),t={rel:t,crossOrigin:a,href:n},r.querySelector(u)===null&&(n=r.createElement("link"),vt(n,"link",t),ot(n),r.head.appendChild(n)))}}function LE(t){Qn.D(t),W0("dns-prefetch",t,null)}function jE(t,n){Qn.C(t,n),W0("preconnect",t,n)}function UE(t,n,a){Qn.L(t,n,a);var r=aa;if(r&&t&&n){var u='link[rel="preload"][as="'+Zt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Zt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Zt(a.imageSizes)+'"]')):u+='[href="'+Zt(t)+'"]';var d=u;switch(n){case"style":d=la(t);break;case"script":d=ra(t)}rn.has(d)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),rn.set(d,t),r.querySelector(u)!==null||n==="style"&&r.querySelector(Rl(d))||n==="script"&&r.querySelector(Al(d))||(n=r.createElement("link"),vt(n,"link",t),ot(n),r.head.appendChild(n)))}}function zE(t,n){Qn.m(t,n);var a=aa;if(a&&t){var r=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Zt(r)+'"][href="'+Zt(t)+'"]',d=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ra(t)}if(!rn.has(d)&&(t=b({rel:"modulepreload",href:t},n),rn.set(d,t),a.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(d)))return}r=a.createElement("link"),vt(r,"link",t),ot(r),a.head.appendChild(r)}}}function PE(t,n,a){Qn.S(t,n,a);var r=aa;if(r&&t){var u=Rs(r).hoistableStyles,d=la(t);n=n||"default";var y=u.get(d);if(!y){var x={loading:0,preload:null};if(y=r.querySelector(Rl(d)))x.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=rn.get(d))&&sf(t,a);var C=y=r.createElement("link");ot(C),vt(C,"link",t),C._p=new Promise(function(M,H){C.onload=M,C.onerror=H}),C.addEventListener("load",function(){x.loading|=1}),C.addEventListener("error",function(){x.loading|=2}),x.loading|=4,ko(y,n,r)}y={type:"stylesheet",instance:y,count:1,state:x},u.set(d,y)}}}function HE(t,n){Qn.X(t,n);var a=aa;if(a&&t){var r=Rs(a).hoistableScripts,u=ra(t),d=r.get(u);d||(d=a.querySelector(Al(u)),d||(t=b({src:t,async:!0},n),(n=rn.get(u))&&af(t,n),d=a.createElement("script"),ot(d),vt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(u,d))}}function BE(t,n){Qn.M(t,n);var a=aa;if(a&&t){var r=Rs(a).hoistableScripts,u=ra(t),d=r.get(u);d||(d=a.querySelector(Al(u)),d||(t=b({src:t,async:!0,type:"module"},n),(n=rn.get(u))&&af(t,n),d=a.createElement("script"),ot(d),vt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(u,d))}}function Z0(t,n,a,r){var u=(u=de.current)?Io(u):null;if(!u)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=la(a.href),a=Rs(u).hoistableStyles,r=a.get(n),r||(r={type:"style",instance:null,count:0,state:null},a.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=la(a.href);var d=Rs(u).hoistableStyles,y=d.get(t);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,y),(d=u.querySelector(Rl(t)))&&!d._p&&(y.instance=d,y.state.loading=5),rn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},rn.set(t,a),d||qE(u,t,a,y.state))),n&&r===null)throw Error(l(528,""));return y}if(n&&r!==null)throw Error(l(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ra(a),a=Rs(u).hoistableScripts,r=a.get(n),r||(r={type:"script",instance:null,count:0,state:null},a.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function la(t){return'href="'+Zt(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function J0(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function qE(t,n,a,r){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=t.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),vt(n,"link",a),ot(n),t.head.appendChild(n))}function ra(t){return'[src="'+Zt(t)+'"]'}function Al(t){return"script[async]"+t}function ey(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var r=t.querySelector('style[data-href~="'+Zt(a.href)+'"]');if(r)return n.instance=r,ot(r),r;var u=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),ot(r),vt(r,"style",u),ko(r,a.precedence,t),n.instance=r;case"stylesheet":u=la(a.href);var d=t.querySelector(Rl(u));if(d)return n.state.loading|=4,n.instance=d,ot(d),d;r=J0(a),(u=rn.get(u))&&sf(r,u),d=(t.ownerDocument||t).createElement("link"),ot(d);var y=d;return y._p=new Promise(function(x,C){y.onload=x,y.onerror=C}),vt(d,"link",r),n.state.loading|=4,ko(d,a.precedence,t),n.instance=d;case"script":return d=ra(a.src),(u=t.querySelector(Al(d)))?(n.instance=u,ot(u),u):(r=a,(u=rn.get(d))&&(r=b({},a),af(r,u)),t=t.ownerDocument||t,u=t.createElement("script"),ot(u),vt(u,"link",r),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,ko(r,a.precedence,t));return n.instance}function ko(t,n,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,d=u,y=0;y<r.length;y++){var x=r[y];if(x.dataset.precedence===n)d=x;else if(d!==u)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Oo=null;function ty(t,n,a){if(Oo===null){var r=new Map,u=Oo=new Map;u.set(a,r)}else u=Oo,r=u.get(a),r||(r=new Map,u.set(a,r));if(r.has(t))return r;for(r.set(t,null),a=a.getElementsByTagName(t),u=0;u<a.length;u++){var d=a[u];if(!(d[Ya]||d[mt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(n)||"";y=t+y;var x=r.get(y);x?x.push(d):r.set(y,[d])}}return r}function ny(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function VE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function iy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function FE(t,n,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=la(r.href),d=n.querySelector(Rl(u));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Do.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=d,ot(d);return}d=n.ownerDocument||n,r=J0(r),(u=rn.get(u))&&sf(r,u),d=d.createElement("link"),ot(d);var y=d;y._p=new Promise(function(x,C){y.onload=x,y.onerror=C}),vt(d,"link",r),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Do.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var lf=0;function YE(t,n){return t.stylesheets&&t.count===0&&Lo(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var r=setTimeout(function(){if(t.stylesheets&&Lo(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&lf===0&&(lf=62500*NE());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Lo(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>lf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(u)}}:null}function Do(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mo=null;function Lo(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mo=new Map,n.forEach(GE,t),Mo=null,Do.call(t))}function GE(t,n){if(!(n.state.loading&4)){var a=Mo.get(t);if(a)var r=a.get(null);else{a=new Map,Mo.set(t,a);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var y=u[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),r=y)}r&&a.set(null,r)}u=n.instance,y=u.getAttribute("data-precedence"),d=a.get(y)||r,d===r&&a.set(null,u),a.set(y,u),this.count++,r=Do.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),d?d.parentNode.insertBefore(u,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var Il={$$typeof:z,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function QE(t,n,a,r,u,d,y,x,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eu(0),this.hiddenUpdates=eu(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function sy(t,n,a,r,u,d,y,x,C,M,H,q){return t=new QE(t,n,a,y,C,M,H,q,x),n=1,d===!0&&(n|=24),d=Ft(3,null,null,n),t.current=d,d.stateNode=t,n=zu(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:r,isDehydrated:a,cache:n},qu(d),t}function ay(t){return t?(t=zs,t):zs}function ly(t,n,a,r,u,d){u=ay(u),r.context===null?r.context=u:r.pendingContext=u,r=di(n),r.payload={element:a},d=d===void 0?null:d,d!==null&&(r.callback=d),a=fi(t,r,n),a!==null&&(Ut(a,t,n),ol(a,t,n))}function ry(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function rf(t,n){ry(t,n),(t=t.alternate)&&ry(t,n)}function oy(t){if(t.tag===13||t.tag===31){var n=Wi(t,67108864);n!==null&&Ut(n,t,67108864),rf(t,67108864)}}function cy(t){if(t.tag===13||t.tag===31){var n=$t();n=tu(n);var a=Wi(t,n);a!==null&&Ut(a,t,n),rf(t,n)}}var jo=!0;function KE(t,n,a,r){var u=U.T;U.T=null;var d=$.p;try{$.p=2,of(t,n,a,r)}finally{$.p=d,U.T=u}}function $E(t,n,a,r){var u=U.T;U.T=null;var d=$.p;try{$.p=8,of(t,n,a,r)}finally{$.p=d,U.T=u}}function of(t,n,a,r){if(jo){var u=cf(r);if(u===null)Qd(t,n,r,Uo,a),dy(t,r);else if(WE(u,t,n,a,r))r.stopPropagation();else if(dy(t,r),n&4&&-1<XE.indexOf(t)){for(;u!==null;){var d=Ts(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=Gi(d.pendingLanes);if(y!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;y;){var C=1<<31-qt(y);x.entanglements[1]|=C,y&=~C}Sn(d),(Te&6)===0&&(_o=Ht()+500,Sl(0))}}break;case 31:case 13:x=Wi(d,2),x!==null&&Ut(x,d,2),xo(),rf(d,2)}if(d=cf(r),d===null&&Qd(t,n,r,Uo,a),d===u)break;u=d}u!==null&&r.stopPropagation()}else Qd(t,n,r,null,a)}}function cf(t){return t=uu(t),uf(t)}var Uo=null;function uf(t){if(Uo=null,t=ws(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Uo=t,null}function uy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lx()){case vm:return 2;case _m:return 8;case Nr:case jx:return 32;case bm:return 268435456;default:return 32}default:return 32}}var df=!1,Ci=null,Si=null,Ni=null,kl=new Map,Ol=new Map,wi=[],XE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dy(t,n){switch(t){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Dl(t,n,a,r,u,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:r,nativeEvent:d,targetContainers:[u]},n!==null&&(n=Ts(n),n!==null&&oy(n)),t):(t.eventSystemFlags|=r,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function WE(t,n,a,r,u){switch(n){case"focusin":return Ci=Dl(Ci,t,n,a,r,u),!0;case"dragenter":return Si=Dl(Si,t,n,a,r,u),!0;case"mouseover":return Ni=Dl(Ni,t,n,a,r,u),!0;case"pointerover":var d=u.pointerId;return kl.set(d,Dl(kl.get(d)||null,t,n,a,r,u)),!0;case"gotpointercapture":return d=u.pointerId,Ol.set(d,Dl(Ol.get(d)||null,t,n,a,r,u)),!0}return!1}function fy(t){var n=ws(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,wm(t.priority,function(){cy(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,wm(t.priority,function(){cy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=cf(t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);cu=r,a.target.dispatchEvent(r),cu=null}else return n=Ts(a),n!==null&&oy(n),t.blockedOn=a,!1;n.shift()}return!0}function hy(t,n,a){zo(t)&&a.delete(n)}function ZE(){df=!1,Ci!==null&&zo(Ci)&&(Ci=null),Si!==null&&zo(Si)&&(Si=null),Ni!==null&&zo(Ni)&&(Ni=null),kl.forEach(hy),Ol.forEach(hy)}function Po(t,n){t.blockedOn===n&&(t.blockedOn=null,df||(df=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ZE)))}var Ho=null;function my(t){Ho!==t&&(Ho=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ho===t&&(Ho=null);for(var n=0;n<t.length;n+=3){var a=t[n],r=t[n+1],u=t[n+2];if(typeof r!="function"){if(uf(r||a)===null)continue;break}var d=Ts(a);d!==null&&(t.splice(n,3),n-=3,od(d,{pending:!0,data:u,method:a.method,action:r},r,u))}}))}function oa(t){function n(C){return Po(C,t)}Ci!==null&&Po(Ci,t),Si!==null&&Po(Si,t),Ni!==null&&Po(Ni,t),kl.forEach(n),Ol.forEach(n);for(var a=0;a<wi.length;a++){var r=wi[a];r.blockedOn===t&&(r.blockedOn=null)}for(;0<wi.length&&(a=wi[0],a.blockedOn===null);)fy(a),a.blockedOn===null&&wi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var u=a[r],d=a[r+1],y=u[kt]||null;if(typeof d=="function")y||my(a);else if(y){var x=null;if(d&&d.hasAttribute("formAction")){if(u=d,y=d[kt]||null)x=y.formAction;else if(uf(u)!==null)continue}else x=y.action;typeof x=="function"?a[r+1]=x:(a.splice(r,3),r-=3),my(a)}}}function py(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return u=y})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function ff(t){this._internalRoot=t}Bo.prototype.render=ff.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var a=n.current,r=$t();ly(a,r,t,n,null,null)},Bo.prototype.unmount=ff.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ly(t.current,2,null,t,null,null),xo(),n[Ns]=null}};function Bo(t){this._internalRoot=t}Bo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Nm();t={blockedOn:null,target:t,priority:n};for(var a=0;a<wi.length&&n!==0&&n<wi[a].priority;a++);wi.splice(a,0,t),a===0&&fy(t)}};var gy=e.version;if(gy!=="19.2.3")throw Error(l(527,gy,"19.2.3"));$.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=h(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var JE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qo.isDisabled&&qo.supportsFiber)try{qa=qo.inject(JE),Bt=qo}catch{}}return Ll.createRoot=function(t,n){if(!o(t))throw Error(l(299));var a=!1,r="",u=Cg,d=Sg,y=Ng;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=sy(t,1,!1,null,null,a,r,null,u,d,y,py),t[Ns]=n.current,Gd(t),new ff(n)},Ll.hydrateRoot=function(t,n,a){if(!o(t))throw Error(l(299));var r=!1,u="",d=Cg,y=Sg,x=Ng,C=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=sy(t,1,!0,n,a??null,r,u,C,d,y,x,py),n.context=ay(null),a=n.current,r=$t(),r=tu(r),u=di(r),u.callback=null,fi(a,u,r),a=r,n.current.lanes=a,Fa(n,a),Sn(n),t[Ns]=n.current,Gd(t),new Bo(n)},Ll.version="19.2.3",Ll}var wy;function uC(){if(wy)return pf.exports;wy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),pf.exports=cC(),pf.exports}var dC=uC();var Ty="popstate";function fC(s={}){function e(l,o){let{pathname:c,search:f,hash:g}=l.location;return jf("",{pathname:c,search:f,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(l,o){return typeof o=="string"?o:er(o)}return mC(e,i,null,s)}function Fe(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function yn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hC(){return Math.random().toString(36).substring(2,10)}function Ry(s,e){return{usr:s.state,key:s.key,idx:e}}function jf(s,e,i=null,l){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Aa(e):e,state:i,key:e&&e.key||l||hC()}}function er({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Aa(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let l=s.indexOf("?");l>=0&&(e.search=s.substring(l),s=s.substring(0,l)),s&&(e.pathname=s)}return e}function mC(s,e,i,l={}){let{window:o=document.defaultView,v5Compat:c=!1}=l,f=o.history,g="POP",m=null,h=v();h==null&&(h=0,f.replaceState({...f.state,idx:h},""));function v(){return(f.state||{idx:null}).idx}function b(){g="POP";let k=v(),F=k==null?null:k-h;h=k,m&&m({action:g,location:A.location,delta:F})}function _(k,F){g="PUSH";let L=jf(A.location,k,F);h=v()+1;let z=Ry(L,h),Y=A.createHref(L);try{f.pushState(z,"",Y)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(Y)}c&&m&&m({action:g,location:A.location,delta:1})}function E(k,F){g="REPLACE";let L=jf(A.location,k,F);h=v();let z=Ry(L,h),Y=A.createHref(L);f.replaceState(z,"",Y),c&&m&&m({action:g,location:A.location,delta:0})}function S(k){return pC(k)}let A={get action(){return g},get location(){return s(o,f)},listen(k){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Ty,b),m=k,()=>{o.removeEventListener(Ty,b),m=null}},createHref(k){return e(o,k)},createURL:S,encodeLocation(k){let F=S(k);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:_,replace:E,go(k){return f.go(k)}};return A}function pC(s,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Fe(i,"No window.location.(origin|href) available to create URL");let l=typeof s=="string"?s:er(s);return l=l.replace(/ $/,"%20"),!e&&l.startsWith("//")&&(l=i+l),new URL(l,i)}function Qv(s,e,i="/"){return gC(s,e,i,!1)}function gC(s,e,i,l){let o=typeof e=="string"?Aa(e):e,c=Jn(o.pathname||"/",i);if(c==null)return null;let f=Kv(s);yC(f);let g=null;for(let m=0;g==null&&m<f.length;++m){let h=RC(c);g=wC(f[m],h,l)}return g}function Kv(s,e=[],i=[],l="",o=!1){let c=(f,g,m=o,h)=>{let v={relativePath:h===void 0?f.path||"":h,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&m)return;Fe(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let b=Wn([l,v.relativePath]),_=i.concat(v);f.children&&f.children.length>0&&(Fe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Kv(f.children,e,_,b,m)),!(f.path==null&&!f.index)&&e.push({path:b,score:SC(b,f.index),routesMeta:_})};return s.forEach((f,g)=>{if(f.path===""||!f.path?.includes("?"))c(f,g);else for(let m of $v(f.path))c(f,g,!0,m)}),e}function $v(s){let e=s.split("/");if(e.length===0)return[];let[i,...l]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(l.length===0)return o?[c,""]:[c];let f=$v(l.join("/")),g=[];return g.push(...f.map(m=>m===""?c:[c,m].join("/"))),o&&g.push(...f),g.map(m=>s.startsWith("/")&&m===""?"/":m)}function yC(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:NC(e.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}var vC=/^:[\w-]+$/,_C=3,bC=2,xC=1,EC=10,CC=-2,Ay=s=>s==="*";function SC(s,e){let i=s.split("/"),l=i.length;return i.some(Ay)&&(l+=CC),e&&(l+=bC),i.filter(o=>!Ay(o)).reduce((o,c)=>o+(vC.test(c)?_C:c===""?xC:EC),l)}function NC(s,e){return s.length===e.length&&s.slice(0,-1).every((l,o)=>l===e[o])?s[s.length-1]-e[e.length-1]:0}function wC(s,e,i=!1){let{routesMeta:l}=s,o={},c="/",f=[];for(let g=0;g<l.length;++g){let m=l[g],h=g===l.length-1,v=c==="/"?e:e.slice(c.length)||"/",b=tc({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},v),_=m.route;if(!b&&h&&i&&!l[l.length-1].route.index&&(b=tc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Wn([c,b.pathname]),pathnameBase:OC(Wn([c,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(c=Wn([c,b.pathnameBase]))}return f}function tc(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,l]=TC(s.path,s.caseSensitive,s.end),o=e.match(i);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:l.reduce((h,{paramName:v,isOptional:b},_)=>{if(v==="*"){let S=g[_]||"";f=c.slice(0,c.length-S.length).replace(/(.)\/+$/,"$1")}const E=g[_];return b&&!E?h[v]=void 0:h[v]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:c,pathnameBase:f,pattern:s}}function TC(s,e=!1,i=!0){yn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let l=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,m)=>(l.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(l.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),l]}function RC(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Jn(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,l=s.charAt(i);return l&&l!=="/"?null:s.slice(i)||"/"}var AC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function IC(s,e="/"){let{pathname:i,search:l="",hash:o=""}=typeof s=="string"?Aa(s):s,c;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?c=Iy(i.substring(1),"/"):c=Iy(i,e)):c=e,{pathname:c,search:DC(l),hash:MC(o)}}function Iy(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function _f(s,e,i,l){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kC(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function dh(s){let e=kC(s);return e.map((i,l)=>l===e.length-1?i.pathname:i.pathnameBase)}function fh(s,e,i,l=!1){let o;typeof s=="string"?o=Aa(s):(o={...s},Fe(!o.pathname||!o.pathname.includes("?"),_f("?","pathname","search",o)),Fe(!o.pathname||!o.pathname.includes("#"),_f("#","pathname","hash",o)),Fe(!o.search||!o.search.includes("#"),_f("#","search","hash",o)));let c=s===""||o.pathname==="",f=c?"/":o.pathname,g;if(f==null)g=i;else{let b=e.length-1;if(!l&&f.startsWith("..")){let _=f.split("/");for(;_[0]==="..";)_.shift(),b-=1;o.pathname=_.join("/")}g=b>=0?e[b]:"/"}let m=IC(o,g),h=f&&f!=="/"&&f.endsWith("/"),v=(c||f===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(h||v)&&(m.pathname+="/"),m}var Wn=s=>s.join("/").replace(/\/\/+/g,"/"),OC=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),DC=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,MC=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,LC=class{constructor(s,e,i,l=!1){this.status=s,this.statusText=e||"",this.internal=l,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function jC(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function UC(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Xv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Wv(s,e){let i=s;if(typeof i!="string"||!AC.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let l=i,o=!1;if(Xv)try{let c=new URL(window.location.href),f=i.startsWith("//")?new URL(c.protocol+i):new URL(i),g=Jn(f.pathname,e);f.origin===c.origin&&g!=null?i=g+f.search+f.hash:o=!0}catch{yn(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Zv=["POST","PUT","PATCH","DELETE"];new Set(Zv);var zC=["GET",...Zv];new Set(zC);var Ia=I.createContext(null);Ia.displayName="DataRouter";var Tc=I.createContext(null);Tc.displayName="DataRouterState";var PC=I.createContext(!1),Jv=I.createContext({isTransitioning:!1});Jv.displayName="ViewTransition";var HC=I.createContext(new Map);HC.displayName="Fetchers";var BC=I.createContext(null);BC.displayName="Await";var Xt=I.createContext(null);Xt.displayName="Navigation";var hr=I.createContext(null);hr.displayName="Location";var bn=I.createContext({outlet:null,matches:[],isDataRoute:!1});bn.displayName="Route";var hh=I.createContext(null);hh.displayName="RouteError";var e_="REACT_ROUTER_ERROR",qC="REDIRECT",VC="ROUTE_ERROR_RESPONSE";function FC(s){if(s.startsWith(`${e_}:${qC}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function YC(s){if(s.startsWith(`${e_}:${VC}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new LC(e.status,e.statusText,e.data)}catch{}}function GC(s,{relative:e}={}){Fe(ka(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:l}=I.useContext(Xt),{hash:o,pathname:c,search:f}=mr(s,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:Wn([i,c])),l.createHref({pathname:g,search:f,hash:o})}function ka(){return I.useContext(hr)!=null}function Bi(){return Fe(ka(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(hr).location}var t_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n_(s){I.useContext(Xt).static||I.useLayoutEffect(s)}function Rc(){let{isDataRoute:s}=I.useContext(bn);return s?aS():QC()}function QC(){Fe(ka(),"useNavigate() may be used only in the context of a <Router> component.");let s=I.useContext(Ia),{basename:e,navigator:i}=I.useContext(Xt),{matches:l}=I.useContext(bn),{pathname:o}=Bi(),c=JSON.stringify(dh(l)),f=I.useRef(!1);return n_(()=>{f.current=!0}),I.useCallback((m,h={})=>{if(yn(f.current,t_),!f.current)return;if(typeof m=="number"){i.go(m);return}let v=fh(m,JSON.parse(c),o,h.relative==="path");s==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Wn([e,v.pathname])),(h.replace?i.replace:i.push)(v,h.state,h)},[e,i,c,o,s])}I.createContext(null);function i_(){let{matches:s}=I.useContext(bn),e=s[s.length-1];return e?e.params:{}}function mr(s,{relative:e}={}){let{matches:i}=I.useContext(bn),{pathname:l}=Bi(),o=JSON.stringify(dh(i));return I.useMemo(()=>fh(s,JSON.parse(o),l,e==="path"),[s,o,l,e])}function KC(s,e){return s_(s,e)}function s_(s,e,i,l,o){Fe(ka(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=I.useContext(Xt),{matches:f}=I.useContext(bn),g=f[f.length-1],m=g?g.params:{},h=g?g.pathname:"/",v=g?g.pathnameBase:"/",b=g&&g.route;{let L=b&&b.path||"";l_(h,!b||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=Bi(),E;if(e){let L=typeof e=="string"?Aa(e):e;Fe(v==="/"||L.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${L.pathname}" was given in the \`location\` prop.`),E=L}else E=_;let S=E.pathname||"/",A=S;if(v!=="/"){let L=v.replace(/^\//,"").split("/");A="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let k=Qv(s,{pathname:A});yn(b||k!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),yn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=JC(k&&k.map(L=>Object.assign({},L,{params:Object.assign({},m,L.params),pathname:Wn([v,c.encodeLocation?c.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?v:Wn([v,c.encodeLocation?c.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),f,i,l,o);return e&&F?I.createElement(hr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},F):F}function $C(){let s=sS(),e=jC(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,l="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:c},"ErrorBoundary")," or"," ",I.createElement("code",{style:c},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),i?I.createElement("pre",{style:o},i):null,f)}var XC=I.createElement($C,null),a_=class extends I.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const i=YC(s.digest);i&&(s=i)}let e=s!==void 0?I.createElement(bn.Provider,{value:this.props.routeContext},I.createElement(hh.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?I.createElement(WC,{error:s},e):e}};a_.contextType=PC;var bf=new WeakMap;function WC({children:s,error:e}){let{basename:i}=I.useContext(Xt);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let l=FC(e.digest);if(l){let o=bf.get(e);if(o)throw o;let c=Wv(l.location,i);if(Xv&&!bf.get(e))if(c.isExternal||l.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:l.replace}));throw bf.set(e,f),f}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return s}function ZC({routeContext:s,match:e,children:i}){let l=I.useContext(Ia);return l&&l.static&&l.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(bn.Provider,{value:s},i)}function JC(s,e=[],i=null,l=null,o=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let c=s,f=i?.errors;if(f!=null){let v=c.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);Fe(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let g=!1,m=-1;if(i)for(let v=0;v<c.length;v++){let b=c[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=v),b.route.id){let{loaderData:_,errors:E}=i,S=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!E||E[b.route.id]===void 0);if(b.route.lazy||S){g=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let h=i&&l?(v,b)=>{l(v,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:UC(i.matches),errorInfo:b})}:void 0;return c.reduceRight((v,b,_)=>{let E,S=!1,A=null,k=null;i&&(E=f&&b.route.id?f[b.route.id]:void 0,A=b.route.errorElement||XC,g&&(m<0&&_===0?(l_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,k=null):m===_&&(S=!0,k=b.route.hydrateFallbackElement||null)));let F=e.concat(c.slice(0,_+1)),L=()=>{let z;return E?z=A:S?z=k:b.route.Component?z=I.createElement(b.route.Component,null):b.route.element?z=b.route.element:z=v,I.createElement(ZC,{match:b,routeContext:{outlet:v,matches:F,isDataRoute:i!=null},children:z})};return i&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?I.createElement(a_,{location:i.location,revalidation:i.revalidation,component:A,error:E,children:L(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:h}):L()},null)}function mh(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eS(s){let e=I.useContext(Ia);return Fe(e,mh(s)),e}function tS(s){let e=I.useContext(Tc);return Fe(e,mh(s)),e}function nS(s){let e=I.useContext(bn);return Fe(e,mh(s)),e}function ph(s){let e=nS(s),i=e.matches[e.matches.length-1];return Fe(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function iS(){return ph("useRouteId")}function sS(){let s=I.useContext(hh),e=tS("useRouteError"),i=ph("useRouteError");return s!==void 0?s:e.errors?.[i]}function aS(){let{router:s}=eS("useNavigate"),e=ph("useNavigate"),i=I.useRef(!1);return n_(()=>{i.current=!0}),I.useCallback(async(o,c={})=>{yn(i.current,t_),i.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:e,...c}))},[s,e])}var ky={};function l_(s,e,i){!e&&!ky[s]&&(ky[s]=!0,yn(!1,i))}I.memo(lS);function lS({routes:s,future:e,state:i,onError:l}){return s_(s,void 0,i,l,e)}function rS({to:s,replace:e,state:i,relative:l}){Fe(ka(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=I.useContext(Xt);yn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=I.useContext(bn),{pathname:f}=Bi(),g=Rc(),m=fh(s,dh(c),f,l==="path"),h=JSON.stringify(m);return I.useEffect(()=>{g(JSON.parse(h),{replace:e,state:i,relative:l})},[g,h,l,e,i]),null}function Nn(s){Fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oS({basename:s="/",children:e=null,location:i,navigationType:l="POP",navigator:o,static:c=!1,unstable_useTransitions:f}){Fe(!ka(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=s.replace(/^\/*/,"/"),m=I.useMemo(()=>({basename:g,navigator:o,static:c,unstable_useTransitions:f,future:{}}),[g,o,c,f]);typeof i=="string"&&(i=Aa(i));let{pathname:h="/",search:v="",hash:b="",state:_=null,key:E="default"}=i,S=I.useMemo(()=>{let A=Jn(h,g);return A==null?null:{location:{pathname:A,search:v,hash:b,state:_,key:E},navigationType:l}},[g,h,v,b,_,E,l]);return yn(S!=null,`<Router basename="${g}"> is not able to match the URL "${h}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:I.createElement(Xt.Provider,{value:m},I.createElement(hr.Provider,{children:e,value:S}))}function cS({children:s,location:e}){return KC(Uf(s),e)}function Uf(s,e=[]){let i=[];return I.Children.forEach(s,(l,o)=>{if(!I.isValidElement(l))return;let c=[...e,o];if(l.type===I.Fragment){i.push.apply(i,Uf(l.props.children,c));return}Fe(l.type===Nn,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fe(!l.props.index||!l.props.children,"An index route cannot have child routes.");let f={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=Uf(l.props.children,c)),i.push(f)}),i}var Ko="get",$o="application/x-www-form-urlencoded";function Ac(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function uS(s){return Ac(s)&&s.tagName.toLowerCase()==="button"}function dS(s){return Ac(s)&&s.tagName.toLowerCase()==="form"}function fS(s){return Ac(s)&&s.tagName.toLowerCase()==="input"}function hS(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function mS(s,e){return s.button===0&&(!e||e==="_self")&&!hS(s)}var Vo=null;function pS(){if(Vo===null)try{new FormData(document.createElement("form"),0),Vo=!1}catch{Vo=!0}return Vo}var gS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xf(s){return s!=null&&!gS.has(s)?(yn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$o}"`),null):s}function yS(s,e){let i,l,o,c,f;if(dS(s)){let g=s.getAttribute("action");l=g?Jn(g,e):null,i=s.getAttribute("method")||Ko,o=xf(s.getAttribute("enctype"))||$o,c=new FormData(s)}else if(uS(s)||fS(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||g.getAttribute("action");if(l=m?Jn(m,e):null,i=s.getAttribute("formmethod")||g.getAttribute("method")||Ko,o=xf(s.getAttribute("formenctype"))||xf(g.getAttribute("enctype"))||$o,c=new FormData(g,s),!pS()){let{name:h,type:v,value:b}=s;if(v==="image"){let _=h?`${h}.`:"";c.append(`${_}x`,"0"),c.append(`${_}y`,"0")}else h&&c.append(h,b)}}else{if(Ac(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ko,l=null,o=$o,f=s}return c&&o==="text/plain"&&(f=c,c=void 0),{action:l,method:i.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gh(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function vS(s,e,i,l){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${l}`:o.pathname=`${o.pathname}.${l}`:o.pathname==="/"?o.pathname=`_root.${l}`:e&&Jn(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${l}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${l}`,o}async function _S(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bS(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function xS(s,e,i){let l=await Promise.all(s.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await _S(c,i);return f.links?f.links():[]}return[]}));return NS(l.flat(1).filter(bS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Oy(s,e,i,l,o,c){let f=(m,h)=>i[h]?m.route.id!==i[h].route.id:!0,g=(m,h)=>i[h].pathname!==m.pathname||i[h].route.path?.endsWith("*")&&i[h].params["*"]!==m.params["*"];return c==="assets"?e.filter((m,h)=>f(m,h)||g(m,h)):c==="data"?e.filter((m,h)=>{let v=l.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(f(m,h)||g(m,h))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function ES(s,e,{includeHydrateFallback:i}={}){return CS(s.map(l=>{let o=e.routes[l.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function CS(s){return[...new Set(s)]}function SS(s){let e={},i=Object.keys(s).sort();for(let l of i)e[l]=s[l];return e}function NS(s,e){let i=new Set;return new Set(e),s.reduce((l,o)=>{let c=JSON.stringify(SS(o));return i.has(c)||(i.add(c),l.push({key:c,link:o})),l},[])}function r_(){let s=I.useContext(Ia);return gh(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function wS(){let s=I.useContext(Tc);return gh(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var yh=I.createContext(void 0);yh.displayName="FrameworkContext";function o_(){let s=I.useContext(yh);return gh(s,"You must render this element inside a <HydratedRouter> element"),s}function TS(s,e){let i=I.useContext(yh),[l,o]=I.useState(!1),[c,f]=I.useState(!1),{onFocus:g,onBlur:m,onMouseEnter:h,onMouseLeave:v,onTouchStart:b}=e,_=I.useRef(null);I.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let A=F=>{F.forEach(L=>{f(L.isIntersecting)})},k=new IntersectionObserver(A,{threshold:.5});return _.current&&k.observe(_.current),()=>{k.disconnect()}}},[s]),I.useEffect(()=>{if(l){let A=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(A)}}},[l]);let E=()=>{o(!0)},S=()=>{o(!1),f(!1)};return i?s!=="intent"?[c,_,{}]:[c,_,{onFocus:jl(g,E),onBlur:jl(m,S),onMouseEnter:jl(h,E),onMouseLeave:jl(v,S),onTouchStart:jl(b,E)}]:[!1,_,{}]}function jl(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function RS({page:s,...e}){let{router:i}=r_(),l=I.useMemo(()=>Qv(i.routes,s,i.basename),[i.routes,s,i.basename]);return l?I.createElement(IS,{page:s,matches:l,...e}):null}function AS(s){let{manifest:e,routeModules:i}=o_(),[l,o]=I.useState([]);return I.useEffect(()=>{let c=!1;return xS(s,e,i).then(f=>{c||o(f)}),()=>{c=!0}},[s,e,i]),l}function IS({page:s,matches:e,...i}){let l=Bi(),{future:o,manifest:c,routeModules:f}=o_(),{basename:g}=r_(),{loaderData:m,matches:h}=wS(),v=I.useMemo(()=>Oy(s,e,h,c,l,"data"),[s,e,h,c,l]),b=I.useMemo(()=>Oy(s,e,h,c,l,"assets"),[s,e,h,c,l]),_=I.useMemo(()=>{if(s===l.pathname+l.search+l.hash)return[];let A=new Set,k=!1;if(e.forEach(L=>{let z=c.routes[L.route.id];!z||!z.hasLoader||(!v.some(Y=>Y.route.id===L.route.id)&&L.route.id in m&&f[L.route.id]?.shouldRevalidate||z.hasClientLoader?k=!0:A.add(L.route.id))}),A.size===0)return[];let F=vS(s,g,o.unstable_trailingSlashAwareDataRequests,"data");return k&&A.size>0&&F.searchParams.set("_routes",e.filter(L=>A.has(L.route.id)).map(L=>L.route.id).join(",")),[F.pathname+F.search]},[g,o.unstable_trailingSlashAwareDataRequests,m,l,c,v,e,s,f]),E=I.useMemo(()=>ES(b,c),[b,c]),S=AS(b);return I.createElement(I.Fragment,null,_.map(A=>I.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...i})),E.map(A=>I.createElement("link",{key:A,rel:"modulepreload",href:A,...i})),S.map(({key:A,link:k})=>I.createElement("link",{key:A,nonce:i.nonce,...k,crossOrigin:k.crossOrigin??i.crossOrigin})))}function kS(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var OS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OS&&(window.__reactRouterVersion="7.13.0")}catch{}function DS({basename:s,children:e,unstable_useTransitions:i,window:l}){let o=I.useRef();o.current==null&&(o.current=fC({window:l,v5Compat:!0}));let c=o.current,[f,g]=I.useState({action:c.action,location:c.location}),m=I.useCallback(h=>{i===!1?g(h):I.startTransition(()=>g(h))},[i]);return I.useLayoutEffect(()=>c.listen(m),[c,m]),I.createElement(oS,{basename:s,children:e,location:f.location,navigationType:f.action,navigator:c,unstable_useTransitions:i})}var c_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=I.forwardRef(function({onClick:e,discover:i="render",prefetch:l="none",relative:o,reloadDocument:c,replace:f,state:g,target:m,to:h,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...E},S){let{basename:A,unstable_useTransitions:k}=I.useContext(Xt),F=typeof h=="string"&&c_.test(h),L=Wv(h,A);h=L.to;let z=GC(h,{relative:o}),[Y,ne,J]=TS(l,E),O=US(h,{replace:f,state:g,target:m,preventScrollReset:v,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:_,unstable_useTransitions:k});function G(_e){e&&e(_e),_e.defaultPrevented||O(_e)}let X=I.createElement("a",{...E,...J,href:L.absoluteURL||z,onClick:L.isExternal||c?e:G,ref:kS(S,ne),target:m,"data-discover":!F&&i==="render"?"true":void 0});return Y&&!F?I.createElement(I.Fragment,null,X,I.createElement(RS,{page:z})):X});tt.displayName="Link";var MS=I.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:l="",end:o=!1,style:c,to:f,viewTransition:g,children:m,...h},v){let b=mr(f,{relative:h.relative}),_=Bi(),E=I.useContext(Tc),{navigator:S,basename:A}=I.useContext(Xt),k=E!=null&&qS(b)&&g===!0,F=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,L=_.pathname,z=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(L=L.toLowerCase(),z=z?z.toLowerCase():null,F=F.toLowerCase()),z&&A&&(z=Jn(z,A)||z);const Y=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ne=L===F||!o&&L.startsWith(F)&&L.charAt(Y)==="/",J=z!=null&&(z===F||!o&&z.startsWith(F)&&z.charAt(F.length)==="/"),O={isActive:ne,isPending:J,isTransitioning:k},G=ne?e:void 0,X;typeof l=="function"?X=l(O):X=[l,ne?"active":null,J?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let _e=typeof c=="function"?c(O):c;return I.createElement(tt,{...h,"aria-current":G,className:X,ref:v,style:_e,to:f,viewTransition:g},typeof m=="function"?m(O):m)});MS.displayName="NavLink";var LS=I.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:l,replace:o,state:c,method:f=Ko,action:g,onSubmit:m,relative:h,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...E},S)=>{let{unstable_useTransitions:A}=I.useContext(Xt),k=HS(),F=BS(g,{relative:h}),L=f.toLowerCase()==="get"?"get":"post",z=typeof g=="string"&&c_.test(g),Y=ne=>{if(m&&m(ne),ne.defaultPrevented)return;ne.preventDefault();let J=ne.nativeEvent.submitter,O=J?.getAttribute("formmethod")||f,G=()=>k(J||ne.currentTarget,{fetcherKey:e,method:O,navigate:i,replace:o,state:c,relative:h,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_});A&&i!==!1?I.startTransition(()=>G()):G()};return I.createElement("form",{ref:S,method:L,action:F,onSubmit:l?m:Y,...E,"data-discover":!z&&s==="render"?"true":void 0})});LS.displayName="Form";function jS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u_(s){let e=I.useContext(Ia);return Fe(e,jS(s)),e}function US(s,{target:e,replace:i,state:l,preventScrollReset:o,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:g,unstable_useTransitions:m}={}){let h=Rc(),v=Bi(),b=mr(s,{relative:c});return I.useCallback(_=>{if(mS(_,e)){_.preventDefault();let E=i!==void 0?i:er(v)===er(b),S=()=>h(s,{replace:E,state:l,preventScrollReset:o,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:g});m?I.startTransition(()=>S()):S()}},[v,h,b,i,l,e,s,o,c,f,g,m])}var zS=0,PS=()=>`__${String(++zS)}__`;function HS(){let{router:s}=u_("useSubmit"),{basename:e}=I.useContext(Xt),i=iS(),l=s.fetch,o=s.navigate;return I.useCallback(async(c,f={})=>{let{action:g,method:m,encType:h,formData:v,body:b}=yS(c,e);if(f.navigate===!1){let _=f.fetcherKey||PS();await l(_,i,f.action||g,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:b,formMethod:f.method||m,formEncType:f.encType||h,flushSync:f.flushSync})}else await o(f.action||g,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:b,formMethod:f.method||m,formEncType:f.encType||h,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[l,o,e,i])}function BS(s,{relative:e}={}){let{basename:i}=I.useContext(Xt),l=I.useContext(bn);Fe(l,"useFormAction must be used inside a RouteContext");let[o]=l.matches.slice(-1),c={...mr(s||".",{relative:e})},f=Bi();if(s==null){c.search=f.search;let g=new URLSearchParams(c.search),m=g.getAll("index");if(m.some(v=>v==="")){g.delete("index"),m.filter(b=>b).forEach(b=>g.append("index",b));let v=g.toString();c.search=v?`?${v}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Wn([i,c.pathname])),er(c)}function qS(s,{relative:e}={}){let i=I.useContext(Jv);Fe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=u_("useViewTransitionState"),o=mr(s,{relative:e});if(!i.isTransitioning)return!1;let c=Jn(i.currentLocation.pathname,l)||i.currentLocation.pathname,f=Jn(i.nextLocation.pathname,l)||i.nextLocation.pathname;return tc(o.pathname,f)!=null||tc(o.pathname,c)!=null}const VS=()=>{};var Dy={};const d_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const K=function(s,e){if(!s)throw Oa(e)},Oa=function(s){return new Error("Firebase Database ("+d_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};const f_=function(s){const e=[];let i=0;for(let l=0;l<s.length;l++){let o=s.charCodeAt(l);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&l+1<s.length&&(s.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++l)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},FS=function(s){const e=[];let i=0,l=0;for(;i<s.length;){const o=s[i++];if(o<128)e[l++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[l++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],f=s[i++],g=s[i++],m=((o&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[l++]=String.fromCharCode(55296+(m>>10)),e[l++]=String.fromCharCode(56320+(m&1023))}else{const c=s[i++],f=s[i++];e[l++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},vh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,g=f?s[o+1]:0,m=o+2<s.length,h=m?s[o+2]:0,v=c>>2,b=(c&3)<<4|g>>4;let _=(g&15)<<2|h>>6,E=h&63;m||(E=64,f||(_=64)),l.push(i[v],i[b],i[_],i[E])}return l.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(f_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):FS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const h=o<s.length?i[s.charAt(o)]:64;++o;const b=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||h==null||b==null)throw new YS;const _=c<<2|g>>4;if(l.push(_),h!==64){const E=g<<4&240|h>>2;if(l.push(E),b!==64){const S=h<<6&192|b;l.push(S)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class YS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h_=function(s){const e=f_(s);return vh.encodeByteArray(e,!0)},nc=function(s){return h_(s).replace(/\./g,"")},ic=function(s){try{return vh.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function GS(s){return m_(void 0,s)}function m_(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!QS(i)||(s[i]=m_(s[i],e[i]));return s}function QS(s){return s!=="__proto__"}function KS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $S=()=>KS().__FIREBASE_DEFAULTS__,XS=()=>{if(typeof process>"u"||typeof Dy>"u")return;const s=Dy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},WS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&ic(s[1]);return e&&JSON.parse(e)},_h=()=>{try{return VS()||$S()||XS()||WS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},p_=s=>_h()?.emulatorHosts?.[s],ZS=s=>{const e=p_(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const l=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),l]:[e.substring(0,i),l]},g_=()=>_h()?.config,y_=s=>_h()?.[`_${s}`];class pr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,l)=>{i?this.reject(i):this.resolve(l),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,l))}}}function Da(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function v_(s){return(await fetch(s,{credentials:"include"})).ok}function JS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},l=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${l}`,aud:l,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[nc(JSON.stringify(i)),nc(JSON.stringify(f)),""].join(".")}const Fl={};function eN(){const s={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?s.emulator.push(e):s.prod.push(e);return s}function tN(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let My=!1;function __(s,e){if(typeof window>"u"||typeof document>"u"||!Da(window.location.host)||Fl[s]===e||Fl[s]||My)return;Fl[s]=e;function i(_){return`__firebase__banner__${_}`}const l="__firebase__banner",c=eN().prod.length>0;function f(){const _=document.getElementById(l);_&&_.remove()}function g(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,E){_.setAttribute("width","24"),_.setAttribute("id",E),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function h(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{My=!0,f()},_}function v(_,E){_.setAttribute("id",E),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=tN(l),E=i("text"),S=document.getElementById(E)||document.createElement("span"),A=i("learnmore"),k=document.getElementById(A)||document.createElement("a"),F=i("preprendIcon"),L=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const z=_.element;g(z),v(k,A);const Y=h();m(L,F),z.append(L,S,k,Y),document.body.appendChild(z)}c?(S.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function nN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iN(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function b_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sN(){const s=Rt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function aN(){return d_.NODE_ADMIN===!0}function lN(){try{return typeof indexedDB=="object"}catch{return!1}}function rN(){return new Promise((s,e)=>{try{let i=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(l),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const oN="FirebaseError";class qi extends Error{constructor(e,i,l){super(i),this.code=e,this.customData=l,this.name=oN,Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gr.prototype.create)}}class gr{constructor(e,i,l){this.service=e,this.serviceName=i,this.errors=l}create(e,...i){const l=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?cN(c,l):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new qi(o,g,l)}}function cN(s,e){return s.replace(uN,(i,l)=>{const o=e[l];return o!=null?String(o):`<${l}?>`})}const uN=/\{\$([^}]+)}/g;function tr(s){return JSON.parse(s)}function ht(s){return JSON.stringify(s)}const x_=function(s){let e={},i={},l={},o="";try{const c=s.split(".");e=tr(ic(c[0])||""),i=tr(ic(c[1])||""),o=c[2],l=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:l,signature:o}},dN=function(s){const e=x_(s),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},fN=function(s){const e=x_(s).claims;return typeof e=="object"&&e.admin===!0};function Rn(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function ba(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function zf(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function sc(s,e,i){const l={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(l[o]=e.call(i,s[o],o,s));return l}function hs(s,e){if(s===e)return!0;const i=Object.keys(s),l=Object.keys(e);for(const o of i){if(!l.includes(o))return!1;const c=s[o],f=e[o];if(Ly(c)&&Ly(f)){if(!hs(c,f))return!1}else if(c!==f)return!1}for(const o of l)if(!i.includes(o))return!1;return!0}function Ly(s){return s!==null&&typeof s=="object"}function Ma(s){const e=[];for(const[i,l]of Object.entries(s))Array.isArray(l)?l.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(l));return e.length?"&"+e.join("&"):""}function ql(s){const e={};return s.replace(/^\?/,"").split("&").forEach(l=>{if(l){const[o,c]=l.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Vl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}class hN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const l=this.W_;if(typeof e=="string")for(let b=0;b<16;b++)l[b]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let b=0;b<16;b++)l[b]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let b=16;b<80;b++){const _=l[b-3]^l[b-8]^l[b-14]^l[b-16];l[b]=(_<<1|_>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],f=this.chain_[2],g=this.chain_[3],m=this.chain_[4],h,v;for(let b=0;b<80;b++){b<40?b<20?(h=g^c&(f^g),v=1518500249):(h=c^f^g,v=1859775393):b<60?(h=c&f|g&(c|f),v=2400959708):(h=c^f^g,v=3395469782);const _=(o<<5|o>>>27)+h+m+v+l[b]&4294967295;m=g,g=f,f=(c<<30|c>>>2)&4294967295,c=o,o=_}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+g&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const l=i-this.blockSize;let o=0;const c=this.buf_;let f=this.inbuf_;for(;o<i;){if(f===0)for(;o<=l;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(c[f]=e.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(c),f=0;break}}else for(;o<i;)if(c[f]=e[o],++f,++o,f===this.blockSize){this.compress_(c),f=0;break}}this.inbuf_=f,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let l=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)e[l]=this.chain_[o]>>c&255,++l;return e}}function mN(s,e){const i=new pN(s,e);return i.subscribe.bind(i)}class pN{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(l=>{this.error(l)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,l){let o;if(e===void 0&&i===void 0&&l===void 0)throw new Error("Missing Observer.");gN(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:l},o.next===void 0&&(o.next=Ef),o.error===void 0&&(o.error=Ef),o.complete===void 0&&(o.complete=Ef);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(l){typeof console<"u"&&console.error&&console.error(l)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gN(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ef(){}function Ic(s,e){return`${s} failed: ${e} argument `}const yN=function(s){const e=[];let i=0;for(let l=0;l<s.length;l++){let o=s.charCodeAt(l);if(o>=55296&&o<=56319){const c=o-55296;l++,K(l<s.length,"Surrogate pair missing trail surrogate.");const f=s.charCodeAt(l)-56320;o=65536+(c<<10)+f}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},kc=function(s){let e=0;for(let i=0;i<s.length;i++){const l=s.charCodeAt(i);l<128?e++:l<2048?e+=2:l>=55296&&l<=56319?(e+=4,i++):e+=3}return e};function At(s){return s&&s._delegate?s._delegate:s}class ms{constructor(e,i,l){this.name=e,this.instanceFactory=i,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const us="[DEFAULT]";class vN{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const l=new pr;if(this.instancesDeferred.set(i,l),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&l.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),l=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(l)return null;throw o}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bN(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});l.resolve(c)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,l=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:l,options:i});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);l===g&&f.resolve(o)}return o}onInit(e,i){const l=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(l)??new Set;o.add(e),this.onInitCallbacks.set(l,o);const c=this.instances.get(l);return c&&e(c,l),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const l=this.onInitCallbacks.get(i);if(l)for(const o of l)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let l=this.instances.get(e);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:_N(e),options:i}),this.instances.set(e,l),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(l,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,l)}catch{}return l||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _N(s){return s===us?void 0:s}function bN(s){return s.instantiationMode==="EAGER"}class xN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new vN(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const EN={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},CN=Le.INFO,SN={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},NN=(s,e,...i)=>{if(e<s.logLevel)return;const l=new Date().toISOString(),o=SN[e];if(o)console[o](`[${l}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xh{constructor(e){this.name=e,this._logLevel=CN,this._logHandler=NN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const wN=(s,e)=>e.some(i=>s instanceof i);let jy,Uy;function TN(){return jy||(jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RN(){return Uy||(Uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E_=new WeakMap,Pf=new WeakMap,C_=new WeakMap,Cf=new WeakMap,Eh=new WeakMap;function AN(s){const e=new Promise((i,l)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{i(Mi(s.result)),o()},f=()=>{l(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&E_.set(i,s)}).catch(()=>{}),Eh.set(e,s),e}function IN(s){if(Pf.has(s))return;const e=new Promise((i,l)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{l(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});Pf.set(s,e)}let Hf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Pf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||C_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Mi(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function kN(s){Hf=s(Hf)}function ON(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const l=s.call(Sf(this),e,...i);return C_.set(l,e.sort?e.sort():[e]),Mi(l)}:RN().includes(s)?function(...e){return s.apply(Sf(this),e),Mi(E_.get(this))}:function(...e){return Mi(s.apply(Sf(this),e))}}function DN(s){return typeof s=="function"?ON(s):(s instanceof IDBTransaction&&IN(s),wN(s,TN())?new Proxy(s,Hf):s)}function Mi(s){if(s instanceof IDBRequest)return AN(s);if(Cf.has(s))return Cf.get(s);const e=DN(s);return e!==s&&(Cf.set(s,e),Eh.set(e,s)),e}const Sf=s=>Eh.get(s);function MN(s,e,{blocked:i,upgrade:l,blocking:o,terminated:c}={}){const f=indexedDB.open(s,e),g=Mi(f);return l&&f.addEventListener("upgradeneeded",m=>{l(Mi(f.result),m.oldVersion,m.newVersion,Mi(f.transaction),m)}),i&&f.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),g.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",h=>o(h.oldVersion,h.newVersion,h))}).catch(()=>{}),g}const LN=["get","getKey","getAll","getAllKeys","count"],jN=["put","add","delete","clear"],Nf=new Map;function zy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Nf.get(e))return Nf.get(e);const i=e.replace(/FromIndex$/,""),l=e!==i,o=jN.includes(i);if(!(i in(l?IDBIndex:IDBObjectStore).prototype)||!(o||LN.includes(i)))return;const c=async function(f,...g){const m=this.transaction(f,o?"readwrite":"readonly");let h=m.store;return l&&(h=h.index(g.shift())),(await Promise.all([h[i](...g),o&&m.done]))[0]};return Nf.set(e,c),c}kN(s=>({...s,get:(e,i,l)=>zy(e,i)||s.get(e,i,l),has:(e,i)=>!!zy(e,i)||s.has(e,i)}));class UN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(zN(i)){const l=i.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(i=>i).join(" ")}}function zN(s){return s.getComponent()?.type==="VERSION"}const Bf="@firebase/app",Py="0.14.8";const ei=new xh("@firebase/app"),PN="@firebase/app-compat",HN="@firebase/analytics-compat",BN="@firebase/analytics",qN="@firebase/app-check-compat",VN="@firebase/app-check",FN="@firebase/auth",YN="@firebase/auth-compat",GN="@firebase/database",QN="@firebase/data-connect",KN="@firebase/database-compat",$N="@firebase/functions",XN="@firebase/functions-compat",WN="@firebase/installations",ZN="@firebase/installations-compat",JN="@firebase/messaging",ew="@firebase/messaging-compat",tw="@firebase/performance",nw="@firebase/performance-compat",iw="@firebase/remote-config",sw="@firebase/remote-config-compat",aw="@firebase/storage",lw="@firebase/storage-compat",rw="@firebase/firestore",ow="@firebase/ai",cw="@firebase/firestore-compat",uw="firebase",dw="12.9.0";const qf="[DEFAULT]",fw={[Bf]:"fire-core",[PN]:"fire-core-compat",[BN]:"fire-analytics",[HN]:"fire-analytics-compat",[VN]:"fire-app-check",[qN]:"fire-app-check-compat",[FN]:"fire-auth",[YN]:"fire-auth-compat",[GN]:"fire-rtdb",[QN]:"fire-data-connect",[KN]:"fire-rtdb-compat",[$N]:"fire-fn",[XN]:"fire-fn-compat",[WN]:"fire-iid",[ZN]:"fire-iid-compat",[JN]:"fire-fcm",[ew]:"fire-fcm-compat",[tw]:"fire-perf",[nw]:"fire-perf-compat",[iw]:"fire-rc",[sw]:"fire-rc-compat",[aw]:"fire-gcs",[lw]:"fire-gcs-compat",[rw]:"fire-fst",[cw]:"fire-fst-compat",[ow]:"fire-vertex","fire-js":"fire-js",[uw]:"fire-js-all"};const ac=new Map,hw=new Map,Vf=new Map;function Hy(s,e){try{s.container.addComponent(e)}catch(i){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function xa(s){const e=s.name;if(Vf.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;Vf.set(e,s);for(const i of ac.values())Hy(i,s);for(const i of hw.values())Hy(i,s);return!0}function Ch(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function fn(s){return s==null?!1:s.settings!==void 0}const mw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new gr("app","Firebase",mw);class pw{constructor(e,i,l){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}const La=dw;function S_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const l={name:qf,automaticDataCollectionEnabled:!0,...e},o=l.name;if(typeof o!="string"||!o)throw Li.create("bad-app-name",{appName:String(o)});if(i||(i=g_()),!i)throw Li.create("no-options");const c=ac.get(o);if(c){if(hs(i,c.options)&&hs(l,c.config))return c;throw Li.create("duplicate-app",{appName:o})}const f=new xN(o);for(const m of Vf.values())f.addComponent(m);const g=new pw(i,l,f);return ac.set(o,g),g}function N_(s=qf){const e=ac.get(s);if(!e&&s===qf&&g_())return S_();if(!e)throw Li.create("no-app",{appName:s});return e}function ji(s,e,i){let l=fw[s]??s;i&&(l+=`-${i}`);const o=l.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${l}" with version "${e}":`];o&&f.push(`library name "${l}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(f.join(" "));return}xa(new ms(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}const gw="firebase-heartbeat-database",yw=1,nr="firebase-heartbeat-store";let wf=null;function w_(){return wf||(wf=MN(gw,yw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(nr)}catch(i){console.warn(i)}}}}).catch(s=>{throw Li.create("idb-open",{originalErrorMessage:s.message})})),wf}async function vw(s){try{const i=(await w_()).transaction(nr),l=await i.objectStore(nr).get(T_(s));return await i.done,l}catch(e){if(e instanceof qi)ei.warn(e.message);else{const i=Li.create("idb-get",{originalErrorMessage:e?.message});ei.warn(i.message)}}}async function By(s,e){try{const l=(await w_()).transaction(nr,"readwrite");await l.objectStore(nr).put(e,T_(s)),await l.done}catch(i){if(i instanceof qi)ei.warn(i.message);else{const l=Li.create("idb-set",{originalErrorMessage:i?.message});ei.warn(l.message)}}}function T_(s){return`${s.name}!${s.options.appId}`}const _w=1024,bw=30;class xw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Cw(i),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=qy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(o=>o.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>bw){const o=Sw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ei.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qy(),{heartbeatsToSend:i,unsentEntries:l}=Ew(this._heartbeatsCache.heartbeats),o=nc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ei.warn(e),""}}}function qy(){return new Date().toISOString().substring(0,10)}function Ew(s,e=_w){const i=[];let l=s.slice();for(const o of s){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),Vy(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Vy(i)>e){i.pop();break}l=l.slice(1)}return{heartbeatsToSend:i,unsentEntries:l}}class Cw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lN()?rN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await vw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const l=await this.read();return By(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const l=await this.read();return By(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Vy(s){return nc(JSON.stringify({version:2,heartbeats:s})).length}function Sw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let l=1;l<s.length;l++)s[l].date<i&&(i=s[l].date,e=l);return e}function Nw(s){xa(new ms("platform-logger",e=>new UN(e),"PRIVATE")),xa(new ms("heartbeat",e=>new xw(e),"PRIVATE")),ji(Bf,Py,s),ji(Bf,Py,"esm2020"),ji("fire-js","")}Nw("");function R_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ww=R_,A_=new gr("auth","Firebase",R_());const lc=new xh("@firebase/auth");function Tw(s,...e){lc.logLevel<=Le.WARN&&lc.warn(`Auth (${La}): ${s}`,...e)}function Xo(s,...e){lc.logLevel<=Le.ERROR&&lc.error(`Auth (${La}): ${s}`,...e)}function vn(s,...e){throw Sh(s,...e)}function wn(s,...e){return Sh(s,...e)}function I_(s,e,i){const l={...ww(),[e]:i};return new gr("auth","Firebase",l).create(e,{appName:s.name})}function Ui(s){return I_(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sh(s,...e){if(typeof s!="string"){const i=e[0],l=[...e.slice(1)];return l[0]&&(l[0].appName=s.name),s._errorFactory.create(i,...l)}return A_.create(s,...e)}function le(s,e,...i){if(!s)throw Sh(e,...i)}function Kn(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Xo(e),new Error(e)}function ti(s,e){s||Kn(e)}function Ff(){return typeof self<"u"&&self.location?.href||""}function Rw(){return Fy()==="http:"||Fy()==="https:"}function Fy(){return typeof self<"u"&&self.location?.protocol||null}function Aw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Rw()||iN()||"connection"in navigator)?navigator.onLine:!0}function Iw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class yr{constructor(e,i){this.shortDelay=e,this.longDelay=i,ti(i>e,"Short delay should be less than long delay!"),this.isMobile=bh()||b_()}get(){return Aw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nh(s,e){ti(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class k_{static initialize(e,i,l){this.fetchImpl=e,i&&(this.headersImpl=i),l&&(this.responseImpl=l)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Ow=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Dw=new yr(3e4,6e4);function Es(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Vi(s,e,i,l,o={}){return O_(s,o,async()=>{let c={},f={};l&&(e==="GET"?f=l:c={body:JSON.stringify(l)});const g=Ma({key:s.config.apiKey,...f}).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const h={method:e,headers:m,...c};return nN()||(h.referrerPolicy="no-referrer"),s.emulatorConfig&&Da(s.emulatorConfig.host)&&(h.credentials="include"),k_.fetch()(await D_(s,s.config.apiHost,i,g),h)})}async function O_(s,e,i){s._canInitEmulator=!1;const l={...kw,...e};try{const o=new Lw(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Fo(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[m,h]=g.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fo(s,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw Fo(s,"email-already-in-use",f);if(m==="USER_DISABLED")throw Fo(s,"user-disabled",f);const v=l[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw I_(s,v,h);vn(s,v)}}catch(o){if(o instanceof qi)throw o;vn(s,"network-request-failed",{message:String(o)})}}async function Oc(s,e,i,l,o={}){const c=await Vi(s,e,i,l,o);return"mfaPendingCredential"in c&&vn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function D_(s,e,i,l){const o=`${e}${i}?${l}`,c=s,f=c.config.emulator?Nh(s.config,o):`${s.config.apiScheme}://${o}`;return Ow.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function Mw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Lw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,l)=>{this.timer=setTimeout(()=>l(wn(this.auth,"network-request-failed")),Dw.get())})}}function Fo(s,e,i){const l={appName:s.name};i.email&&(l.email=i.email),i.phoneNumber&&(l.phoneNumber=i.phoneNumber);const o=wn(s,e,l);return o.customData._tokenResponse=i,o}function Yy(s){return s!==void 0&&s.enterprise!==void 0}class jw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return Mw(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Uw(s,e){return Vi(s,"GET","/v2/recaptchaConfig",Es(s,e))}async function zw(s,e){return Vi(s,"POST","/v1/accounts:delete",e)}async function rc(s,e){return Vi(s,"POST","/v1/accounts:lookup",e)}function Yl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Pw(s,e=!1){const i=At(s),l=await i.getIdToken(e),o=wh(l);le(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:l,authTime:Yl(Tf(o.auth_time)),issuedAtTime:Yl(Tf(o.iat)),expirationTime:Yl(Tf(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Tf(s){return Number(s)*1e3}function wh(s){const[e,i,l]=s.split(".");if(e===void 0||i===void 0||l===void 0)return Xo("JWT malformed, contained fewer than 3 sections"),null;try{const o=ic(i);return o?JSON.parse(o):(Xo("Failed to decode base64 JWT payload"),null)}catch(o){return Xo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Gy(s){const e=wh(s);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ir(s,e,i=!1){if(i)return e;try{return await e}catch(l){throw l instanceof qi&&Hw(l)&&s.auth.currentUser===s&&await s.auth.signOut(),l}}function Hw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Bw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Yf{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function oc(s){const e=s.auth,i=await s.getIdToken(),l=await ir(s,rc(e,{idToken:i}));le(l?.users.length,e,"internal-error");const o=l.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?M_(o.providerUserInfo):[],f=Vw(s.providerData,c),g=s.isAnonymous,m=!(s.email&&o.passwordHash)&&!f?.length,h=g?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Yf(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(s,v)}async function qw(s){const e=At(s);await oc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Vw(s,e){return[...s.filter(l=>!e.some(o=>o.providerId===l.providerId)),...e]}function M_(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Fw(s,e){const i=await O_(s,{},async()=>{const l=Ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,f=await D_(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:g,body:l};return s.emulatorConfig&&Da(s.emulatorConfig.host)&&(m.credentials="include"),k_.fetch()(f,m)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Yw(s,e){return Vi(s,"POST","/v2/accounts:revokeToken",Es(s,e))}class ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){le(e.length!==0,"internal-error");const i=Gy(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:l,refreshToken:o,expiresIn:c}=await Fw(e,i);this.updateTokensAndExpiration(l,o,Number(c))}updateTokensAndExpiration(e,i,l){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+l*1e3}static fromJSON(e,i){const{refreshToken:l,accessToken:o,expirationTime:c}=i,f=new ha;return l&&(le(typeof l=="string","internal-error",{appName:e}),f.refreshToken=l),o&&(le(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(le(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ha,this.toJSON())}_performRefresh(){return Kn("not implemented")}}function Ri(s,e){le(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class mn{constructor({uid:e,auth:i,stsTokenManager:l,...o}){this.providerId="firebase",this.proactiveRefresh=new Bw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Yf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await ir(this,this.stsTokenManager.getToken(this.auth,e));return le(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Pw(this,e)}reload(){return qw(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new mn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let l=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),l=!0),i&&await oc(this),await this.auth._persistUserIfCurrent(this),l&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fn(this.auth.app))return Promise.reject(Ui(this.auth));const e=await this.getIdToken();return await ir(this,zw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const l=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,f=i.photoURL??void 0,g=i.tenantId??void 0,m=i._redirectEventId??void 0,h=i.createdAt??void 0,v=i.lastLoginAt??void 0,{uid:b,emailVerified:_,isAnonymous:E,providerData:S,stsTokenManager:A}=i;le(b&&A,e,"internal-error");const k=ha.fromJSON(this.name,A);le(typeof b=="string",e,"internal-error"),Ri(l,e.name),Ri(o,e.name),le(typeof _=="boolean",e,"internal-error"),le(typeof E=="boolean",e,"internal-error"),Ri(c,e.name),Ri(f,e.name),Ri(g,e.name),Ri(m,e.name),Ri(h,e.name),Ri(v,e.name);const F=new mn({uid:b,auth:e,email:o,emailVerified:_,displayName:l,isAnonymous:E,photoURL:f,phoneNumber:c,tenantId:g,stsTokenManager:k,createdAt:h,lastLoginAt:v});return S&&Array.isArray(S)&&(F.providerData=S.map(L=>({...L}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(e,i,l=!1){const o=new ha;o.updateFromServerResponse(i);const c=new mn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:l});return await oc(c),c}static async _fromGetAccountInfoResponse(e,i,l){const o=i.users[0];le(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?M_(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,g=new ha;g.updateFromIdToken(l);const m=new mn({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:f}),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Yf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(m,h),m}}const Qy=new Map;function $n(s){ti(s instanceof Function,"Expected a class definition");let e=Qy.get(s);return e?(ti(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Qy.set(s,e),e)}class L_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}L_.type="NONE";const Ky=L_;function Wo(s,e,i){return`firebase:${s}:${e}:${i}`}class ma{constructor(e,i,l){this.persistence=e,this.auth=i,this.userKey=l;const{config:o,name:c}=this.auth;this.fullUserKey=Wo(this.userKey,o.apiKey,c),this.fullPersistenceKey=Wo("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await rc(this.auth,{idToken:e}).catch(()=>{});return i?mn._fromGetAccountInfoResponse(this.auth,i,e):null}return mn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,l="authUser"){if(!i.length)return new ma($n(Ky),e,l);const o=(await Promise.all(i.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let c=o[0]||$n(Ky);const f=Wo(l,e.config.apiKey,e.name);let g=null;for(const h of i)try{const v=await h._get(f);if(v){let b;if(typeof v=="string"){const _=await rc(e,{idToken:v}).catch(()=>{});if(!_)break;b=await mn._fromGetAccountInfoResponse(e,_,v)}else b=mn._fromJSON(e,v);h!==c&&(g=b),c=h;break}}catch{}const m=o.filter(h=>h._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new ma(c,e,l):(c=m[0],g&&await c._set(f,g.toJSON()),await Promise.all(i.map(async h=>{if(h!==c)try{await h._remove(f)}catch{}})),new ma(c,e,l))}}function $y(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(j_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B_(e))return"Blackberry";if(q_(e))return"Webos";if(U_(e))return"Safari";if((e.includes("chrome/")||z_(e))&&!e.includes("edge/"))return"Chrome";if(H_(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,l=s.match(i);if(l?.length===2)return l[1]}return"Other"}function j_(s=Rt()){return/firefox\//i.test(s)}function U_(s=Rt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function z_(s=Rt()){return/crios\//i.test(s)}function P_(s=Rt()){return/iemobile/i.test(s)}function H_(s=Rt()){return/android/i.test(s)}function B_(s=Rt()){return/blackberry/i.test(s)}function q_(s=Rt()){return/webos/i.test(s)}function Th(s=Rt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Gw(s=Rt()){return Th(s)&&!!window.navigator?.standalone}function Qw(){return sN()&&document.documentMode===10}function V_(s=Rt()){return Th(s)||H_(s)||q_(s)||B_(s)||/windows phone/i.test(s)||P_(s)}function F_(s,e=[]){let i;switch(s){case"Browser":i=$y(Rt());break;case"Worker":i=`${$y(Rt())}-${s}`;break;default:i=s}const l=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${La}/${l}`}class Kw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const l=c=>new Promise((f,g)=>{try{const m=e(c);f(m)}catch(m){g(m)}});l.onAbort=i,this.queue.push(l);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const l of this.queue)await l(e),l.onAbort&&i.push(l.onAbort)}catch(l){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:l?.message})}}}async function $w(s,e={}){return Vi(s,"GET","/v2/passwordPolicy",Es(s,e))}const Xw=6;class Ww{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Xw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const l=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;l&&(i.meetsMinPasswordLength=e.length>=l),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let l;for(let o=0;o<e.length;o++)l=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,l>="a"&&l<="z",l>="A"&&l<="Z",l>="0"&&l<="9",this.allowedNonAlphanumericCharacters.includes(l))}updatePasswordCharacterOptionsStatuses(e,i,l,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=l)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class Zw{constructor(e,i,l,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=l,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xy(this),this.idTokenSubscription=new Xy(this),this.beforeStateQueue=new Kw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=$n(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ma.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await rc(this,{idToken:e}),l=await mn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(l)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=l?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===f)&&g?.user&&(l=g.user,o=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(l)}catch(c){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await oc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Iw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fn(this.app))return Promise.reject(Ui(this));const i=e?At(e):null;return i&&le(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fn(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fn(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($n(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $w(this),i=new Ww(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gr("auth","Firebase",e())}onAuthStateChanged(e,i,l){return this.registerStateListener(this.authStateSubscription,e,i,l)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,l){return this.registerStateListener(this.idTokenSubscription,e,i,l)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const l=this.onAuthStateChanged(()=>{l(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),l={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(l.tenantId=this.tenantId),await Yw(this,l)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const l=await this.getOrInitRedirectPersistenceManager(i);return e===null?l.removeCurrentUser():l.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&$n(e)||this._popupRedirectResolver;le(i,this,"argument-error"),this.redirectPersistenceManager=await ma.create(this,[$n(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,l,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof i=="function"){const m=e.addObserver(i,l,o);return()=>{f=!0,m()}}else{const m=e.addObserver(i);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(e["X-Firebase-AppCheck"]=l),e}async _getAppCheckToken(){if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Tw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ja(s){return At(s)}class Xy{constructor(e){this.auth=e,this.observer=null,this.addObserver=mN(i=>this.observer=i)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jw(s){Dc=s}function Y_(s){return Dc.loadJS(s)}function eT(){return Dc.recaptchaEnterpriseScript}function tT(){return Dc.gapiScript}function nT(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class iT{constructor(){this.enterprise=new sT}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class sT{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const aT="recaptcha-enterprise",G_="NO_RECAPTCHA";class lT{constructor(e){this.type=aT,this.auth=ja(e)}async verify(e="verify",i=!1){async function l(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,g)=>{Uw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const h=new jw(m);return c.tenantId==null?c._agentRecaptchaConfig=h:c._tenantRecaptchaConfigs[c.tenantId]=h,f(h.siteKey)}}).catch(m=>{g(m)})})}function o(c,f,g){const m=window.grecaptcha;Yy(m)?m.enterprise.ready(()=>{m.enterprise.execute(c,{action:e}).then(h=>{f(h)}).catch(()=>{f(G_)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iT().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{l(this.auth).then(g=>{if(!i&&Yy(window.grecaptcha))o(g,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=eT();m.length!==0&&(m+=g),Y_(m).then(()=>{o(g,c,f)}).catch(h=>{f(h)})}}).catch(g=>{f(g)})})}}async function Wy(s,e,i,l=!1,o=!1){const c=new lT(s);let f;if(o)f=G_;else try{f=await c.verify(i)}catch{f=await c.verify(i,!0)}const g={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const m=g.phoneEnrollmentInfo.phoneNumber,h=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:h,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const m=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return l?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Zy(s,e,i,l,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Wy(s,e,i,i==="getOobCode");return l(s,c)}else return l(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Wy(s,e,i,i==="getOobCode");return l(s,f)}else return Promise.reject(c)})}function rT(s,e){const i=Ch(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(hs(c,e??{}))return o;vn(o,"already-initialized")}return i.initialize({options:e})}function oT(s,e){const i=e?.persistence||[],l=(Array.isArray(i)?i:[i]).map($n);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(l,e?.popupRedirectResolver)}function cT(s,e,i){const l=ja(s);le(/^https?:\/\//.test(e),l,"invalid-emulator-scheme");const o=!1,c=Q_(e),{host:f,port:g}=uT(e),m=g===null?"":`:${g}`,h={url:`${c}//${f}${m}/`},v=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!l._canInitEmulator){le(l.config.emulator&&l.emulatorConfig,l,"emulator-config-failed"),le(hs(h,l.config.emulator)&&hs(v,l.emulatorConfig),l,"emulator-config-failed");return}l.config.emulator=h,l.emulatorConfig=v,l.settings.appVerificationDisabledForTesting=!0,Da(f)?(v_(`${c}//${f}${m}`),__("Auth",!0)):dT()}function Q_(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function uT(s){const e=Q_(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const l=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(l);if(o){const c=o[1];return{host:c,port:Jy(l.substr(c.length+1))}}else{const[c,f]=l.split(":");return{host:c,port:Jy(f)}}}function Jy(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function dT(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Rh{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Kn("not implemented")}_getIdTokenResponse(e){return Kn("not implemented")}_linkToIdToken(e,i){return Kn("not implemented")}_getReauthenticationResolver(e){return Kn("not implemented")}}async function fT(s,e){return Vi(s,"POST","/v1/accounts:signUp",e)}async function hT(s,e){return Oc(s,"POST","/v1/accounts:signInWithPassword",Es(s,e))}async function mT(s,e){return Oc(s,"POST","/v1/accounts:signInWithEmailLink",Es(s,e))}async function pT(s,e){return Oc(s,"POST","/v1/accounts:signInWithEmailLink",Es(s,e))}class sr extends Rh{constructor(e,i,l,o=null){super("password",l),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new sr(e,i,"password")}static _fromEmailAndCode(e,i,l=null){return new sr(e,i,"emailLink",l)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zy(e,i,"signInWithPassword",hT);case"emailLink":return mT(e,{email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const l={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zy(e,l,"signUpPassword",fT);case"emailLink":return pT(e,{idToken:i,email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function pa(s,e){return Oc(s,"POST","/v1/accounts:signInWithIdp",Es(s,e))}const gT="http://localhost";class ps extends Rh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):vn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:l,signInMethod:o,...c}=i;if(!l||!o)return null;const f=new ps(l,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return pa(e,i)}_linkToIdToken(e,i){const l=this.buildRequest();return l.idToken=i,pa(e,l)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,pa(e,i)}buildRequest(){const e={requestUri:gT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ma(i)}return e}}function yT(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vT(s){const e=ql(Vl(s)).link,i=e?ql(Vl(e)).deep_link_id:null,l=ql(Vl(s)).deep_link_id;return(l?ql(Vl(l)).link:null)||l||i||e||s}class Ah{constructor(e){const i=ql(Vl(e)),l=i.apiKey??null,o=i.oobCode??null,c=yT(i.mode??null);le(l&&o&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=vT(e);try{return new Ah(i)}catch{return null}}}class Ua{constructor(){this.providerId=Ua.PROVIDER_ID}static credential(e,i){return sr._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const l=Ah.parseLink(i);return le(l,"argument-error"),sr._fromEmailAndCode(e,l.code,l.tenantId)}}Ua.PROVIDER_ID="password";Ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class K_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vr extends K_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ai extends vr{constructor(){super("facebook.com")}static credential(e){return ps._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";class Ii extends vr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ps._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:l}=e;if(!i&&!l)return null;try{return Ii.credential(i,l)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";class ki extends vr{constructor(){super("github.com")}static credential(e){return ps._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.GITHUB_SIGN_IN_METHOD="github.com";ki.PROVIDER_ID="github.com";class Oi extends vr{constructor(){super("twitter.com")}static credential(e,i){return ps._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:l}=e;if(!i||!l)return null;try{return Oi.credential(i,l)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";class Ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,l,o=!1){const c=await mn._fromIdTokenResponse(e,l,o),f=ev(l);return new Ea({user:c,providerId:f,_tokenResponse:l,operationType:i})}static async _forOperation(e,i,l){await e._updateTokensIfNecessary(l,!0);const o=ev(l);return new Ea({user:e,providerId:o,_tokenResponse:l,operationType:i})}}function ev(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class cc extends qi{constructor(e,i,l,o){super(i.code,i.message),this.operationType=l,this.user=o,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:l}}static _fromErrorAndOperation(e,i,l,o){return new cc(e,i,l,o)}}function $_(s,e,i,l){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?cc._fromErrorAndOperation(s,c,e,l):c})}async function _T(s,e,i=!1){const l=await ir(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Ea._forOperation(s,"link",l)}async function bT(s,e,i=!1){const{auth:l}=s;if(fn(l.app))return Promise.reject(Ui(l));const o="reauthenticate";try{const c=await ir(s,$_(l,o,e,s),i);le(c.idToken,l,"internal-error");const f=wh(c.idToken);le(f,l,"internal-error");const{sub:g}=f;return le(s.uid===g,l,"user-mismatch"),Ea._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&vn(l,"user-mismatch"),c}}async function X_(s,e,i=!1){if(fn(s.app))return Promise.reject(Ui(s));const l="signIn",o=await $_(s,l,e),c=await Ea._fromIdTokenResponse(s,l,o);return i||await s._updateCurrentUser(c.user),c}async function xT(s,e){return X_(ja(s),e)}async function ET(s){const e=ja(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function CT(s,e,i){return fn(s.app)?Promise.reject(Ui(s)):xT(At(s),Ua.credential(e,i)).catch(async l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ET(s),l})}function ST(s,e,i,l){return At(s).onIdTokenChanged(e,i,l)}function NT(s,e,i){return At(s).beforeAuthStateChanged(e,i)}function wT(s,e,i,l){return At(s).onAuthStateChanged(e,i,l)}function TT(s){return At(s).signOut()}const uc="__sak";class W_{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(uc,"1"),this.storage.removeItem(uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const RT=1e3,AT=10;class Z_ extends W_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const l=this.storage.getItem(i),o=this.localCache[i];l!==o&&e(i,o,l)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,g,m)=>{this.notifyListeners(f,m)});return}const l=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(l);!i&&this.localCache[l]===f||this.notifyListeners(l,f)},c=this.storage.getItem(l);Qw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,AT):o()}notifyListeners(e,i){this.localCache[e]=i;const l=this.listeners[e];if(l)for(const o of Array.from(l))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,l)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:l}),!0)})},RT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z_.type="LOCAL";const IT=Z_;class J_ extends W_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}J_.type="SESSION";const eb=J_;function kT(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Mc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const l=new Mc(e);return this.receivers.push(l),l}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:l,eventType:o,data:c}=i.data,f=this.handlersMap[o];if(!f?.size)return;i.ports[0].postMessage({status:"ack",eventId:l,eventType:o});const g=Array.from(f).map(async h=>h(i.origin,c)),m=await kT(g);i.ports[0].postMessage({status:"done",eventId:l,eventType:o,response:m})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mc.receivers=[];function Ih(s="",e=10){let i="";for(let l=0;l<e;l++)i+=Math.floor(Math.random()*10);return s+i}class OT{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,l=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((g,m)=>{const h=Ih("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},l);f={messageChannel:o,onMessage(b){const _=b;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(_.data.response);break;default:clearTimeout(v),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:h,data:i},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Tn(){return window}function DT(s){Tn().location.href=s}function tb(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}async function MT(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LT(){return navigator?.serviceWorker?.controller||null}function jT(){return tb()?self:null}const nb="firebaseLocalStorageDb",UT=1,dc="firebaseLocalStorage",ib="fbase_key";class _r{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Lc(s,e){return s.transaction([dc],e?"readwrite":"readonly").objectStore(dc)}function zT(){const s=indexedDB.deleteDatabase(nb);return new _r(s).toPromise()}function Gf(){const s=indexedDB.open(nb,UT);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const l=s.result;try{l.createObjectStore(dc,{keyPath:ib})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const l=s.result;l.objectStoreNames.contains(dc)?e(l):(l.close(),await zT(),e(await Gf()))})})}async function tv(s,e,i){const l=Lc(s,!0).put({[ib]:e,value:i});return new _r(l).toPromise()}async function PT(s,e){const i=Lc(s,!1).get(e),l=await new _r(i).toPromise();return l===void 0?null:l.value}function nv(s,e){const i=Lc(s,!0).delete(e);return new _r(i).toPromise()}const HT=800,BT=3;class sb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gf(),this.db)}async _withRetries(e){let i=0;for(;;)try{const l=await this._openDb();return await e(l)}catch(l){if(i++>BT)throw l;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mc._getInstance(jT()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MT(),!this.activeServiceWorker)return;this.sender=new OT(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gf();return await tv(e,uc,"1"),await nv(e,uc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(l=>tv(l,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(l=>PT(l,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>nv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Lc(o,!1).getAll();return new _r(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],l=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)l.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!l.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const l=this.listeners[e];if(l)for(const o of Array.from(l))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sb.type="LOCAL";const qT=sb;new yr(3e4,6e4);function VT(s,e){return e?$n(e):(le(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class kh extends Rh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pa(e,this._buildIdpRequest())}_linkToIdToken(e,i){return pa(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return pa(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function FT(s){return X_(s.auth,new kh(s),s.bypassAuthState)}function YT(s){const{auth:e,user:i}=s;return le(i,e,"internal-error"),bT(i,new kh(s),s.bypassAuthState)}async function GT(s){const{auth:e,user:i}=s;return le(i,e,"internal-error"),_T(i,new kh(s),s.bypassAuthState)}class ab{constructor(e,i,l,o,c=!1){this.auth=e,this.resolver=l,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(l){this.reject(l)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:l,postBody:o,tenantId:c,error:f,type:g}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:i,sessionId:l,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(m))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FT;case"linkViaPopup":case"linkViaRedirect":return GT;case"reauthViaPopup":case"reauthViaRedirect":return YT;default:vn(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const QT=new yr(2e3,1e4);class ua extends ab{constructor(e,i,l,o,c){super(e,i,o,c),this.provider=l,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=Ih();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QT.get())};e()}}ua.currentPopupAction=null;const KT="pendingRedirect",Zo=new Map;class $T extends ab{constructor(e,i,l=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,l),this.eventId=null}async execute(){let e=Zo.get(this.auth._key());if(!e){try{const l=await XT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(l)}catch(i){e=()=>Promise.reject(i)}Zo.set(this.auth._key(),e)}return this.bypassAuthState||Zo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XT(s,e){const i=JT(e),l=ZT(s);if(!await l._isAvailable())return!1;const o=await l._get(i)==="true";return await l._remove(i),o}function WT(s,e){Zo.set(s._key(),e)}function ZT(s){return $n(s._redirectPersistence)}function JT(s){return Wo(KT,s.config.apiKey,s.name)}async function e2(s,e,i=!1){if(fn(s.app))return Promise.reject(Ui(s));const l=ja(s),o=VT(l,e),f=await new $T(l,o,i).execute();return f&&!i&&(delete f.user._redirectEventId,await l._persistUserIfCurrent(f.user),await l._setRedirectUser(null,e)),f}const t2=600*1e3;class n2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(l=>{this.isEventForConsumer(e,l)&&(i=!0,this.sendToConsumer(e,l),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!lb(e)){const l=e.error.code?.split("auth/")[1]||"internal-error";i.onError(wn(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const l=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&l}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t2&&this.cachedEventUids.clear(),this.cachedEventUids.has(iv(e))}saveEventToCache(e){this.cachedEventUids.add(iv(e)),this.lastProcessedEventTime=Date.now()}}function iv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function lb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function i2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lb(s);default:return!1}}async function s2(s,e={}){return Vi(s,"GET","/v1/projects",e)}const a2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l2=/^https?/;async function r2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await s2(s);for(const i of e)try{if(o2(i))return}catch{}vn(s,"unauthorized-domain")}function o2(s){const e=Ff(),{protocol:i,hostname:l}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&l===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===l}if(!l2.test(i))return!1;if(a2.test(s))return l===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(l)}const c2=new yr(3e4,6e4);function sv(){const s=Tn().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function u2(s){return new Promise((e,i)=>{function l(){sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sv(),i(wn(s,"network-request-failed"))},timeout:c2.get()})}if(Tn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Tn().gapi?.load)l();else{const o=nT("iframefcb");return Tn()[o]=()=>{gapi.load?l():i(wn(s,"network-request-failed"))},Y_(`${tT()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Jo=null,e})}let Jo=null;function d2(s){return Jo=Jo||u2(s),Jo}const f2=new yr(5e3,15e3),h2="__/auth/iframe",m2="emulator/auth/iframe",p2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y2(s){const e=s.config;le(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Nh(e,m2):`https://${s.config.authDomain}/${h2}`,l={apiKey:e.apiKey,appName:s.name,v:La},o=g2.get(s.config.apiHost);o&&(l.eid=o);const c=s._getFrameworks();return c.length&&(l.fw=c.join(",")),`${i}?${Ma(l).slice(1)}`}async function v2(s){const e=await d2(s),i=Tn().gapi;return le(i,s,"internal-error"),e.open({where:document.body,url:y2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p2,dontclear:!0},l=>new Promise(async(o,c)=>{await l.restyle({setHideOnLeave:!1});const f=wn(s,"network-request-failed"),g=Tn().setTimeout(()=>{c(f)},f2.get());function m(){Tn().clearTimeout(g),o(l)}l.ping(m).then(m,()=>{c(f)})}))}const _2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b2=500,x2=600,E2="_blank",C2="http://localhost";class av{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S2(s,e,i,l=b2,o=x2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-l)/2,0).toString();let g="";const m={..._2,width:l.toString(),height:o.toString(),top:c,left:f},h=Rt().toLowerCase();i&&(g=z_(h)?E2:i),j_(h)&&(e=e||C2,m.scrollbars="yes");const v=Object.entries(m).reduce((_,[E,S])=>`${_}${E}=${S},`,"");if(Gw(h)&&g!=="_self")return N2(e||"",g),new av(null);const b=window.open(e||"",g,v);le(b,s,"popup-blocked");try{b.focus()}catch{}return new av(b)}function N2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const l=document.createEvent("MouseEvent");l.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(l)}const w2="__/auth/handler",T2="emulator/auth/handler",R2=encodeURIComponent("fac");async function lv(s,e,i,l,o,c){le(s.config.authDomain,s,"auth-domain-config-required"),le(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:l,v:La,eventId:o};if(e instanceof K_){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",zf(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))f[v]=b}if(e instanceof vr){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(f.scopes=v.join(","))}s.tenantId&&(f.tid=s.tenantId);const g=f;for(const v of Object.keys(g))g[v]===void 0&&delete g[v];const m=await s._getAppCheckToken(),h=m?`#${R2}=${encodeURIComponent(m)}`:"";return`${A2(s)}?${Ma(g).slice(1)}${h}`}function A2({config:s}){return s.emulator?Nh(s,T2):`https://${s.authDomain}/${w2}`}const Rf="webStorageSupport";class I2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eb,this._completeRedirectFn=e2,this._overrideRedirectResult=WT}async _openPopup(e,i,l,o){ti(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await lv(e,i,l,Ff(),o);return S2(e,c,Ih())}async _openRedirect(e,i,l,o){await this._originValidation(e);const c=await lv(e,i,l,Ff(),o);return DT(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ti(c,"If manager is not set, promise should be"),c)}const l=this.initAndGetManager(e);return this.eventManagers[i]={promise:l},l.catch(()=>{delete this.eventManagers[i]}),l}async initAndGetManager(e){const i=await v2(e),l=new n2(e);return i.register("authEvent",o=>(le(o?.authEvent,e,"invalid-auth-event"),{status:l.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:l},this.iframes[e._key()]=i,l}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Rf,{type:Rf},o=>{const c=o?.[0]?.[Rf];c!==void 0&&i(!!c),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=r2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return V_()||U_()||Th()}}const k2=I2;var rv="@firebase/auth",ov="1.12.0";class O2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(l=>{e(l?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function D2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M2(s){xa(new ms("auth",(e,{options:i})=>{const l=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=l.options;le(f&&!f.includes(":"),"invalid-api-key",{appName:l.name});const m={apiKey:f,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F_(s)},h=new Zw(l,o,c,m);return oT(h,i),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,l)=>{e.getProvider("auth-internal").initialize()})),xa(new ms("auth-internal",e=>{const i=ja(e.getProvider("auth").getImmediate());return(l=>new O2(l))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(rv,ov,D2(s)),ji(rv,ov,"esm2020")}const L2=300,j2=y_("authIdTokenMaxAge")||L2;let cv=null;const U2=s=>async e=>{const i=e&&await e.getIdTokenResult(),l=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(l&&l>j2)return;const o=i?.token;cv!==o&&(cv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function z2(s=N_()){const e=Ch(s,"auth");if(e.isInitialized())return e.getImmediate();const i=rT(s,{popupRedirectResolver:k2,persistence:[qT,IT,eb]}),l=y_("authTokenSyncURL");if(l&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(l,location.origin);if(location.origin===c.origin){const f=U2(c.toString());NT(i,f,()=>f(i.currentUser)),ST(i,g=>f(g))}}const o=p_("auth");return o&&cT(i,`http://${o}`),i}function P2(){return document.getElementsByTagName("head")?.[0]??document}Jw({loadJS(s){return new Promise((e,i)=>{const l=document.createElement("script");l.setAttribute("src",s),l.onload=e,l.onerror=o=>{const c=wn("internal-error");c.customData=o,i(c)},l.type="text/javascript",l.charset="UTF-8",P2().appendChild(l)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M2("Browser");var uv={};const dv="@firebase/database",fv="1.1.0";let rb="";function H2(s){rb=s}class B2{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ht(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:tr(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class q2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return Rn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const ob=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new B2(e)}}catch{}return new q2},fs=ob("localStorage"),V2=ob("sessionStorage");const ga=new xh("@firebase/database"),F2=(function(){let s=1;return function(){return s++}})(),cb=function(s){const e=yN(s),i=new hN;i.update(e);const l=i.digest();return vh.encodeByteArray(l)},br=function(...s){let e="";for(let i=0;i<s.length;i++){const l=s[i];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?e+=br.apply(null,l):typeof l=="object"?e+=ht(l):e+=l,e+=" "}return e};let Gl=null,hv=!0;const Y2=function(s,e){K(!0,"Can't turn on custom loggers persistently."),ga.logLevel=Le.VERBOSE,Gl=ga.log.bind(ga)},_t=function(...s){if(hv===!0&&(hv=!1,Gl===null&&V2.get("logging_enabled")===!0&&Y2()),Gl){const e=br.apply(null,s);Gl(e)}},xr=function(s){return function(...e){_t(s,...e)}},Qf=function(...s){const e="FIREBASE INTERNAL ERROR: "+br(...s);ga.error(e)},ni=function(...s){const e=`FIREBASE FATAL ERROR: ${br(...s)}`;throw ga.error(e),new Error(e)},Tt=function(...s){const e="FIREBASE WARNING: "+br(...s);ga.warn(e)},G2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Oh=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},Q2=function(s){if(document.readyState==="complete")s();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Ca="[MIN_NAME]",gs="[MAX_NAME]",Cs=function(s,e){if(s===e)return 0;if(s===Ca||e===gs)return-1;if(e===Ca||s===gs)return 1;{const i=mv(s),l=mv(e);return i!==null?l!==null?i-l===0?s.length-e.length:i-l:-1:l!==null?1:s<e?-1:1}},K2=function(s,e){return s===e?0:s<e?-1:1},Ul=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+ht(e))},Dh=function(s){if(typeof s!="object"||s===null)return ht(s);const e=[];for(const l in s)e.push(l);e.sort();let i="{";for(let l=0;l<e.length;l++)l!==0&&(i+=","),i+=ht(e[l]),i+=":",i+=Dh(s[e[l]]);return i+="}",i},ub=function(s,e){const i=s.length;if(i<=e)return[s];const l=[];for(let o=0;o<i;o+=e)o+e>i?l.push(s.substring(o,i)):l.push(s.substring(o,o+e));return l};function bt(s,e){for(const i in s)s.hasOwnProperty(i)&&e(i,s[i])}const db=function(s){K(!Oh(s),"Invalid JSON number");const e=11,i=52,l=(1<<e-1)-1;let o,c,f,g,m;s===0?(c=0,f=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-l)?(g=Math.min(Math.floor(Math.log(s)/Math.LN2),l),c=g+l,f=Math.round(s*Math.pow(2,i-g)-Math.pow(2,i))):(c=0,f=Math.round(s/Math.pow(2,1-l-i))));const h=[];for(m=i;m;m-=1)h.push(f%2?1:0),f=Math.floor(f/2);for(m=e;m;m-=1)h.push(c%2?1:0),c=Math.floor(c/2);h.push(o?1:0),h.reverse();const v=h.join("");let b="";for(m=0;m<64;m+=8){let _=parseInt(v.substr(m,8),2).toString(16);_.length===1&&(_="0"+_),b=b+_}return b.toLowerCase()},$2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},X2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function W2(s,e){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const l=new Error(s+" at "+e._path.toString()+": "+i);return l.code=s.toUpperCase(),l}const Z2=new RegExp("^-?(0*)\\d{1,10}$"),J2=-2147483648,eR=2147483647,mv=function(s){if(Z2.test(s)){const e=Number(s);if(e>=J2&&e<=eR)return e}return null},za=function(s){try{s()}catch(e){setTimeout(()=>{const i=e.stack||"";throw Tt("Exception was thrown by user callback.",i),e},Math.floor(0))}},tR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ql=function(s,e){const i=setTimeout(s,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class nR{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,fn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(l=>this.appCheck=l)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,l)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,l):i(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Tt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class iR{constructor(e,i,l){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(_t("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,l)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,l):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tt(e)}}class ec{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ec.OWNER="owner";const Mh="5",fb="v",hb="s",mb="r",pb="f",gb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,yb="ls",vb="p",Kf="ac",_b="websocket",bb="long_polling";class xb{constructor(e,i,l,o,c=!1,f="",g=!1,m=!1,h=null){this.secure=i,this.namespace=l,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=m,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function sR(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Eb(s,e,i){K(typeof e=="string","typeof type must == string"),K(typeof i=="object","typeof params must == object");let l;if(e===_b)l=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===bb)l=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);sR(s)&&(i.ns=s.namespace);const o=[];return bt(i,(c,f)=>{o.push(c+"="+f)}),l+o.join("&")}class aR{constructor(){this.counters_={}}incrementCounter(e,i=1){Rn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return GS(this.counters_)}}const Af={},If={};function Lh(s){const e=s.toString();return Af[e]||(Af[e]=new aR),Af[e]}function lR(s,e){const i=s.toString();return If[i]||(If[i]=e()),If[i]}class rR{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<l.length;++o)l[o]&&za(()=>{this.onMessage_(l[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const pv="start",oR="close",cR="pLPCommand",uR="pRTLPCB",Cb="id",Sb="pw",Nb="ser",dR="cb",fR="seg",hR="ts",mR="d",pR="dframe",wb=1870,Tb=30,gR=wb-Tb,yR=25e3,vR=3e4;class da{constructor(e,i,l,o,c,f,g){this.connId=e,this.repoInfo=i,this.applicationId=l,this.appCheckToken=o,this.authToken=c,this.transportSessionId=f,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xr(e),this.stats_=Lh(i),this.urlFn=m=>(this.appCheckToken&&(m[Kf]=this.appCheckToken),Eb(i,bb,m))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new rR(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(vR)),Q2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new jh((...c)=>{const[f,g,m,h,v]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===pv)this.id=g,this.password=m;else if(f===oR)g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...c)=>{const[f,g]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,g)},()=>{this.onClosed_()},this.urlFn);const l={};l[pv]="t",l[Nb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[dR]=this.scriptTagHolder.uniqueCallbackIdentifier),l[fb]=Mh,this.transportSessionId&&(l[hb]=this.transportSessionId),this.lastSessionId&&(l[yb]=this.lastSessionId),this.applicationId&&(l[vb]=this.applicationId),this.appCheckToken&&(l[Kf]=this.appCheckToken),typeof location<"u"&&location.hostname&&gb.test(location.hostname)&&(l[mb]=pb);const o=this.urlFn(l);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){da.forceAllow_=!0}static forceDisallow(){da.forceDisallow_=!0}static isAvailable(){return da.forceAllow_?!0:!da.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!$2()&&!X2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=ht(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=h_(i),o=ub(l,gR);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const l={};l[pR]="t",l[Cb]=e,l[Sb]=i,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=ht(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class jh{constructor(e,i,l,o){this.onDisconnect=l,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=F2(),window[cR+this.uniqueCallbackIdentifier]=e,window[uR+this.uniqueCallbackIdentifier]=i,this.myIFrame=jh.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(g){_t("frame writing exception"),g.stack&&_t(g.stack),_t(g)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||_t("No IE domain setting required")}catch{const l=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Cb]=this.myID,e[Sb]=this.myPW,e[Nb]=this.currentSerial;let i=this.urlFn(e),l="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Tb+l.length<=wb;){const f=this.pendingSegs.shift();l=l+"&"+fR+o+"="+f.seg+"&"+hR+o+"="+f.ts+"&"+mR+o+"="+f.d,o++}return i=i+l,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,l){this.pendingSegs.push({seg:e,ts:i,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const l=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(l,Math.floor(yR)),c=()=>{clearTimeout(o),l()};this.addTag(e,c)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=e,l.onload=l.onreadystatechange=function(){const o=l.readyState;(!o||o==="loaded"||o==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),i())},l.onerror=()=>{_t("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}const _R=16384,bR=45e3;let fc=null;typeof MozWebSocket<"u"?fc=MozWebSocket:typeof WebSocket<"u"&&(fc=WebSocket);class hn{constructor(e,i,l,o,c,f,g){this.connId=e,this.applicationId=l,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xr(this.connId),this.stats_=Lh(i),this.connURL=hn.connectionURL_(i,f,g,o,l),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,l,o,c){const f={};return f[fb]=Mh,typeof location<"u"&&location.hostname&&gb.test(location.hostname)&&(f[mb]=pb),i&&(f[hb]=i),l&&(f[yb]=l),o&&(f[Kf]=o),c&&(f[vb]=c),Eb(e,_b,f)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fs.set("previous_websocket_failure",!0);try{let l;aN(),this.mySock=new fc(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){hn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(i);l&&l.length>1&&parseFloat(l[1])<4.4&&(e=!0)}return!e&&fc!==null&&!hn.forceDisallow_}static previouslyFailed(){return fs.isInMemoryStorage||fs.get("previous_websocket_failure")===!0}markConnectionHealthy(){fs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const l=tr(i);this.onMessage(l)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(K(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const l=this.extractFrameCount_(i);l!==null&&this.appendFrame_(l)}}send(e){this.resetKeepAlive();const i=ht(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=ub(i,_R);l.length>1&&this.sendString_(String(l.length));for(let o=0;o<l.length;o++)this.sendString_(l[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(bR))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}hn.responsesRequiredToBeHealthy=2;hn.healthyTimeout=3e4;class ar{static get ALL_TRANSPORTS(){return[da,hn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=hn&&hn.isAvailable();let l=i&&!hn.previouslyFailed();if(e.webSocketOnly&&(i||Tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[hn];else{const o=this.transports_=[];for(const c of ar.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);ar.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ar.globalTransportInitialized_=!1;const xR=6e4,ER=5e3,CR=10*1024,SR=100*1024,kf="t",gv="d",NR="s",yv="r",wR="e",vv="o",_v="a",bv="n",xv="p",TR="h";class RR{constructor(e,i,l,o,c,f,g,m,h,v){this.id=e,this.repoInfo_=i,this.applicationId_=l,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=f,this.onReady_=g,this.onDisconnect_=m,this.onKill_=h,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xr("c:"+this.id+":"),this.transportManager_=new ar(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,l)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ql(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>SR?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>CR?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(kf in e){const i=e[kf];i===_v?this.upgradeIfSecondaryHealthy_():i===yv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===vv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Ul("t",e),l=Ul("d",e);if(i==="c")this.onSecondaryControl_(l);else if(i==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:xv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:_v,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:bv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Ul("t",e),l=Ul("d",e);i==="c"?this.onControl_(l):i==="d"&&this.onDataMessage_(l)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Ul(kf,e);if(gv in e){const l=e[gv];if(i===TR){const o={...l};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===bv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===NR?this.onConnectionShutdown_(l):i===yv?this.onReset_(l):i===wR?Qf("Server Error: "+l):i===vv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qf("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,l=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Mh!==l&&Tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,l),Ql(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(xR))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ql(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(ER))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:xv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Rb{put(e,i,l,o){}merge(e,i,l,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,l){}onDisconnectMerge(e,i,l){}onDisconnectCancel(e,i){}reportStats(e){}}class Ab{constructor(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const l=[...this.listeners_[e]];for(let o=0;o<l.length;o++)l[o].callback.apply(l[o].context,i)}}on(e,i,l){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:l});const o=this.getInitialEvent(e);o&&i.apply(l,o)}off(e,i,l){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let c=0;c<o.length;c++)if(o[c].callback===i&&(!l||l===o[c].context)){o.splice(c,1);return}}validateEventType_(e){K(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}class hc extends Ab{static getInstance(){return new hc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!bh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return K(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Ev=32,Cv=768;class je{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let l=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[l]=this.pieces_[o],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Re(){return new je("")}function fe(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Pi(s){return s.pieces_.length-s.pieceNum_}function Pe(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new je(s.pieces_,e)}function Uh(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function AR(s){let e="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[i])));return e||"/"}function lr(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function Ib(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)e.push(s.pieces_[i]);return new je(e,0)}function Xe(s,e){const i=[];for(let l=s.pieceNum_;l<s.pieces_.length;l++)i.push(s.pieces_[l]);if(e instanceof je)for(let l=e.pieceNum_;l<e.pieces_.length;l++)i.push(e.pieces_[l]);else{const l=e.split("/");for(let o=0;o<l.length;o++)l[o].length>0&&i.push(l[o])}return new je(i,0)}function ve(s){return s.pieceNum_>=s.pieces_.length}function zt(s,e){const i=fe(s),l=fe(e);if(i===null)return e;if(i===l)return zt(Pe(s),Pe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function IR(s,e){const i=lr(s,0),l=lr(e,0);for(let o=0;o<i.length&&o<l.length;o++){const c=Cs(i[o],l[o]);if(c!==0)return c}return i.length===l.length?0:i.length<l.length?-1:1}function zh(s,e){if(Pi(s)!==Pi(e))return!1;for(let i=s.pieceNum_,l=e.pieceNum_;i<=s.pieces_.length;i++,l++)if(s.pieces_[i]!==e.pieces_[l])return!1;return!0}function on(s,e){let i=s.pieceNum_,l=e.pieceNum_;if(Pi(s)>Pi(e))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==e.pieces_[l])return!1;++i,++l}return!0}class kR{constructor(e,i){this.errorPrefix_=i,this.parts_=lr(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=kc(this.parts_[l]);kb(this)}}function OR(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=kc(e),kb(s)}function DR(s){const e=s.parts_.pop();s.byteLength_-=kc(e),s.parts_.length>0&&(s.byteLength_-=1)}function kb(s){if(s.byteLength_>Cv)throw new Error(s.errorPrefix_+"has a key path longer than "+Cv+" bytes ("+s.byteLength_+").");if(s.parts_.length>Ev)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ev+") or object contains a cycle "+ds(s))}function ds(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}class Ph extends Ab{static getInstance(){return new Ph}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const l=!document[e];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}getInitialEvent(e){return K(e==="visible","Unknown event type: "+e),[this.visible_]}}const zl=1e3,MR=300*1e3,Sv=30*1e3,LR=1.3,jR=3e4,UR="server_kill",Nv=3;class Zn extends Rb{constructor(e,i,l,o,c,f,g,m){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=l,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=f,this.appCheckTokenProvider_=g,this.authOverride_=m,this.id=Zn.nextPersistentConnectionId_++,this.log_=xr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zl,this.maxReconnectDelay_=MR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ph.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&hc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,l){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_(ht(c)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),l&&(this.requestCBHash_[o]=l)}get(e){this.initConnection_();const i=new pr,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const g=f.d;f.s==="ok"?i.resolve(g):i.reject(g)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),i.promise}listen(e,i,l,o){this.initConnection_();const c=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+c),this.listens.has(f)||this.listens.set(f,new Map),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(f).has(c),"listen() called twice for same path/queryId.");const g={onComplete:o,hashFn:i,query:e,tag:l};this.listens.get(f).set(c,g),this.connected_&&this.sendListen_(g)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,l=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(l)})}sendListen_(e){const i=e.query,l=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+l+" for "+o);const c={p:l},f="q";e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(f,c,g=>{const m=g.d,h=g.s;Zn.warnOnListenWarnings_(m,i),(this.listens.get(l)&&this.listens.get(l).get(o))===e&&(this.log_("listen response",g),h!=="ok"&&this.removeListen_(l,o),e.onComplete&&e.onComplete(h,m))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Rn(e,"w")){const l=ba(e,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||fN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Sv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=dN(e)?"auth":"gauth",l={cred:e};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(i,l,o=>{const c=o.s,f=o.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,l=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,l)})}unlisten(e,i){const l=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+l+" "+o),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,o)&&this.connected_&&this.sendUnlisten_(l,o,e._queryObject,i)}sendUnlisten_(e,i,l,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e},f="n";o&&(c.q=l,c.t=o),this.sendRequest(f,c)}onDisconnectPut(e,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:l})}onDisconnectMerge(e,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:l})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,l,o){const c={p:i,d:l};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(e,i,l,o){this.putInternal("p",e,i,l,o)}merge(e,i,l,o){this.putInternal("m",e,i,l,o)}putInternal(e,i,l,o,c){this.initConnection_();const f={p:i,d:l};c!==void 0&&(f.h=c),this.outstandingPuts_.push({action:e,request:f,onComplete:o}),this.outstandingPutCount_++;const g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,l=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,l,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,l=>{if(l.s!=="ok"){const c=l.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ht(e));const i=e.r,l=this.requestCBHash_[i];l&&(delete this.requestCBHash_[i],l(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):Qf("Unrecognized action received from server: "+ht(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=zl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jR&&(this.reconnectDelay_=zl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*LR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Zn.nextConnectionId_++,c=this.lastSessionId;let f=!1,g=null;const m=function(){g?g.close():(f=!0,l())},h=function(b){K(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(b)};this.realtime_={close:m,sendRequest:h};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,_]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);f?_t("getToken() completed but was canceled"):(_t("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=_&&_.token,g=new RR(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,l,E=>{Tt(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(UR)},c))}catch(b){this.log_("Failed to get token: "+b),f||(this.repoInfo_.nodeAdmin&&Tt(b),m())}}}interrupt(e){_t("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){_t("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zf(this.interruptReasons_)&&(this.reconnectDelay_=zl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let l;i?l=i.map(c=>Dh(c)).join("$"):l="default";const o=this.removeListen_(e,l);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const l=new je(e).toString();let o;if(this.listens.has(l)){const c=this.listens.get(l);o=c.get(i),c.delete(i),c.size===0&&this.listens.delete(l)}else o=void 0;return o}onAuthRevoked_(e,i){_t("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Nv&&(this.reconnectDelay_=Sv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){_t("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Nv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+rb.replace(/\./g,"-")]=1,bh()?e["framework.cordova"]=1:b_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=hc.getInstance().currentlyOnline();return zf(this.interruptReasons_)&&e}}Zn.nextPersistentConnectionId_=0;Zn.nextConnectionId_=0;class he{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new he(e,i)}}class jc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const l=new he(Ca,e),o=new he(Ca,i);return this.compare(l,o)!==0}minPost(){return he.MIN}}let Yo;class Ob extends jc{static get __EMPTY_NODE(){return Yo}static set __EMPTY_NODE(e){Yo=e}compare(e,i){return Cs(e.name,i.name)}isDefinedOn(e){throw Oa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return he.MIN}maxPost(){return new he(gs,Yo)}makePost(e,i){return K(typeof e=="string","KeyIndex indexValue must always be a string."),new he(e,Yo)}toString(){return".key"}}const ya=new Ob;class Go{constructor(e,i,l,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=i?l(e.key,i):1,o&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class dt{constructor(e,i,l,o,c){this.key=e,this.value=i,this.color=l??dt.RED,this.left=o??Pt.EMPTY_NODE,this.right=c??Pt.EMPTY_NODE}copy(e,i,l,o,c){return new dt(e??this.key,i??this.value,l??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,l){let o=this;const c=l(e,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(e,i,l),null):c===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,l)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let l,o;if(l=this,i(e,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),i(e,l.key)===0){if(l.right.isEmpty())return Pt.EMPTY_NODE;o=l.right.min_(),l=l.copy(o.key,o.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}dt.RED=!0;dt.BLACK=!1;class zR{copy(e,i,l,o,c){return this}insert(e,i,l){return new dt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Pt{constructor(e,i=Pt.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new Pt(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,dt.BLACK,null,null))}remove(e){return new Pt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,dt.BLACK,null,null))}get(e){let i,l=this.root_;for(;!l.isEmpty();){if(i=this.comparator_(e,l.key),i===0)return l.value;i<0?l=l.left:i>0&&(l=l.right)}return null}getPredecessorKey(e){let i,l=this.root_,o=null;for(;!l.isEmpty();)if(i=this.comparator_(e,l.key),i===0){if(l.left.isEmpty())return o?o.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else i<0?l=l.left:i>0&&(o=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Go(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new Go(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new Go(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new Go(this.root_,null,this.comparator_,!0,e)}}Pt.EMPTY_NODE=new zR;function PR(s,e){return Cs(s.name,e.name)}function Hh(s,e){return Cs(s,e)}let $f;function HR(s){$f=s}const Db=function(s){return typeof s=="number"?"number:"+db(s):"string:"+s},Mb=function(s){if(s.isLeafNode()){const e=s.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Rn(e,".sv"),"Priority must be a string or number.")}else K(s===$f||s.isEmpty(),"priority of unexpected type.");K(s===$f||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let wv;class ut{static set __childrenNodeConstructor(e){wv=e}static get __childrenNodeConstructor(){return wv}constructor(e,i=ut.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Mb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ut(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ut.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ve(e)?this:fe(e)===".priority"?this.priorityNode_:ut.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:ut.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const l=fe(e);return l===null?i:i.isEmpty()&&l!==".priority"?this:(K(l!==".priority"||Pi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,ut.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pe(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Db(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=db(this.value_):e+=this.value_,this.lazyHash_=cb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ut.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ut.__childrenNodeConstructor?-1:(K(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,l=typeof this.value_,o=ut.VALUE_TYPE_ORDER.indexOf(i),c=ut.VALUE_TYPE_ORDER.indexOf(l);return K(o>=0,"Unknown leaf type: "+i),K(c>=0,"Unknown leaf type: "+l),o===c?l==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}ut.VALUE_TYPE_ORDER=["object","boolean","number","string"];let Lb,jb;function BR(s){Lb=s}function qR(s){jb=s}class VR extends jc{compare(e,i){const l=e.node.getPriority(),o=i.node.getPriority(),c=l.compareTo(o);return c===0?Cs(e.name,i.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return he.MIN}maxPost(){return new he(gs,new ut("[PRIORITY-POST]",jb))}makePost(e,i){const l=Lb(e);return new he(i,new ut("[PRIORITY-POST]",l))}toString(){return".priority"}}const We=new VR;const FR=Math.log(2);class YR{constructor(e){const i=c=>parseInt(Math.log(c)/FR,10),l=c=>parseInt(Array(c+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=l(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const mc=function(s,e,i,l){s.sort(e);const o=function(m,h){const v=h-m;let b,_;if(v===0)return null;if(v===1)return b=s[m],_=i?i(b):b,new dt(_,b.node,dt.BLACK,null,null);{const E=parseInt(v/2,10)+m,S=o(m,E),A=o(E+1,h);return b=s[E],_=i?i(b):b,new dt(_,b.node,dt.BLACK,S,A)}},c=function(m){let h=null,v=null,b=s.length;const _=function(S,A){const k=b-S,F=b;b-=S;const L=o(k+1,F),z=s[k],Y=i?i(z):z;E(new dt(Y,z.node,A,null,L))},E=function(S){h?(h.left=S,h=S):(v=S,h=S)};for(let S=0;S<m.count;++S){const A=m.nextBitIsOne(),k=Math.pow(2,m.count-(S+1));A?_(k,dt.BLACK):(_(k,dt.BLACK),_(k,dt.RED))}return v},f=new YR(s.length),g=c(f);return new Pt(l||e,g)};let Of;const ca={};class Xn{static get Default(){return K(ca&&We,"ChildrenNode.ts has not been loaded"),Of=Of||new Xn({".priority":ca},{".priority":We}),Of}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=ba(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof Pt?i:null}hasIndex(e){return Rn(this.indexSet_,e.toString())}addIndex(e,i){K(e!==ya,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let o=!1;const c=i.getIterator(he.Wrap);let f=c.getNext();for(;f;)o=o||e.isDefinedOn(f.node),l.push(f),f=c.getNext();let g;o?g=mc(l,e.getCompare()):g=ca;const m=e.toString(),h={...this.indexSet_};h[m]=e;const v={...this.indexes_};return v[m]=g,new Xn(v,h)}addToIndexes(e,i){const l=sc(this.indexes_,(o,c)=>{const f=ba(this.indexSet_,c);if(K(f,"Missing index implementation for "+c),o===ca)if(f.isDefinedOn(e.node)){const g=[],m=i.getIterator(he.Wrap);let h=m.getNext();for(;h;)h.name!==e.name&&g.push(h),h=m.getNext();return g.push(e),mc(g,f.getCompare())}else return ca;else{const g=i.get(e.name);let m=o;return g&&(m=m.remove(new he(e.name,g))),m.insert(e,e.node)}});return new Xn(l,this.indexSet_)}removeFromIndexes(e,i){const l=sc(this.indexes_,o=>{if(o===ca)return o;{const c=i.get(e.name);return c?o.remove(new he(e.name,c)):o}});return new Xn(l,this.indexSet_)}}let Pl;class re{static get EMPTY_NODE(){return Pl||(Pl=new re(new Pt(Hh),null,Xn.Default))}constructor(e,i,l){this.children_=e,this.priorityNode_=i,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&Mb(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pl}updatePriority(e){return this.children_.isEmpty()?this:new re(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?Pl:i}}getChild(e){const i=fe(e);return i===null?this:this.getImmediateChild(i).getChild(Pe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(K(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const l=new he(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(l,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(l,this.children_));const f=o.isEmpty()?Pl:this.priorityNode_;return new re(o,f,c)}}updateChild(e,i){const l=fe(e);if(l===null)return i;{K(fe(e)!==".priority"||Pi(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(l).updateChild(Pe(e),i);return this.updateImmediateChild(l,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let l=0,o=0,c=!0;if(this.forEachChild(We,(f,g)=>{i[f]=g.val(e),l++,c&&re.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):c=!1}),!e&&c&&o<2*l){const f=[];for(const g in i)f[g]=i[g];return f}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Db(this.getPriority().val())+":"),this.forEachChild(We,(i,l)=>{const o=l.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":cb(e)}return this.lazyHash_}getPredecessorChildName(e,i,l){const o=this.resolveIndex_(l);if(o){const c=o.getPredecessorKey(new he(e,i));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const l=i.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new he(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const l=i.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new he(i,this.children_.get(i)):null}forEachChild(e,i){const l=this.resolveIndex_(e);return l?l.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const l=this.resolveIndex_(i);if(l)return l.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,he.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const l=this.resolveIndex_(i);if(l)return l.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,he.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Er?-1:0}withIndex(e){if(e===ya||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new re(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===ya||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const l=this.getIterator(We),o=i.getIterator(We);let c=l.getNext(),f=o.getNext();for(;c&&f;){if(c.name!==f.name||!c.node.equals(f.node))return!1;c=l.getNext(),f=o.getNext()}return c===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===ya?null:this.indexMap_.get(e.toString())}}re.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class GR extends re{constructor(){super(new Pt(Hh),re.EMPTY_NODE,Xn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return re.EMPTY_NODE}isEmpty(){return!1}}const Er=new GR;Object.defineProperties(he,{MIN:{value:new he(Ca,re.EMPTY_NODE)},MAX:{value:new he(gs,Er)}});Ob.__EMPTY_NODE=re.EMPTY_NODE;ut.__childrenNodeConstructor=re;HR(Er);qR(Er);const QR=!0;function ft(s,e=null){if(s===null)return re.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new ut(i,ft(e))}if(!(s instanceof Array)&&QR){const i=[];let l=!1;if(bt(s,(f,g)=>{if(f.substring(0,1)!=="."){const m=ft(g);m.isEmpty()||(l=l||!m.getPriority().isEmpty(),i.push(new he(f,m)))}}),i.length===0)return re.EMPTY_NODE;const c=mc(i,PR,f=>f.name,Hh);if(l){const f=mc(i,We.getCompare());return new re(c,ft(e),new Xn({".priority":f},{".priority":We}))}else return new re(c,ft(e),Xn.Default)}else{let i=re.EMPTY_NODE;return bt(s,(l,o)=>{if(Rn(s,l)&&l.substring(0,1)!=="."){const c=ft(o);(c.isLeafNode()||!c.isEmpty())&&(i=i.updateImmediateChild(l,c))}}),i.updatePriority(ft(e))}}BR(ft);class KR extends jc{constructor(e){super(),this.indexPath_=e,K(!ve(e)&&fe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const l=this.extractChild(e.node),o=this.extractChild(i.node),c=l.compareTo(o);return c===0?Cs(e.name,i.name):c}makePost(e,i){const l=ft(e),o=re.EMPTY_NODE.updateChild(this.indexPath_,l);return new he(i,o)}maxPost(){const e=re.EMPTY_NODE.updateChild(this.indexPath_,Er);return new he(gs,e)}toString(){return lr(this.indexPath_,0).join("/")}}class $R extends jc{compare(e,i){const l=e.node.compareTo(i.node);return l===0?Cs(e.name,i.name):l}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return he.MIN}maxPost(){return he.MAX}makePost(e,i){const l=ft(e);return new he(i,l)}toString(){return".value"}}const XR=new $R;function Ub(s){return{type:"value",snapshotNode:s}}function Sa(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function rr(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function or(s,e,i){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:i}}function WR(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}class Bh{constructor(e){this.index_=e}updateChild(e,i,l,o,c,f){K(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=e.getImmediateChild(i);return g.getChild(o).equals(l.getChild(o))&&g.isEmpty()===l.isEmpty()||(f!=null&&(l.isEmpty()?e.hasChild(i)?f.trackChildChange(rr(i,g)):K(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?f.trackChildChange(Sa(i,l)):f.trackChildChange(or(i,l,g))),e.isLeafNode()&&l.isEmpty())?e:e.updateImmediateChild(i,l).withIndex(this.index_)}updateFullNode(e,i,l){return l!=null&&(e.isLeafNode()||e.forEachChild(We,(o,c)=>{i.hasChild(o)||l.trackChildChange(rr(o,c))}),i.isLeafNode()||i.forEachChild(We,(o,c)=>{if(e.hasChild(o)){const f=e.getImmediateChild(o);f.equals(c)||l.trackChildChange(or(o,c,f))}else l.trackChildChange(Sa(o,c))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?re.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class cr{constructor(e){this.indexedFilter_=new Bh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=cr.getStartPost_(e),this.endPost_=cr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,l=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&l}updateChild(e,i,l,o,c,f){return this.matches(new he(i,l))||(l=re.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,l,o,c,f)}updateFullNode(e,i,l){i.isLeafNode()&&(i=re.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(re.EMPTY_NODE);const c=this;return i.forEachChild(We,(f,g)=>{c.matches(new he(f,g))||(o=o.updateImmediateChild(f,re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,l)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}class ZR{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=i=>{const l=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new cr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,l,o,c,f){return this.rangedFilter_.matches(new he(i,l))||(l=re.EMPTY_NODE),e.getImmediateChild(i).equals(l)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,l,o,c,f):this.fullLimitUpdateChild_(e,i,l,c,f)}updateFullNode(e,i,l){let o;if(i.isLeafNode()||i.isEmpty())o=re.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=re.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const g=c.getNext();if(this.withinDirectionalStart(g))if(this.withinDirectionalEnd(g))o=o.updateImmediateChild(g.name,g.node),f++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(re.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let f=0;for(;c.hasNext();){const g=c.getNext();f<this.limit_&&this.withinDirectionalStart(g)&&this.withinDirectionalEnd(g)?f++:o=o.updateImmediateChild(g.name,re.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,l)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,l,o,c){let f;if(this.reverse_){const b=this.index_.getCompare();f=(_,E)=>b(E,_)}else f=this.index_.getCompare();const g=e;K(g.numChildren()===this.limit_,"");const m=new he(i,l),h=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),v=this.rangedFilter_.matches(m);if(g.hasChild(i)){const b=g.getImmediateChild(i);let _=o.getChildAfterChild(this.index_,h,this.reverse_);for(;_!=null&&(_.name===i||g.hasChild(_.name));)_=o.getChildAfterChild(this.index_,_,this.reverse_);const E=_==null?1:f(_,m);if(v&&!l.isEmpty()&&E>=0)return c?.trackChildChange(or(i,l,b)),g.updateImmediateChild(i,l);{c?.trackChildChange(rr(i,b));const A=g.updateImmediateChild(i,re.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(c?.trackChildChange(Sa(_.name,_.node)),A.updateImmediateChild(_.name,_.node)):A}}else return l.isEmpty()?e:v&&f(h,m)>=0?(c!=null&&(c.trackChildChange(rr(h.name,h.node)),c.trackChildChange(Sa(i,l))),g.updateImmediateChild(i,l).updateImmediateChild(h.name,re.EMPTY_NODE)):e}}class qh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=We}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ca}hasEnd(){return this.endSet_}getIndexEndValue(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===We}copy(){const e=new qh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function JR(s){return s.loadsAllData()?new Bh(s.getIndex()):s.hasLimit()?new ZR(s):new cr(s)}function Tv(s){const e={};if(s.isDefault())return e;let i;if(s.index_===We?i="$priority":s.index_===XR?i="$value":s.index_===ya?i="$key":(K(s.index_ instanceof KR,"Unrecognized index type!"),i=s.index_.toString()),e.orderBy=ht(i),s.startSet_){const l=s.startAfterSet_?"startAfter":"startAt";e[l]=ht(s.indexStartValue_),s.startNameSet_&&(e[l]+=","+ht(s.indexStartName_))}if(s.endSet_){const l=s.endBeforeSet_?"endBefore":"endAt";e[l]=ht(s.indexEndValue_),s.endNameSet_&&(e[l]+=","+ht(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function Rv(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),e.vf=i}return s.index_!==We&&(e.i=s.index_.toString()),e}class pc extends Rb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(K(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,l,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=o,this.log_=xr("p:rest:"),this.listens_={}}listen(e,i,l,o){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const f=pc.getListenId_(e,l),g={};this.listens_[f]=g;const m=Tv(e._queryParams);this.restRequest_(c+".json",m,(h,v)=>{let b=v;if(h===404&&(b=null,h=null),h===null&&this.onDataUpdate_(c,b,!1,l),ba(this.listens_,f)===g){let _;h?h===401?_="permission_denied":_="rest_error:"+h:_="ok",o(_,null)}})}unlisten(e,i){const l=pc.getListenId_(e,i);delete this.listens_[l]}get(e){const i=Tv(e._queryParams),l=e._path.toString(),o=new pr;return this.restRequest_(l+".json",i,(c,f)=>{let g=f;c===404&&(g=null,c=null),c===null?(this.onDataUpdate_(l,g,!1,null),o.resolve(g)):o.reject(new Error(g))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},l){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(i.auth=o.accessToken),c&&c.token&&(i.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ma(i);this.log_("Sending REST request for "+f);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(l&&g.readyState===4){this.log_("REST Response for "+f+" received. status:",g.status,"response:",g.responseText);let m=null;if(g.status>=200&&g.status<300){try{m=tr(g.responseText)}catch{Tt("Failed to parse JSON response for "+f+": "+g.responseText)}l(null,m)}else g.status!==401&&g.status!==404&&Tt("Got unsuccessful REST response for "+f+" Status: "+g.status),l(g.status);l=null}},g.open("GET",f,!0),g.send()})}}class eA{constructor(){this.rootNode_=re.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}function gc(){return{value:null,children:new Map}}function zb(s,e,i){if(ve(e))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,i);else{const l=fe(e);s.children.has(l)||s.children.set(l,gc());const o=s.children.get(l);e=Pe(e),zb(o,e,i)}}function Xf(s,e,i){s.value!==null?i(e,s.value):tA(s,(l,o)=>{const c=new je(e.toString()+"/"+l);Xf(o,c,i)})}function tA(s,e){s.children.forEach((i,l)=>{e(l,i)})}class nA{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i={...e};return this.last_&&bt(this.last_,(l,o)=>{i[l]=i[l]-o}),this.last_=e,i}}const Av=10*1e3,iA=30*1e3,sA=300*1e3;class aA{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new nA(e);const l=Av+(iA-Av)*Math.random();Ql(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const e=this.statsListener_.get(),i={};let l=!1;bt(e,(o,c)=>{c>0&&Rn(this.statsToReport_,o)&&(i[o]=c,l=!0)}),l&&this.server_.reportStats(i),Ql(this.reportStats_.bind(this),Math.floor(Math.random()*2*sA))}}var pn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(pn||(pn={}));function Vh(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Fh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Yh(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class yc{constructor(e,i,l){this.path=e,this.affectedTree=i,this.revert=l,this.type=pn.ACK_USER_WRITE,this.source=Vh()}operationForChild(e){if(ve(this.path)){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new je(e));return new yc(Re(),i,this.revert)}}else return K(fe(this.path)===e,"operationForChild called for unrelated child."),new yc(Pe(this.path),this.affectedTree,this.revert)}}class ur{constructor(e,i){this.source=e,this.path=i,this.type=pn.LISTEN_COMPLETE}operationForChild(e){return ve(this.path)?new ur(this.source,Re()):new ur(this.source,Pe(this.path))}}class ys{constructor(e,i,l){this.source=e,this.path=i,this.snap=l,this.type=pn.OVERWRITE}operationForChild(e){return ve(this.path)?new ys(this.source,Re(),this.snap.getImmediateChild(e)):new ys(this.source,Pe(this.path),this.snap)}}class Na{constructor(e,i,l){this.source=e,this.path=i,this.children=l,this.type=pn.MERGE}operationForChild(e){if(ve(this.path)){const i=this.children.subtree(new je(e));return i.isEmpty()?null:i.value?new ys(this.source,Re(),i.value):new Na(this.source,Re(),i)}else return K(fe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Na(this.source,Pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class vs{constructor(e,i,l){this.node_=e,this.fullyInitialized_=i,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ve(e))return this.isFullyInitialized()&&!this.filtered_;const i=fe(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class lA{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function rA(s,e,i,l){const o=[],c=[];return e.forEach(f=>{f.type==="child_changed"&&s.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(WR(f.childName,f.snapshotNode))}),Hl(s,o,"child_removed",e,l,i),Hl(s,o,"child_added",e,l,i),Hl(s,o,"child_moved",c,l,i),Hl(s,o,"child_changed",e,l,i),Hl(s,o,"value",e,l,i),o}function Hl(s,e,i,l,o,c){const f=l.filter(g=>g.type===i);f.sort((g,m)=>cA(s,g,m)),f.forEach(g=>{const m=oA(s,g,c);o.forEach(h=>{h.respondsTo(g.type)&&e.push(h.createEvent(m,s.query_))})})}function oA(s,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function cA(s,e,i){if(e.childName==null||i.childName==null)throw Oa("Should only compare child_ events.");const l=new he(e.childName,e.snapshotNode),o=new he(i.childName,i.snapshotNode);return s.index_.compare(l,o)}function Uc(s,e){return{eventCache:s,serverCache:e}}function Kl(s,e,i,l){return Uc(new vs(e,i,l),s.serverCache)}function Pb(s,e,i,l){return Uc(s.eventCache,new vs(e,i,l))}function Wf(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function _s(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let Df;const uA=()=>(Df||(Df=new Pt(K2)),Df);class ze{static fromObject(e){let i=new ze(null);return bt(e,(l,o)=>{i=i.set(new je(l),o)}),i}constructor(e,i=uA()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Re(),value:this.value};if(ve(e))return null;{const l=fe(e),o=this.children.get(l);if(o!==null){const c=o.findRootMostMatchingPathAndValue(Pe(e),i);return c!=null?{path:Xe(new je(l),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ve(e))return this;{const i=fe(e),l=this.children.get(i);return l!==null?l.subtree(Pe(e)):new ze(null)}}set(e,i){if(ve(e))return new ze(i,this.children);{const l=fe(e),c=(this.children.get(l)||new ze(null)).set(Pe(e),i),f=this.children.insert(l,c);return new ze(this.value,f)}}remove(e){if(ve(e))return this.children.isEmpty()?new ze(null):new ze(null,this.children);{const i=fe(e),l=this.children.get(i);if(l){const o=l.remove(Pe(e));let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),this.value===null&&c.isEmpty()?new ze(null):new ze(this.value,c)}else return this}}get(e){if(ve(e))return this.value;{const i=fe(e),l=this.children.get(i);return l?l.get(Pe(e)):null}}setTree(e,i){if(ve(e))return i;{const l=fe(e),c=(this.children.get(l)||new ze(null)).setTree(Pe(e),i);let f;return c.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,c),new ze(this.value,f)}}fold(e){return this.fold_(Re(),e)}fold_(e,i){const l={};return this.children.inorderTraversal((o,c)=>{l[o]=c.fold_(Xe(e,o),i)}),i(e,this.value,l)}findOnPath(e,i){return this.findOnPath_(e,Re(),i)}findOnPath_(e,i,l){const o=this.value?l(i,this.value):!1;if(o)return o;if(ve(e))return null;{const c=fe(e),f=this.children.get(c);return f?f.findOnPath_(Pe(e),Xe(i,c),l):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Re(),i)}foreachOnPath_(e,i,l){if(ve(e))return this;{this.value&&l(i,this.value);const o=fe(e),c=this.children.get(o);return c?c.foreachOnPath_(Pe(e),Xe(i,o),l):new ze(null)}}foreach(e){this.foreach_(Re(),e)}foreach_(e,i){this.children.inorderTraversal((l,o)=>{o.foreach_(Xe(e,l),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,l)=>{l.value&&e(i,l.value)})}}class gn{constructor(e){this.writeTree_=e}static empty(){return new gn(new ze(null))}}function $l(s,e,i){if(ve(e))return new gn(new ze(i));{const l=s.writeTree_.findRootMostValueAndPath(e);if(l!=null){const o=l.path;let c=l.value;const f=zt(o,e);return c=c.updateChild(f,i),new gn(s.writeTree_.set(o,c))}else{const o=new ze(i),c=s.writeTree_.setTree(e,o);return new gn(c)}}}function Zf(s,e,i){let l=s;return bt(i,(o,c)=>{l=$l(l,Xe(e,o),c)}),l}function Iv(s,e){if(ve(e))return gn.empty();{const i=s.writeTree_.setTree(e,new ze(null));return new gn(i)}}function Jf(s,e){return Ss(s,e)!=null}function Ss(s,e){const i=s.writeTree_.findRootMostValueAndPath(e);return i!=null?s.writeTree_.get(i.path).getChild(zt(i.path,e)):null}function kv(s){const e=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(We,(l,o)=>{e.push(new he(l,o))}):s.writeTree_.children.inorderTraversal((l,o)=>{o.value!=null&&e.push(new he(l,o.value))}),e}function zi(s,e){if(ve(e))return s;{const i=Ss(s,e);return i!=null?new gn(new ze(i)):new gn(s.writeTree_.subtree(e))}}function eh(s){return s.writeTree_.isEmpty()}function wa(s,e){return Hb(Re(),s.writeTree_,e)}function Hb(s,e,i){if(e.value!=null)return i.updateChild(s,e.value);{let l=null;return e.children.inorderTraversal((o,c)=>{o===".priority"?(K(c.value!==null,"Priority writes must always be leaf nodes"),l=c.value):i=Hb(Xe(s,o),c,i)}),!i.getChild(s).isEmpty()&&l!==null&&(i=i.updateChild(Xe(s,".priority"),l)),i}}function Gh(s,e){return Fb(e,s)}function dA(s,e,i,l,o){K(l>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:e,snap:i,writeId:l,visible:o}),o&&(s.visibleWrites=$l(s.visibleWrites,e,i)),s.lastWriteId=l}function fA(s,e,i,l){K(l>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:e,children:i,writeId:l,visible:!0}),s.visibleWrites=Zf(s.visibleWrites,e,i),s.lastWriteId=l}function hA(s,e){for(let i=0;i<s.allWrites.length;i++){const l=s.allWrites[i];if(l.writeId===e)return l}return null}function mA(s,e){const i=s.allWrites.findIndex(g=>g.writeId===e);K(i>=0,"removeWrite called with nonexistent writeId.");const l=s.allWrites[i];s.allWrites.splice(i,1);let o=l.visible,c=!1,f=s.allWrites.length-1;for(;o&&f>=0;){const g=s.allWrites[f];g.visible&&(f>=i&&pA(g,l.path)?o=!1:on(l.path,g.path)&&(c=!0)),f--}if(o){if(c)return gA(s),!0;if(l.snap)s.visibleWrites=Iv(s.visibleWrites,l.path);else{const g=l.children;bt(g,m=>{s.visibleWrites=Iv(s.visibleWrites,Xe(l.path,m))})}return!0}else return!1}function pA(s,e){if(s.snap)return on(s.path,e);for(const i in s.children)if(s.children.hasOwnProperty(i)&&on(Xe(s.path,i),e))return!0;return!1}function gA(s){s.visibleWrites=Bb(s.allWrites,yA,Re()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function yA(s){return s.visible}function Bb(s,e,i){let l=gn.empty();for(let o=0;o<s.length;++o){const c=s[o];if(e(c)){const f=c.path;let g;if(c.snap)on(i,f)?(g=zt(i,f),l=$l(l,g,c.snap)):on(f,i)&&(g=zt(f,i),l=$l(l,Re(),c.snap.getChild(g)));else if(c.children){if(on(i,f))g=zt(i,f),l=Zf(l,g,c.children);else if(on(f,i))if(g=zt(f,i),ve(g))l=Zf(l,Re(),c.children);else{const m=ba(c.children,fe(g));if(m){const h=m.getChild(Pe(g));l=$l(l,Re(),h)}}}else throw Oa("WriteRecord should have .snap or .children")}}return l}function qb(s,e,i,l,o){if(!l&&!o){const c=Ss(s.visibleWrites,e);if(c!=null)return c;{const f=zi(s.visibleWrites,e);if(eh(f))return i;if(i==null&&!Jf(f,Re()))return null;{const g=i||re.EMPTY_NODE;return wa(f,g)}}}else{const c=zi(s.visibleWrites,e);if(!o&&eh(c))return i;if(!o&&i==null&&!Jf(c,Re()))return null;{const f=function(h){return(h.visible||o)&&(!l||!~l.indexOf(h.writeId))&&(on(h.path,e)||on(e,h.path))},g=Bb(s.allWrites,f,e),m=i||re.EMPTY_NODE;return wa(g,m)}}}function vA(s,e,i){let l=re.EMPTY_NODE;const o=Ss(s.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(We,(c,f)=>{l=l.updateImmediateChild(c,f)}),l;if(i){const c=zi(s.visibleWrites,e);return i.forEachChild(We,(f,g)=>{const m=wa(zi(c,new je(f)),g);l=l.updateImmediateChild(f,m)}),kv(c).forEach(f=>{l=l.updateImmediateChild(f.name,f.node)}),l}else{const c=zi(s.visibleWrites,e);return kv(c).forEach(f=>{l=l.updateImmediateChild(f.name,f.node)}),l}}function _A(s,e,i,l,o){K(l||o,"Either existingEventSnap or existingServerSnap must exist");const c=Xe(e,i);if(Jf(s.visibleWrites,c))return null;{const f=zi(s.visibleWrites,c);return eh(f)?o.getChild(i):wa(f,o.getChild(i))}}function bA(s,e,i,l){const o=Xe(e,i),c=Ss(s.visibleWrites,o);if(c!=null)return c;if(l.isCompleteForChild(i)){const f=zi(s.visibleWrites,o);return wa(f,l.getNode().getImmediateChild(i))}else return null}function xA(s,e){return Ss(s.visibleWrites,e)}function EA(s,e,i,l,o,c,f){let g;const m=zi(s.visibleWrites,e),h=Ss(m,Re());if(h!=null)g=h;else if(i!=null)g=wa(m,i);else return[];if(g=g.withIndex(f),!g.isEmpty()&&!g.isLeafNode()){const v=[],b=f.getCompare(),_=c?g.getReverseIteratorFrom(l,f):g.getIteratorFrom(l,f);let E=_.getNext();for(;E&&v.length<o;)b(E,l)!==0&&v.push(E),E=_.getNext();return v}else return[]}function CA(){return{visibleWrites:gn.empty(),allWrites:[],lastWriteId:-1}}function vc(s,e,i,l){return qb(s.writeTree,s.treePath,e,i,l)}function Qh(s,e){return vA(s.writeTree,s.treePath,e)}function Ov(s,e,i,l){return _A(s.writeTree,s.treePath,e,i,l)}function _c(s,e){return xA(s.writeTree,Xe(s.treePath,e))}function SA(s,e,i,l,o,c){return EA(s.writeTree,s.treePath,e,i,l,o,c)}function Kh(s,e,i){return bA(s.writeTree,s.treePath,e,i)}function Vb(s,e){return Fb(Xe(s.treePath,e),s.writeTree)}function Fb(s,e){return{treePath:s,writeTree:e}}class NA{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,l=e.childName;K(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),K(l!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(l);if(o){const c=o.type;if(i==="child_added"&&c==="child_removed")this.changeMap.set(l,or(l,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&c==="child_added")this.changeMap.delete(l);else if(i==="child_removed"&&c==="child_changed")this.changeMap.set(l,rr(l,o.oldSnap));else if(i==="child_changed"&&c==="child_added")this.changeMap.set(l,Sa(l,e.snapshotNode));else if(i==="child_changed"&&c==="child_changed")this.changeMap.set(l,or(l,e.snapshotNode,o.oldSnap));else throw Oa("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(l,e)}getChanges(){return Array.from(this.changeMap.values())}}class wA{getCompleteChild(e){return null}getChildAfterChild(e,i,l){return null}}const Yb=new wA;class $h{constructor(e,i,l=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=l}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const l=this.optCompleteServerCache_!=null?new vs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Kh(this.writes_,e,l)}}getChildAfterChild(e,i,l){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:_s(this.viewCache_),c=SA(this.writes_,o,i,1,l,e);return c.length===0?null:c[0]}}function TA(s){return{filter:s}}function RA(s,e){K(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),K(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function AA(s,e,i,l,o){const c=new NA;let f,g;if(i.type===pn.OVERWRITE){const h=i;h.source.fromUser?f=th(s,e,h.path,h.snap,l,o,c):(K(h.source.fromServer,"Unknown source."),g=h.source.tagged||e.serverCache.isFiltered()&&!ve(h.path),f=bc(s,e,h.path,h.snap,l,o,g,c))}else if(i.type===pn.MERGE){const h=i;h.source.fromUser?f=kA(s,e,h.path,h.children,l,o,c):(K(h.source.fromServer,"Unknown source."),g=h.source.tagged||e.serverCache.isFiltered(),f=nh(s,e,h.path,h.children,l,o,g,c))}else if(i.type===pn.ACK_USER_WRITE){const h=i;h.revert?f=MA(s,e,h.path,l,o,c):f=OA(s,e,h.path,h.affectedTree,l,o,c)}else if(i.type===pn.LISTEN_COMPLETE)f=DA(s,e,i.path,l,c);else throw Oa("Unknown operation type: "+i.type);const m=c.getChanges();return IA(e,f,m),{viewCache:f,changes:m}}function IA(s,e,i){const l=e.eventCache;if(l.isFullyInitialized()){const o=l.getNode().isLeafNode()||l.getNode().isEmpty(),c=Wf(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!l.getNode().equals(c)||!l.getNode().getPriority().equals(c.getPriority()))&&i.push(Ub(Wf(e)))}}function Gb(s,e,i,l,o,c){const f=e.eventCache;if(_c(l,i)!=null)return e;{let g,m;if(ve(i))if(K(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=_s(e),v=h instanceof re?h:re.EMPTY_NODE,b=Qh(l,v);g=s.filter.updateFullNode(e.eventCache.getNode(),b,c)}else{const h=vc(l,_s(e));g=s.filter.updateFullNode(e.eventCache.getNode(),h,c)}else{const h=fe(i);if(h===".priority"){K(Pi(i)===1,"Can't have a priority with additional path components");const v=f.getNode();m=e.serverCache.getNode();const b=Ov(l,i,v,m);b!=null?g=s.filter.updatePriority(v,b):g=f.getNode()}else{const v=Pe(i);let b;if(f.isCompleteForChild(h)){m=e.serverCache.getNode();const _=Ov(l,i,f.getNode(),m);_!=null?b=f.getNode().getImmediateChild(h).updateChild(v,_):b=f.getNode().getImmediateChild(h)}else b=Kh(l,h,e.serverCache);b!=null?g=s.filter.updateChild(f.getNode(),h,b,v,o,c):g=f.getNode()}}return Kl(e,g,f.isFullyInitialized()||ve(i),s.filter.filtersNodes())}}function bc(s,e,i,l,o,c,f,g){const m=e.serverCache;let h;const v=f?s.filter:s.filter.getIndexedFilter();if(ve(i))h=v.updateFullNode(m.getNode(),l,null);else if(v.filtersNodes()&&!m.isFiltered()){const E=m.getNode().updateChild(i,l);h=v.updateFullNode(m.getNode(),E,null)}else{const E=fe(i);if(!m.isCompleteForPath(i)&&Pi(i)>1)return e;const S=Pe(i),k=m.getNode().getImmediateChild(E).updateChild(S,l);E===".priority"?h=v.updatePriority(m.getNode(),k):h=v.updateChild(m.getNode(),E,k,S,Yb,null)}const b=Pb(e,h,m.isFullyInitialized()||ve(i),v.filtersNodes()),_=new $h(o,b,c);return Gb(s,b,i,o,_,g)}function th(s,e,i,l,o,c,f){const g=e.eventCache;let m,h;const v=new $h(o,e,c);if(ve(i))h=s.filter.updateFullNode(e.eventCache.getNode(),l,f),m=Kl(e,h,!0,s.filter.filtersNodes());else{const b=fe(i);if(b===".priority")h=s.filter.updatePriority(e.eventCache.getNode(),l),m=Kl(e,h,g.isFullyInitialized(),g.isFiltered());else{const _=Pe(i),E=g.getNode().getImmediateChild(b);let S;if(ve(_))S=l;else{const A=v.getCompleteChild(b);A!=null?Uh(_)===".priority"&&A.getChild(Ib(_)).isEmpty()?S=A:S=A.updateChild(_,l):S=re.EMPTY_NODE}if(E.equals(S))m=e;else{const A=s.filter.updateChild(g.getNode(),b,S,_,v,f);m=Kl(e,A,g.isFullyInitialized(),s.filter.filtersNodes())}}}return m}function Dv(s,e){return s.eventCache.isCompleteForChild(e)}function kA(s,e,i,l,o,c,f){let g=e;return l.foreach((m,h)=>{const v=Xe(i,m);Dv(e,fe(v))&&(g=th(s,g,v,h,o,c,f))}),l.foreach((m,h)=>{const v=Xe(i,m);Dv(e,fe(v))||(g=th(s,g,v,h,o,c,f))}),g}function Mv(s,e,i){return i.foreach((l,o)=>{e=e.updateChild(l,o)}),e}function nh(s,e,i,l,o,c,f,g){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,h;ve(i)?h=l:h=new ze(null).setTree(i,l);const v=e.serverCache.getNode();return h.children.inorderTraversal((b,_)=>{if(v.hasChild(b)){const E=e.serverCache.getNode().getImmediateChild(b),S=Mv(s,E,_);m=bc(s,m,new je(b),S,o,c,f,g)}}),h.children.inorderTraversal((b,_)=>{const E=!e.serverCache.isCompleteForChild(b)&&_.value===null;if(!v.hasChild(b)&&!E){const S=e.serverCache.getNode().getImmediateChild(b),A=Mv(s,S,_);m=bc(s,m,new je(b),A,o,c,f,g)}}),m}function OA(s,e,i,l,o,c,f){if(_c(o,i)!=null)return e;const g=e.serverCache.isFiltered(),m=e.serverCache;if(l.value!=null){if(ve(i)&&m.isFullyInitialized()||m.isCompleteForPath(i))return bc(s,e,i,m.getNode().getChild(i),o,c,g,f);if(ve(i)){let h=new ze(null);return m.getNode().forEachChild(ya,(v,b)=>{h=h.set(new je(v),b)}),nh(s,e,i,h,o,c,g,f)}else return e}else{let h=new ze(null);return l.foreach((v,b)=>{const _=Xe(i,v);m.isCompleteForPath(_)&&(h=h.set(v,m.getNode().getChild(_)))}),nh(s,e,i,h,o,c,g,f)}}function DA(s,e,i,l,o){const c=e.serverCache,f=Pb(e,c.getNode(),c.isFullyInitialized()||ve(i),c.isFiltered());return Gb(s,f,i,l,Yb,o)}function MA(s,e,i,l,o,c){let f;if(_c(l,i)!=null)return e;{const g=new $h(l,e,o),m=e.eventCache.getNode();let h;if(ve(i)||fe(i)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=vc(l,_s(e));else{const b=e.serverCache.getNode();K(b instanceof re,"serverChildren would be complete if leaf node"),v=Qh(l,b)}v=v,h=s.filter.updateFullNode(m,v,c)}else{const v=fe(i);let b=Kh(l,v,e.serverCache);b==null&&e.serverCache.isCompleteForChild(v)&&(b=m.getImmediateChild(v)),b!=null?h=s.filter.updateChild(m,v,b,Pe(i),g,c):e.eventCache.getNode().hasChild(v)?h=s.filter.updateChild(m,v,re.EMPTY_NODE,Pe(i),g,c):h=m,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=vc(l,_s(e)),f.isLeafNode()&&(h=s.filter.updateFullNode(h,f,c)))}return f=e.serverCache.isFullyInitialized()||_c(l,Re())!=null,Kl(e,h,f,s.filter.filtersNodes())}}class LA{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const l=this.query_._queryParams,o=new Bh(l.getIndex()),c=JR(l);this.processor_=TA(c);const f=i.serverCache,g=i.eventCache,m=o.updateFullNode(re.EMPTY_NODE,f.getNode(),null),h=c.updateFullNode(re.EMPTY_NODE,g.getNode(),null),v=new vs(m,f.isFullyInitialized(),o.filtersNodes()),b=new vs(h,g.isFullyInitialized(),c.filtersNodes());this.viewCache_=Uc(b,v),this.eventGenerator_=new lA(this.query_)}get query(){return this.query_}}function jA(s){return s.viewCache_.serverCache.getNode()}function UA(s,e){const i=_s(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!ve(e)&&!i.getImmediateChild(fe(e)).isEmpty())?i.getChild(e):null}function Lv(s){return s.eventRegistrations_.length===0}function zA(s,e){s.eventRegistrations_.push(e)}function jv(s,e,i){const l=[];if(i){K(e==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(i,o);f&&l.push(f)})}if(e){let o=[];for(let c=0;c<s.eventRegistrations_.length;++c){const f=s.eventRegistrations_[c];if(!f.matches(e))o.push(f);else if(e.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(c+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return l}function Uv(s,e,i,l){e.type===pn.MERGE&&e.source.queryId!==null&&(K(_s(s.viewCache_),"We should always have a full cache before handling merges"),K(Wf(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,c=AA(s.processor_,o,e,i,l);return RA(s.processor_,c.viewCache),K(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=c.viewCache,Qb(s,c.changes,c.viewCache.eventCache.getNode(),null)}function PA(s,e){const i=s.viewCache_.eventCache,l=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(We,(c,f)=>{l.push(Sa(c,f))}),i.isFullyInitialized()&&l.push(Ub(i.getNode())),Qb(s,l,i.getNode(),e)}function Qb(s,e,i,l){const o=l?[l]:s.eventRegistrations_;return rA(s.eventGenerator_,e,i,o)}let xc;class HA{constructor(){this.views=new Map}}function BA(s){K(!xc,"__referenceConstructor has already been defined"),xc=s}function qA(){return K(xc,"Reference.ts has not been loaded"),xc}function VA(s){return s.views.size===0}function Xh(s,e,i,l){const o=e.source.queryId;if(o!==null){const c=s.views.get(o);return K(c!=null,"SyncTree gave us an op for an invalid query."),Uv(c,e,i,l)}else{let c=[];for(const f of s.views.values())c=c.concat(Uv(f,e,i,l));return c}}function FA(s,e,i,l,o){const c=e._queryIdentifier,f=s.views.get(c);if(!f){let g=vc(i,o?l:null),m=!1;g?m=!0:l instanceof re?(g=Qh(i,l),m=!1):(g=re.EMPTY_NODE,m=!1);const h=Uc(new vs(g,m,!1),new vs(l,o,!1));return new LA(e,h)}return f}function YA(s,e,i,l,o,c){const f=FA(s,e,l,o,c);return s.views.has(e._queryIdentifier)||s.views.set(e._queryIdentifier,f),zA(f,i),PA(f,i)}function GA(s,e,i,l){const o=e._queryIdentifier,c=[];let f=[];const g=Hi(s);if(o==="default")for(const[m,h]of s.views.entries())f=f.concat(jv(h,i,l)),Lv(h)&&(s.views.delete(m),h.query._queryParams.loadsAllData()||c.push(h.query));else{const m=s.views.get(o);m&&(f=f.concat(jv(m,i,l)),Lv(m)&&(s.views.delete(o),m.query._queryParams.loadsAllData()||c.push(m.query)))}return g&&!Hi(s)&&c.push(new(qA())(e._repo,e._path)),{removed:c,events:f}}function Kb(s){const e=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function va(s,e){let i=null;for(const l of s.views.values())i=i||UA(l,e);return i}function $b(s,e){if(e._queryParams.loadsAllData())return zc(s);{const l=e._queryIdentifier;return s.views.get(l)}}function Xb(s,e){return $b(s,e)!=null}function Hi(s){return zc(s)!=null}function zc(s){for(const e of s.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Ec;function QA(s){K(!Ec,"__referenceConstructor has already been defined"),Ec=s}function KA(){return K(Ec,"Reference.ts has not been loaded"),Ec}let $A=1;class zv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ze(null),this.pendingWriteTree_=CA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Wb(s,e,i,l,o){return dA(s.pendingWriteTree_,e,i,l,o),o?Pa(s,new ys(Vh(),e,i)):[]}function XA(s,e,i,l){fA(s.pendingWriteTree_,e,i,l);const o=ze.fromObject(i);return Pa(s,new Na(Vh(),e,o))}function Di(s,e,i=!1){const l=hA(s.pendingWriteTree_,e);if(mA(s.pendingWriteTree_,e)){let c=new ze(null);return l.snap!=null?c=c.set(Re(),!0):bt(l.children,f=>{c=c.set(new je(f),!0)}),Pa(s,new yc(l.path,c,i))}else return[]}function Pc(s,e,i){return Pa(s,new ys(Fh(),e,i))}function WA(s,e,i){const l=ze.fromObject(i);return Pa(s,new Na(Fh(),e,l))}function ZA(s,e){return Pa(s,new ur(Fh(),e))}function JA(s,e,i){const l=Zh(s,i);if(l){const o=Jh(l),c=o.path,f=o.queryId,g=zt(c,e),m=new ur(Yh(f),g);return em(s,c,m)}else return[]}function ih(s,e,i,l,o=!1){const c=e._path,f=s.syncPointTree_.get(c);let g=[];if(f&&(e._queryIdentifier==="default"||Xb(f,e))){const m=GA(f,e,i,l);VA(f)&&(s.syncPointTree_=s.syncPointTree_.remove(c));const h=m.removed;if(g=m.events,!o){const v=h.findIndex(_=>_._queryParams.loadsAllData())!==-1,b=s.syncPointTree_.findOnPath(c,(_,E)=>Hi(E));if(v&&!b){const _=s.syncPointTree_.subtree(c);if(!_.isEmpty()){const E=n3(_);for(let S=0;S<E.length;++S){const A=E[S],k=A.query,F=ex(s,A);s.listenProvider_.startListening(Xl(k),Cc(s,k),F.hashFn,F.onComplete)}}}!b&&h.length>0&&!l&&(v?s.listenProvider_.stopListening(Xl(e),null):h.forEach(_=>{const E=s.queryToTagMap.get(Hc(_));s.listenProvider_.stopListening(Xl(_),E)}))}i3(s,h)}return g}function e3(s,e,i,l){const o=Zh(s,l);if(o!=null){const c=Jh(o),f=c.path,g=c.queryId,m=zt(f,e),h=new ys(Yh(g),m,i);return em(s,f,h)}else return[]}function t3(s,e,i,l){const o=Zh(s,l);if(o){const c=Jh(o),f=c.path,g=c.queryId,m=zt(f,e),h=ze.fromObject(i),v=new Na(Yh(g),m,h);return em(s,f,v)}else return[]}function Pv(s,e,i,l=!1){const o=e._path;let c=null,f=!1;s.syncPointTree_.foreachOnPath(o,(_,E)=>{const S=zt(_,o);c=c||va(E,S),f=f||Hi(E)});let g=s.syncPointTree_.get(o);g?(f=f||Hi(g),c=c||va(g,Re())):(g=new HA,s.syncPointTree_=s.syncPointTree_.set(o,g));let m;c!=null?m=!0:(m=!1,c=re.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((E,S)=>{const A=va(S,Re());A&&(c=c.updateImmediateChild(E,A))}));const h=Xb(g,e);if(!h&&!e._queryParams.loadsAllData()){const _=Hc(e);K(!s.queryToTagMap.has(_),"View does not exist, but we have a tag");const E=s3();s.queryToTagMap.set(_,E),s.tagToQueryMap.set(E,_)}const v=Gh(s.pendingWriteTree_,o);let b=YA(g,e,i,v,c,m);if(!h&&!f&&!l){const _=$b(g,e);b=b.concat(a3(s,e,_))}return b}function Wh(s,e,i){const o=s.pendingWriteTree_,c=s.syncPointTree_.findOnPath(e,(f,g)=>{const m=zt(f,e),h=va(g,m);if(h)return h});return qb(o,e,c,i,!0)}function Pa(s,e){return Zb(e,s.syncPointTree_,null,Gh(s.pendingWriteTree_,Re()))}function Zb(s,e,i,l){if(ve(s.path))return Jb(s,e,i,l);{const o=e.get(Re());i==null&&o!=null&&(i=va(o,Re()));let c=[];const f=fe(s.path),g=s.operationForChild(f),m=e.children.get(f);if(m&&g){const h=i?i.getImmediateChild(f):null,v=Vb(l,f);c=c.concat(Zb(g,m,h,v))}return o&&(c=c.concat(Xh(o,s,l,i))),c}}function Jb(s,e,i,l){const o=e.get(Re());i==null&&o!=null&&(i=va(o,Re()));let c=[];return e.children.inorderTraversal((f,g)=>{const m=i?i.getImmediateChild(f):null,h=Vb(l,f),v=s.operationForChild(f);v&&(c=c.concat(Jb(v,g,m,h)))}),o&&(c=c.concat(Xh(o,s,l,i))),c}function ex(s,e){const i=e.query,l=Cc(s,i);return{hashFn:()=>(jA(e)||re.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return l?JA(s,i._path,l):ZA(s,i._path);{const c=W2(o,i);return ih(s,i,null,c)}}}}function Cc(s,e){const i=Hc(e);return s.queryToTagMap.get(i)}function Hc(s){return s._path.toString()+"$"+s._queryIdentifier}function Zh(s,e){return s.tagToQueryMap.get(e)}function Jh(s){const e=s.indexOf("$");return K(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new je(s.substr(0,e))}}function em(s,e,i){const l=s.syncPointTree_.get(e);K(l,"Missing sync point for query tag that we're tracking");const o=Gh(s.pendingWriteTree_,e);return Xh(l,i,o,null)}function n3(s){return s.fold((e,i,l)=>{if(i&&Hi(i))return[zc(i)];{let o=[];return i&&(o=Kb(i)),bt(l,(c,f)=>{o=o.concat(f)}),o}})}function Xl(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(KA())(s._repo,s._path):s}function i3(s,e){for(let i=0;i<e.length;++i){const l=e[i];if(!l._queryParams.loadsAllData()){const o=Hc(l),c=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(c)}}}function s3(){return $A++}function a3(s,e,i){const l=e._path,o=Cc(s,e),c=ex(s,i),f=s.listenProvider_.startListening(Xl(e),o,c.hashFn,c.onComplete),g=s.syncPointTree_.subtree(l);if(o)K(!Hi(g.value),"If we're adding a query, it shouldn't be shadowed");else{const m=g.fold((h,v,b)=>{if(!ve(h)&&v&&Hi(v))return[zc(v).query];{let _=[];return v&&(_=_.concat(Kb(v).map(E=>E.query))),bt(b,(E,S)=>{_=_.concat(S)}),_}});for(let h=0;h<m.length;++h){const v=m[h];s.listenProvider_.stopListening(Xl(v),Cc(s,v))}}return f}class tm{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new tm(i)}node(){return this.node_}}class nm{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=Xe(this.path_,e);return new nm(this.syncTree_,i)}node(){return Wh(this.syncTree_,this.path_)}}const l3=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Hv=function(s,e,i){if(!s||typeof s!="object")return s;if(K(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return r3(s[".sv"],e,i);if(typeof s[".sv"]=="object")return o3(s[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},r3=function(s,e,i){switch(s){case"timestamp":return i.timestamp;default:K(!1,"Unexpected server value: "+s)}},o3=function(s,e,i){s.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const l=s.increment;typeof l!="number"&&K(!1,"Unexpected increment value: "+l);const o=e.node();if(K(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return l;const f=o.getValue();return typeof f!="number"?l:f+l},tx=function(s,e,i,l){return im(e,new nm(i,s),l)},nx=function(s,e,i){return im(s,new tm(e),i)};function im(s,e,i){const l=s.getPriority().val(),o=Hv(l,e.getImmediateChild(".priority"),i);let c;if(s.isLeafNode()){const f=s,g=Hv(f.getValue(),e,i);return g!==f.getValue()||o!==f.getPriority().val()?new ut(g,ft(o)):s}else{const f=s;return c=f,o!==f.getPriority().val()&&(c=c.updatePriority(new ut(o))),f.forEachChild(We,(g,m)=>{const h=im(m,e.getImmediateChild(g),i);h!==m&&(c=c.updateImmediateChild(g,h))}),c}}class sm{constructor(e="",i=null,l={children:{},childCount:0}){this.name=e,this.parent=i,this.node=l}}function am(s,e){let i=e instanceof je?e:new je(e),l=s,o=fe(i);for(;o!==null;){const c=ba(l.node.children,o)||{children:{},childCount:0};l=new sm(o,l,c),i=Pe(i),o=fe(i)}return l}function Ha(s){return s.node.value}function ix(s,e){s.node.value=e,sh(s)}function sx(s){return s.node.childCount>0}function c3(s){return Ha(s)===void 0&&!sx(s)}function Bc(s,e){bt(s.node.children,(i,l)=>{e(new sm(i,s,l))})}function ax(s,e,i,l){i&&e(s),Bc(s,o=>{ax(o,e,!0)})}function u3(s,e,i){let l=s.parent;for(;l!==null;){if(e(l))return!0;l=l.parent}return!1}function Cr(s){return new je(s.parent===null?s.name:Cr(s.parent)+"/"+s.name)}function sh(s){s.parent!==null&&d3(s.parent,s.name,s)}function d3(s,e,i){const l=c3(i),o=Rn(s.node.children,e);l&&o?(delete s.node.children[e],s.node.childCount--,sh(s)):!l&&!o&&(s.node.children[e]=i.node,s.node.childCount++,sh(s))}const f3=/[\[\].#$\/\u0000-\u001F\u007F]/,h3=/[\[\].#$\u0000-\u001F\u007F]/,Mf=10*1024*1024,lm=function(s){return typeof s=="string"&&s.length!==0&&!f3.test(s)},lx=function(s){return typeof s=="string"&&s.length!==0&&!h3.test(s)},m3=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),lx(s)},p3=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!Oh(s)||s&&typeof s=="object"&&Rn(s,".sv")},rx=function(s,e,i,l){l&&e===void 0||qc(Ic(s,"value"),e,i)},qc=function(s,e,i){const l=i instanceof je?new kR(i,s):i;if(e===void 0)throw new Error(s+"contains undefined "+ds(l));if(typeof e=="function")throw new Error(s+"contains a function "+ds(l)+" with contents = "+e.toString());if(Oh(e))throw new Error(s+"contains "+e.toString()+" "+ds(l));if(typeof e=="string"&&e.length>Mf/3&&kc(e)>Mf)throw new Error(s+"contains a string greater than "+Mf+" utf8 bytes "+ds(l)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,c=!1;if(bt(e,(f,g)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(c=!0,!lm(f)))throw new Error(s+" contains an invalid key ("+f+") "+ds(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);OR(l,f),qc(s,g,l),DR(l)}),o&&c)throw new Error(s+' contains ".value" child '+ds(l)+" in addition to actual children.")}},g3=function(s,e){let i,l;for(i=0;i<e.length;i++){l=e[i];const c=lr(l);for(let f=0;f<c.length;f++)if(!(c[f]===".priority"&&f===c.length-1)){if(!lm(c[f]))throw new Error(s+"contains an invalid key ("+c[f]+") in path "+l.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(IR);let o=null;for(i=0;i<e.length;i++){if(l=e[i],o!==null&&on(o,l))throw new Error(s+"contains a path "+o.toString()+" that is ancestor of another path "+l.toString());o=l}},y3=function(s,e,i,l){const o=Ic(s,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const c=[];bt(e,(f,g)=>{const m=new je(f);if(qc(o,g,Xe(i,m)),Uh(m)===".priority"&&!p3(g))throw new Error(o+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(m)}),g3(o,c)},ox=function(s,e,i,l){if(!lx(i))throw new Error(Ic(s,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},v3=function(s,e,i,l){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ox(s,e,i)},rm=function(s,e){if(fe(e)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},_3=function(s,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!lm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!m3(i))throw new Error(Ic(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class b3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Vc(s,e){let i=null;for(let l=0;l<e.length;l++){const o=e[l],c=o.getPath();i!==null&&!zh(c,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:c}),i.events.push(o)}i&&s.eventLists_.push(i)}function cx(s,e,i){Vc(s,i),ux(s,l=>zh(l,e))}function _n(s,e,i){Vc(s,i),ux(s,l=>on(l,e)||on(e,l))}function ux(s,e){s.recursionDepth_++;let i=!0;for(let l=0;l<s.eventLists_.length;l++){const o=s.eventLists_[l];if(o){const c=o.path;e(c)?(x3(s.eventLists_[l]),s.eventLists_[l]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function x3(s){for(let e=0;e<s.events.length;e++){const i=s.events[e];if(i!==null){s.events[e]=null;const l=i.getEventRunner();Gl&&_t("event: "+i.toString()),za(l)}}}const E3="repo_interrupt",C3=25;class S3{constructor(e,i,l,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=l,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new b3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gc(),this.transactionQueueTree_=new sm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function N3(s,e,i){if(s.stats_=Lh(s.repoInfo_),s.forceRestClient_||tR())s.server_=new pc(s.repoInfo_,(l,o,c,f)=>{Bv(s,l,o,c,f)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>qv(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ht(i)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}s.persistentConnection_=new Zn(s.repoInfo_,e,(l,o,c,f)=>{Bv(s,l,o,c,f)},l=>{qv(s,l)},l=>{w3(s,l)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(l=>{s.server_.refreshAuthToken(l)}),s.appCheckProvider_.addTokenChangeListener(l=>{s.server_.refreshAppCheckToken(l.token)}),s.statsReporter_=lR(s.repoInfo_,()=>new aA(s.stats_,s.server_)),s.infoData_=new eA,s.infoSyncTree_=new zv({startListening:(l,o,c,f)=>{let g=[];const m=s.infoData_.getNode(l._path);return m.isEmpty()||(g=Pc(s.infoSyncTree_,l._path,m),setTimeout(()=>{f("ok")},0)),g},stopListening:()=>{}}),om(s,"connected",!1),s.serverSyncTree_=new zv({startListening:(l,o,c,f)=>(s.server_.listen(l,c,o,(g,m)=>{const h=f(g,m);_n(s.eventQueue_,l._path,h)}),[]),stopListening:(l,o)=>{s.server_.unlisten(l,o)}})}function dx(s){const i=s.infoData_.getNode(new je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Fc(s){return l3({timestamp:dx(s)})}function Bv(s,e,i,l,o){s.dataUpdateCount++;const c=new je(e);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,i):i;let f=[];if(o)if(l){const m=sc(i,h=>ft(h));f=t3(s.serverSyncTree_,c,m,o)}else{const m=ft(i);f=e3(s.serverSyncTree_,c,m,o)}else if(l){const m=sc(i,h=>ft(h));f=WA(s.serverSyncTree_,c,m)}else{const m=ft(i);f=Pc(s.serverSyncTree_,c,m)}let g=c;f.length>0&&(g=Ta(s,c)),_n(s.eventQueue_,g,f)}function qv(s,e){om(s,"connected",e),e===!1&&A3(s)}function w3(s,e){bt(e,(i,l)=>{om(s,i,l)})}function om(s,e,i){const l=new je("/.info/"+e),o=ft(i);s.infoData_.updateSnapshot(l,o);const c=Pc(s.infoSyncTree_,l,o);_n(s.eventQueue_,l,c)}function cm(s){return s.nextWriteId_++}function T3(s,e,i,l,o){Yc(s,"set",{path:e.toString(),value:i,priority:l});const c=Fc(s),f=ft(i,l),g=Wh(s.serverSyncTree_,e),m=nx(f,g,c),h=cm(s),v=Wb(s.serverSyncTree_,e,m,h,!0);Vc(s.eventQueue_,v),s.server_.put(e.toString(),f.val(!0),(_,E)=>{const S=_==="ok";S||Tt("set at "+e+" failed: "+_);const A=Di(s.serverSyncTree_,h,!S);_n(s.eventQueue_,e,A),ah(s,o,_,E)});const b=dm(s,e);Ta(s,b),_n(s.eventQueue_,b,[])}function R3(s,e,i,l){Yc(s,"update",{path:e.toString(),value:i});let o=!0;const c=Fc(s),f={};if(bt(i,(g,m)=>{o=!1,f[g]=tx(Xe(e,g),ft(m),s.serverSyncTree_,c)}),o)_t("update() called with empty data.  Don't do anything."),ah(s,l,"ok",void 0);else{const g=cm(s),m=XA(s.serverSyncTree_,e,f,g);Vc(s.eventQueue_,m),s.server_.merge(e.toString(),i,(h,v)=>{const b=h==="ok";b||Tt("update at "+e+" failed: "+h);const _=Di(s.serverSyncTree_,g,!b),E=_.length>0?Ta(s,e):e;_n(s.eventQueue_,E,_),ah(s,l,h,v)}),bt(i,h=>{const v=dm(s,Xe(e,h));Ta(s,v)}),_n(s.eventQueue_,e,[])}}function A3(s){Yc(s,"onDisconnectEvents");const e=Fc(s),i=gc();Xf(s.onDisconnect_,Re(),(o,c)=>{const f=tx(o,c,s.serverSyncTree_,e);zb(i,o,f)});let l=[];Xf(i,Re(),(o,c)=>{l=l.concat(Pc(s.serverSyncTree_,o,c));const f=dm(s,o);Ta(s,f)}),s.onDisconnect_=gc(),_n(s.eventQueue_,Re(),l)}function I3(s,e,i){let l;fe(e._path)===".info"?l=Pv(s.infoSyncTree_,e,i):l=Pv(s.serverSyncTree_,e,i),cx(s.eventQueue_,e._path,l)}function k3(s,e,i){let l;fe(e._path)===".info"?l=ih(s.infoSyncTree_,e,i):l=ih(s.serverSyncTree_,e,i),cx(s.eventQueue_,e._path,l)}function O3(s){s.persistentConnection_&&s.persistentConnection_.interrupt(E3)}function Yc(s,...e){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),_t(i,...e)}function ah(s,e,i,l){e&&za(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let c=o;l&&(c+=": "+l);const f=new Error(c);f.code=o,e(f)}})}function fx(s,e,i){return Wh(s.serverSyncTree_,e,i)||re.EMPTY_NODE}function um(s,e=s.transactionQueueTree_){if(e||Gc(s,e),Ha(e)){const i=mx(s,e);K(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&D3(s,Cr(e),i)}else sx(e)&&Bc(e,i=>{um(s,i)})}function D3(s,e,i){const l=i.map(h=>h.currentWriteId),o=fx(s,e,l);let c=o;const f=o.hash();for(let h=0;h<i.length;h++){const v=i[h];K(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const b=zt(e,v.path);c=c.updateChild(b,v.currentOutputSnapshotRaw)}const g=c.val(!0),m=e;s.server_.put(m.toString(),g,h=>{Yc(s,"transaction put response",{path:m.toString(),status:h});let v=[];if(h==="ok"){const b=[];for(let _=0;_<i.length;_++)i[_].status=2,v=v.concat(Di(s.serverSyncTree_,i[_].currentWriteId)),i[_].onComplete&&b.push(()=>i[_].onComplete(null,!0,i[_].currentOutputSnapshotResolved)),i[_].unwatcher();Gc(s,am(s.transactionQueueTree_,e)),um(s,s.transactionQueueTree_),_n(s.eventQueue_,e,v);for(let _=0;_<b.length;_++)za(b[_])}else{if(h==="datastale")for(let b=0;b<i.length;b++)i[b].status===3?i[b].status=4:i[b].status=0;else{Tt("transaction at "+m.toString()+" failed: "+h);for(let b=0;b<i.length;b++)i[b].status=4,i[b].abortReason=h}Ta(s,e)}},f)}function Ta(s,e){const i=hx(s,e),l=Cr(i),o=mx(s,i);return M3(s,o,l),l}function M3(s,e,i){if(e.length===0)return;const l=[];let o=[];const f=e.filter(g=>g.status===0).map(g=>g.currentWriteId);for(let g=0;g<e.length;g++){const m=e[g],h=zt(i,m.path);let v=!1,b;if(K(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)v=!0,b=m.abortReason,o=o.concat(Di(s.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=C3)v=!0,b="maxretry",o=o.concat(Di(s.serverSyncTree_,m.currentWriteId,!0));else{const _=fx(s,m.path,f);m.currentInputSnapshot=_;const E=e[g].update(_.val());if(E!==void 0){qc("transaction failed: Data returned ",E,m.path);let S=ft(E);typeof E=="object"&&E!=null&&Rn(E,".priority")||(S=S.updatePriority(_.getPriority()));const k=m.currentWriteId,F=Fc(s),L=nx(S,_,F);m.currentOutputSnapshotRaw=S,m.currentOutputSnapshotResolved=L,m.currentWriteId=cm(s),f.splice(f.indexOf(k),1),o=o.concat(Wb(s.serverSyncTree_,m.path,L,m.currentWriteId,m.applyLocally)),o=o.concat(Di(s.serverSyncTree_,k,!0))}else v=!0,b="nodata",o=o.concat(Di(s.serverSyncTree_,m.currentWriteId,!0))}_n(s.eventQueue_,i,o),o=[],v&&(e[g].status=2,(function(_){setTimeout(_,Math.floor(0))})(e[g].unwatcher),e[g].onComplete&&(b==="nodata"?l.push(()=>e[g].onComplete(null,!1,e[g].currentInputSnapshot)):l.push(()=>e[g].onComplete(new Error(b),!1,null))))}Gc(s,s.transactionQueueTree_);for(let g=0;g<l.length;g++)za(l[g]);um(s,s.transactionQueueTree_)}function hx(s,e){let i,l=s.transactionQueueTree_;for(i=fe(e);i!==null&&Ha(l)===void 0;)l=am(l,i),e=Pe(e),i=fe(e);return l}function mx(s,e){const i=[];return px(s,e,i),i.sort((l,o)=>l.order-o.order),i}function px(s,e,i){const l=Ha(e);if(l)for(let o=0;o<l.length;o++)i.push(l[o]);Bc(e,o=>{px(s,o,i)})}function Gc(s,e){const i=Ha(e);if(i){let l=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[l]=i[o],l++);i.length=l,ix(e,i.length>0?i:void 0)}Bc(e,l=>{Gc(s,l)})}function dm(s,e){const i=Cr(hx(s,e)),l=am(s.transactionQueueTree_,e);return u3(l,o=>{Lf(s,o)}),Lf(s,l),ax(l,o=>{Lf(s,o)}),i}function Lf(s,e){const i=Ha(e);if(i){const l=[];let o=[],c=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(K(c===f-1,"All SENT items should be at beginning of queue."),c=f,i[f].status=3,i[f].abortReason="set"):(K(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),o=o.concat(Di(s.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&l.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));c===-1?ix(e,void 0):i.length=c+1,_n(s.eventQueue_,Cr(e),o);for(let f=0;f<l.length;f++)za(l[f])}}function L3(s){let e="";const i=s.split("/");for(let l=0;l<i.length;l++)if(i[l].length>0){let o=i[l];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function j3(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const l=i.split("=");l.length===2?e[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Tt(`Invalid query segment '${i}' in query '${s}'`)}return e}const Vv=function(s,e){const i=U3(s),l=i.namespace;i.domain==="firebase.com"&&ni(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&i.domain!=="localhost"&&ni("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||G2();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new xb(i.host,i.secure,l,o,e,"",l!==i.subdomain),path:new je(i.pathString)}},U3=function(s){let e="",i="",l="",o="",c="",f=!0,g="https",m=443;if(typeof s=="string"){let h=s.indexOf("//");h>=0&&(g=s.substring(0,h-1),s=s.substring(h+2));let v=s.indexOf("/");v===-1&&(v=s.length);let b=s.indexOf("?");b===-1&&(b=s.length),e=s.substring(0,Math.min(v,b)),v<b&&(o=L3(s.substring(v,b)));const _=j3(s.substring(Math.min(s.length,b)));h=e.indexOf(":"),h>=0?(f=g==="https"||g==="wss",m=parseInt(e.substring(h+1),10)):h=e.length;const E=e.slice(0,h);if(E.toLowerCase()==="localhost")i="localhost";else if(E.split(".").length<=2)i=E;else{const S=e.indexOf(".");l=e.substring(0,S).toLowerCase(),i=e.substring(S+1),c=l}"ns"in _&&(c=_.ns)}return{host:e,port:m,domain:i,subdomain:l,secure:f,scheme:g,pathString:o,namespace:c}};const Fv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",z3=(function(){let s=0;const e=[];return function(i){const l=i===s;s=i;let o;const c=new Array(8);for(o=7;o>=0;o--)c[o]=Fv.charAt(i%64),i=Math.floor(i/64);K(i===0,"Cannot push at time == 0");let f=c.join("");if(l){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)f+=Fv.charAt(e[o]);return K(f.length===20,"nextPushId: Length should be 20."),f}})();class P3{constructor(e,i,l,o){this.eventType=e,this.eventRegistration=i,this.snapshot=l,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ht(this.snapshot.exportVal())}}class H3{constructor(e,i,l){this.eventRegistration=e,this.error=i,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class B3{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return K(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class fm{constructor(e,i,l,o){this._repo=e,this._path=i,this._queryParams=l,this._orderByCalled=o}get key(){return ve(this._path)?null:Uh(this._path)}get ref(){return new Fi(this._repo,this._path)}get _queryIdentifier(){const e=Rv(this._queryParams),i=Dh(e);return i==="{}"?"default":i}get _queryObject(){return Rv(this._queryParams)}isEqual(e){if(e=At(e),!(e instanceof fm))return!1;const i=this._repo===e._repo,l=zh(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&l&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+AR(this._path)}}class Fi extends fm{constructor(e,i){super(e,i,new qh,!1)}get parent(){const e=Ib(this._path);return e===null?null:new Fi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Sc{constructor(e,i,l){this._node=e,this.ref=i,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new je(e),l=dr(this.ref,e);return new Sc(this._node.getChild(i),l,We)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(l,o)=>e(new Sc(o,dr(this.ref,l),We)))}hasChild(e){const i=new je(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ct(s,e){return s=At(s),s._checkNotDeleted("ref"),e!==void 0?dr(s._root,e):s._root}function dr(s,e){return s=At(s),fe(s._path)===null?v3("child","path",e):ox("child","path",e),new Fi(s._repo,Xe(s._path,e))}function Nc(s,e){s=At(s),rm("push",s._path),rx("push",e,s._path,!0);const i=dx(s._repo),l=z3(i),o=dr(s,l),c=dr(s,l);let f;return e!=null?f=Ra(c,e).then(()=>c):f=Promise.resolve(c),o.then=f.then.bind(f),o.catch=f.then.bind(f,void 0),o}function hm(s){return rm("remove",s._path),Ra(s,null)}function Ra(s,e){s=At(s),rm("set",s._path),rx("set",e,s._path,!1);const i=new pr;return T3(s._repo,s._path,e,null,i.wrapCallback(()=>{})),i.promise}function q3(s,e){y3("update",e,s._path);const i=new pr;return R3(s._repo,s._path,e,i.wrapCallback(()=>{})),i.promise}class mm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const l=i._queryParams.getIndex();return new P3("value",this,new Sc(e.snapshotNode,new Fi(i._repo,i._path),l))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new H3(this,e,i):null}matches(e){return e instanceof mm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function V3(s,e,i,l,o){const c=new B3(i,void 0),f=new mm(c);return I3(s._repo,s,f),()=>k3(s._repo,s,f)}function Qo(s,e,i,l){return V3(s,"value",e)}BA(Fi);QA(Fi);const F3="FIREBASE_DATABASE_EMULATOR_HOST",lh={};let Y3=!1;function G3(s,e,i,l){const o=e.lastIndexOf(":"),c=e.substring(0,o),f=Da(c);s.repoInfo_=new xb(e,f,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),l&&(s.authTokenProvider_=l)}function Q3(s,e,i,l,o){let c=l||s.options.databaseURL;c===void 0&&(s.options.projectId||ni("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_t("Using default host for project ",s.options.projectId),c=`${s.options.projectId}-default-rtdb.firebaseio.com`);let f=Vv(c,o),g=f.repoInfo,m;typeof process<"u"&&uv&&(m=uv[F3]),m?(c=`http://${m}?ns=${g.namespace}`,f=Vv(c,o),g=f.repoInfo):f.repoInfo.secure;const h=new iR(s.name,s.options,e);_3("Invalid Firebase Database URL",f),ve(f.path)||ni("Database URL must point to the root of a Firebase Database (not including a child path).");const v=$3(g,s,h,new nR(s,i));return new X3(v,s)}function K3(s,e){const i=lh[e];(!i||i[s.key]!==s)&&ni(`Database ${e}(${s.repoInfo_}) has already been deleted.`),O3(s),delete i[s.key]}function $3(s,e,i,l){let o=lh[e.name];o||(o={},lh[e.name]=o);let c=o[s.toURLString()];return c&&ni("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new S3(s,Y3,i,l),o[s.toURLString()]=c,c}class X3{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(N3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fi(this._repo,Re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(K3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ni("Cannot call "+e+" on a deleted database.")}}function W3(s=N_(),e){const i=Ch(s,"database").getImmediate({identifier:e});if(!i._instanceStarted){const l=ZS("database");l&&Z3(i,...l)}return i}function Z3(s,e,i,l={}){s=At(s),s._checkNotDeleted("useEmulator");const o=`${e}:${i}`,c=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&hs(l,c.repoInfo_.emulatorOptions))return;ni("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(c.repoInfo_.nodeAdmin)l.mockUserToken&&ni('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new ec(ec.OWNER);else if(l.mockUserToken){const g=typeof l.mockUserToken=="string"?l.mockUserToken:JS(l.mockUserToken,s.app.options.projectId);f=new ec(g)}Da(e)&&(v_(e),__("Database",!0)),G3(c,o,l,f)}function J3(s){H2(La),xa(new ms("database",(e,{instanceIdentifier:i})=>{const l=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return Q3(l,o,c,i)},"PUBLIC").setMultipleInstances(!0)),ji(dv,fv,s),ji(dv,fv,"esm2020")}Zn.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};Zn.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};J3();var eI="firebase",tI="12.9.0";ji(eI,tI,"app");const nI={apiKey:"AIzaSyDFUIEy5UBOwyTILjaOPkGT1HzTKbeQ-X4",authDomain:"wbcs-progress-tracker-30fa6.firebaseapp.com",databaseURL:"https://wbcs-progress-tracker-30fa6-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"wbcs-progress-tracker-30fa6",storageBucket:"wbcs-progress-tracker-30fa6.firebasestorage.app",messagingSenderId:"9259146",appId:"1:9259146:web:94b8c20e125e35fdf40573"},gx=S_(nI),pm=z2(gx),St=W3(gx),yx=I.createContext({user:null,loading:!0,cabinets:[],files:[],documents:[],fileTypes:[]}),iI=({children:s})=>{const[e,i]=I.useState(null),[l,o]=I.useState(!0),[c,f]=I.useState([]),[g,m]=I.useState([]),[h,v]=I.useState([]),[b,_]=I.useState([]);return I.useEffect(()=>{const E=wT(pm,S=>{i(S),o(!1)});return()=>E()},[]),I.useEffect(()=>{const E=Ct(St,"cabinets"),S=Qo(E,ne=>{const J=ne.val();f(J?Object.keys(J).map(O=>({id:O,...J[O]})):[])}),A=Ct(St,"files"),k=Qo(A,ne=>{const J=ne.val();m(J?Object.keys(J).map(O=>({id:O,...J[O]})):[])}),F=Ct(St,"documents"),L=Qo(F,ne=>{const J=ne.val();v(J?Object.keys(J).map(O=>({id:O,...J[O]})):[])}),z=Ct(St,"fileTypes"),Y=Qo(z,ne=>{const J=ne.val();_(J?Object.keys(J).map(O=>({id:O,...J[O]})):[])});return()=>{S(),k(),L(),Y()}},[e]),p.jsx(yx.Provider,{value:{user:e,loading:l,cabinets:c,files:g,documents:h,fileTypes:b},children:s})},An=()=>I.useContext(yx);const vx=(...s)=>s.filter((e,i,l)=>!!e&&e.trim()!==""&&l.indexOf(e)===i).join(" ").trim();const sI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const aI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,l)=>l?l.toUpperCase():i.toLowerCase());const Yv=s=>{const e=aI(s);return e.charAt(0).toUpperCase()+e.slice(1)};var lI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rI=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const oI=I.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,iconNode:f,...g},m)=>I.createElement("svg",{ref:m,...lI,width:e,height:e,stroke:s,strokeWidth:l?Number(i)*24/Number(e):i,className:vx("lucide",o),...!c&&!rI(g)&&{"aria-hidden":"true"},...g},[...f.map(([h,v])=>I.createElement(h,v)),...Array.isArray(c)?c:[c]]));const qe=(s,e)=>{const i=I.forwardRef(({className:l,...o},c)=>I.createElement(oI,{ref:c,iconNode:e,className:vx(`lucide-${sI(Yv(s))}`,`lucide-${s}`,l),...o}));return i.displayName=Yv(s),i};const cI=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],bs=qe("archive",cI);const uI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],dI=qe("circle-alert",uI);const fI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],hI=qe("circle-user",fI);const mI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],pI=qe("columns-2",mI);const gI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yI=qe("eye",gI);const vI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fr=qe("file-text",vI);const _I=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],rh=qe("layers",_I);const bI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],xI=qe("layout-dashboard",bI);const EI=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],CI=qe("layout-grid",EI);const SI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],NI=qe("lock-open",SI);const wI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Et=qe("lock",wI);const TI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RI=qe("log-out",TI);const AI=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],II=qe("mail",AI);const kI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Wl=qe("map-pin",kI);const OI=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Zl=qe("pen",OI);const DI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],MI=qe("plus",DI);const LI=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],_x=qe("printer",LI);const jI=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],bx=qe("qr-code",jI);const UI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qc=qe("shield",UI);const zI=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],PI=qe("square-check-big",zI);const HI=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],BI=qe("square-pen",HI);const qI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],VI=qe("square",qI);const FI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Jl=qe("trash-2",FI);const YI=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],GI=qe("type",YI);const QI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],KI=qe("x",QI),$I=()=>{const{user:s}=An(),e=Rc(),i=async()=>{try{await TT(pm),e("/")}catch(l){console.error("Logout error",l)}};return p.jsx("nav",{className:"bg-slate-900 text-white shadow-md print:hidden",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex items-center justify-between h-16",children:[p.jsx("div",{className:"flex items-center",children:p.jsxs(tt,{to:"/",className:"flex items-center space-x-2",children:[p.jsx(bs,{className:"h-6 w-6 text-indigo-400"}),p.jsx("span",{className:"font-bold text-lg hidden sm:block",children:"CabinetSystem"})]})}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx(tt,{to:"/",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Home"}),s?p.jsxs(p.Fragment,{children:[p.jsxs(tt,{to:"/admin",className:"flex items-center text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:[p.jsx(xI,{className:"h-4 w-4 mr-1"}),"Admin"]}),p.jsxs(tt,{to:"/admin/cabinets",className:"flex items-center text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:[p.jsx(bs,{className:"h-4 w-4 mr-1"}),"Cabinets"]}),p.jsxs(tt,{to:"/admin/files",className:"flex items-center text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:[p.jsx(fr,{className:"h-4 w-4 mr-1"}),"Files"]}),p.jsxs(tt,{to:"/admin/documents",className:"flex items-center text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:[p.jsx(fr,{className:"h-4 w-4 mr-1"}),"Docs"]}),p.jsxs(tt,{to:"/admin/qrs",className:"flex items-center text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:[p.jsx(bx,{className:"h-4 w-4 mr-1"}),"QR Print"]}),p.jsxs("button",{onClick:i,className:"flex items-center text-red-400 hover:text-red-300 px-3 py-2 rounded-md text-sm font-medium",children:[p.jsx(RI,{className:"h-4 w-4 mr-1"}),"Logout"]})]}):p.jsxs(tt,{to:"/login",className:"flex items-center text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:[p.jsx(hI,{className:"h-4 w-4 mr-1"}),"Admin Login"]})]})]})})})};function XI(){const{cabinets:s,loading:e}=An();return e?p.jsx("div",{className:"text-center p-8 text-slate-500",children:"Loading Cabinets..."}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"text-center sm:text-left border-b pb-4",children:[p.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900",children:"Available Cabinets"}),p.jsx("p",{className:"text-slate-500 mt-2",children:"Select a cabinet to view stored files and structure."})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[s.map(i=>p.jsx(tt,{to:`/cabinet/${i.id}`,className:"group block bg-white rounded-xl shadow-sm border border-slate-200 hover:shadow-md hover:border-indigo-300 transition-all overflow-hidden",children:p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:"bg-indigo-50 p-3 rounded-lg group-hover:bg-indigo-100 transition-colors",children:p.jsx(bs,{className:"h-6 w-6 text-indigo-600"})}),i.hasLocker&&p.jsx("span",{className:"inline-flex items-center rounded-full bg-amber-50 px-2 py-1 text-xs font-medium text-amber-700 ring-1 ring-inset ring-amber-600/20",children:"Locker Storage"})]}),p.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:i.name}),p.jsxs("div",{className:"flex space-x-4 text-sm text-slate-500 mb-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(rh,{className:"h-4 w-4 mr-1 text-slate-400"}),i.levels," Levels"]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(pI,{className:"h-4 w-4 mr-1 text-slate-400"}),i.columns," Columns"]})]}),p.jsxs("div",{className:"pt-4 border-t border-slate-100 flex items-center justify-center text-indigo-600 font-medium text-sm group-hover:text-indigo-700 transition",children:[p.jsx(rh,{className:"w-4 h-4 mr-2"}),"Preview Cabinet Drawing"]})]})},i.id)),s.length===0&&p.jsx("div",{className:"col-span-full text-center py-12 bg-white rounded-xl border border-dashed border-slate-300 text-slate-500",children:"No cabinets available yet."})]})]})}var WI=Object.defineProperty,wc=Object.getOwnPropertySymbols,xx=Object.prototype.hasOwnProperty,Ex=Object.prototype.propertyIsEnumerable,Gv=(s,e,i)=>e in s?WI(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,oh=(s,e)=>{for(var i in e||(e={}))xx.call(e,i)&&Gv(s,i,e[i]);if(wc)for(var i of wc(e))Ex.call(e,i)&&Gv(s,i,e[i]);return s},ch=(s,e)=>{var i={};for(var l in s)xx.call(s,l)&&e.indexOf(l)<0&&(i[l]=s[l]);if(s!=null&&wc)for(var l of wc(s))e.indexOf(l)<0&&Ex.call(s,l)&&(i[l]=s[l]);return i};var xs;(s=>{const e=class ye{constructor(m,h,v,b){if(this.version=m,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],m<ye.MIN_VERSION||m>ye.MAX_VERSION)throw new RangeError("Version value out of range");if(b<-1||b>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let _=[];for(let S=0;S<this.size;S++)_.push(!1);for(let S=0;S<this.size;S++)this.modules.push(_.slice()),this.isFunction.push(_.slice());this.drawFunctionPatterns();const E=this.addEccAndInterleave(v);if(this.drawCodewords(E),b==-1){let S=1e9;for(let A=0;A<8;A++){this.applyMask(A),this.drawFormatBits(A);const k=this.getPenaltyScore();k<S&&(b=A,S=k),this.applyMask(A)}}o(0<=b&&b<=7),this.mask=b,this.applyMask(b),this.drawFormatBits(b),this.isFunction=[]}static encodeText(m,h){const v=s.QrSegment.makeSegments(m);return ye.encodeSegments(v,h)}static encodeBinary(m,h){const v=s.QrSegment.makeBytes(m);return ye.encodeSegments([v],h)}static encodeSegments(m,h,v=1,b=40,_=-1,E=!0){if(!(ye.MIN_VERSION<=v&&v<=b&&b<=ye.MAX_VERSION)||_<-1||_>7)throw new RangeError("Invalid value");let S,A;for(S=v;;S++){const z=ye.getNumDataCodewords(S,h)*8,Y=f.getTotalBits(m,S);if(Y<=z){A=Y;break}if(S>=b)throw new RangeError("Data too long")}for(const z of[ye.Ecc.MEDIUM,ye.Ecc.QUARTILE,ye.Ecc.HIGH])E&&A<=ye.getNumDataCodewords(S,z)*8&&(h=z);let k=[];for(const z of m){i(z.mode.modeBits,4,k),i(z.numChars,z.mode.numCharCountBits(S),k);for(const Y of z.getData())k.push(Y)}o(k.length==A);const F=ye.getNumDataCodewords(S,h)*8;o(k.length<=F),i(0,Math.min(4,F-k.length),k),i(0,(8-k.length%8)%8,k),o(k.length%8==0);for(let z=236;k.length<F;z^=253)i(z,8,k);let L=[];for(;L.length*8<k.length;)L.push(0);return k.forEach((z,Y)=>L[Y>>>3]|=z<<7-(Y&7)),new ye(S,h,L,_)}getModule(m,h){return 0<=m&&m<this.size&&0<=h&&h<this.size&&this.modules[h][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),h=m.length;for(let v=0;v<h;v++)for(let b=0;b<h;b++)v==0&&b==0||v==0&&b==h-1||v==h-1&&b==0||this.drawAlignmentPattern(m[v],m[b]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const h=this.errorCorrectionLevel.formatBits<<3|m;let v=h;for(let _=0;_<10;_++)v=v<<1^(v>>>9)*1335;const b=(h<<10|v)^21522;o(b>>>15==0);for(let _=0;_<=5;_++)this.setFunctionModule(8,_,l(b,_));this.setFunctionModule(8,7,l(b,6)),this.setFunctionModule(8,8,l(b,7)),this.setFunctionModule(7,8,l(b,8));for(let _=9;_<15;_++)this.setFunctionModule(14-_,8,l(b,_));for(let _=0;_<8;_++)this.setFunctionModule(this.size-1-_,8,l(b,_));for(let _=8;_<15;_++)this.setFunctionModule(8,this.size-15+_,l(b,_));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let v=0;v<12;v++)m=m<<1^(m>>>11)*7973;const h=this.version<<12|m;o(h>>>18==0);for(let v=0;v<18;v++){const b=l(h,v),_=this.size-11+v%3,E=Math.floor(v/3);this.setFunctionModule(_,E,b),this.setFunctionModule(E,_,b)}}drawFinderPattern(m,h){for(let v=-4;v<=4;v++)for(let b=-4;b<=4;b++){const _=Math.max(Math.abs(b),Math.abs(v)),E=m+b,S=h+v;0<=E&&E<this.size&&0<=S&&S<this.size&&this.setFunctionModule(E,S,_!=2&&_!=4)}}drawAlignmentPattern(m,h){for(let v=-2;v<=2;v++)for(let b=-2;b<=2;b++)this.setFunctionModule(m+b,h+v,Math.max(Math.abs(b),Math.abs(v))!=1)}setFunctionModule(m,h,v){this.modules[h][m]=v,this.isFunction[h][m]=!0}addEccAndInterleave(m){const h=this.version,v=this.errorCorrectionLevel;if(m.length!=ye.getNumDataCodewords(h,v))throw new RangeError("Invalid argument");const b=ye.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][h],_=ye.ECC_CODEWORDS_PER_BLOCK[v.ordinal][h],E=Math.floor(ye.getNumRawDataModules(h)/8),S=b-E%b,A=Math.floor(E/b);let k=[];const F=ye.reedSolomonComputeDivisor(_);for(let z=0,Y=0;z<b;z++){let ne=m.slice(Y,Y+A-_+(z<S?0:1));Y+=ne.length;const J=ye.reedSolomonComputeRemainder(ne,F);z<S&&ne.push(0),k.push(ne.concat(J))}let L=[];for(let z=0;z<k[0].length;z++)k.forEach((Y,ne)=>{(z!=A-_||ne>=S)&&L.push(Y[z])});return o(L.length==E),L}drawCodewords(m){if(m.length!=Math.floor(ye.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let b=0;b<this.size;b++)for(let _=0;_<2;_++){const E=v-_,A=(v+1&2)==0?this.size-1-b:b;!this.isFunction[A][E]&&h<m.length*8&&(this.modules[A][E]=l(m[h>>>3],7-(h&7)),h++)}}o(h==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let v=0;v<this.size;v++){let b;switch(m){case 0:b=(v+h)%2==0;break;case 1:b=h%2==0;break;case 2:b=v%3==0;break;case 3:b=(v+h)%3==0;break;case 4:b=(Math.floor(v/3)+Math.floor(h/2))%2==0;break;case 5:b=v*h%2+v*h%3==0;break;case 6:b=(v*h%2+v*h%3)%2==0;break;case 7:b=((v+h)%2+v*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][v]&&b&&(this.modules[h][v]=!this.modules[h][v])}}getPenaltyScore(){let m=0;for(let _=0;_<this.size;_++){let E=!1,S=0,A=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[_][k]==E?(S++,S==5?m+=ye.PENALTY_N1:S>5&&m++):(this.finderPenaltyAddHistory(S,A),E||(m+=this.finderPenaltyCountPatterns(A)*ye.PENALTY_N3),E=this.modules[_][k],S=1);m+=this.finderPenaltyTerminateAndCount(E,S,A)*ye.PENALTY_N3}for(let _=0;_<this.size;_++){let E=!1,S=0,A=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[k][_]==E?(S++,S==5?m+=ye.PENALTY_N1:S>5&&m++):(this.finderPenaltyAddHistory(S,A),E||(m+=this.finderPenaltyCountPatterns(A)*ye.PENALTY_N3),E=this.modules[k][_],S=1);m+=this.finderPenaltyTerminateAndCount(E,S,A)*ye.PENALTY_N3}for(let _=0;_<this.size-1;_++)for(let E=0;E<this.size-1;E++){const S=this.modules[_][E];S==this.modules[_][E+1]&&S==this.modules[_+1][E]&&S==this.modules[_+1][E+1]&&(m+=ye.PENALTY_N2)}let h=0;for(const _ of this.modules)h=_.reduce((E,S)=>E+(S?1:0),h);const v=this.size*this.size,b=Math.ceil(Math.abs(h*20-v*10)/v)-1;return o(0<=b&&b<=9),m+=b*ye.PENALTY_N4,o(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let v=[6];for(let b=this.size-7;v.length<m;b-=h)v.splice(1,0,b);return v}}static getNumRawDataModules(m){if(m<ye.MIN_VERSION||m>ye.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*m+128)*m+64;if(m>=2){const v=Math.floor(m/7)+2;h-=(25*v-10)*v-55,m>=7&&(h-=36)}return o(208<=h&&h<=29648),h}static getNumDataCodewords(m,h){return Math.floor(ye.getNumRawDataModules(m)/8)-ye.ECC_CODEWORDS_PER_BLOCK[h.ordinal][m]*ye.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let h=[];for(let b=0;b<m-1;b++)h.push(0);h.push(1);let v=1;for(let b=0;b<m;b++){for(let _=0;_<h.length;_++)h[_]=ye.reedSolomonMultiply(h[_],v),_+1<h.length&&(h[_]^=h[_+1]);v=ye.reedSolomonMultiply(v,2)}return h}static reedSolomonComputeRemainder(m,h){let v=h.map(b=>0);for(const b of m){const _=b^v.shift();v.push(0),h.forEach((E,S)=>v[S]^=ye.reedSolomonMultiply(E,_))}return v}static reedSolomonMultiply(m,h){if(m>>>8||h>>>8)throw new RangeError("Byte out of range");let v=0;for(let b=7;b>=0;b--)v=v<<1^(v>>>7)*285,v^=(h>>>b&1)*m;return o(v>>>8==0),v}finderPenaltyCountPatterns(m){const h=m[1];o(h<=this.size*3);const v=h>0&&m[2]==h&&m[3]==h*3&&m[4]==h&&m[5]==h;return(v&&m[0]>=h*4&&m[6]>=h?1:0)+(v&&m[6]>=h*4&&m[0]>=h?1:0)}finderPenaltyTerminateAndCount(m,h,v){return m&&(this.finderPenaltyAddHistory(h,v),h=0),h+=this.size,this.finderPenaltyAddHistory(h,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(m,h){h[0]==0&&(m+=this.size),h.pop(),h.unshift(m)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],s.QrCode=e;function i(g,m,h){if(m<0||m>31||g>>>m)throw new RangeError("Value out of range");for(let v=m-1;v>=0;v--)h.push(g>>>v&1)}function l(g,m){return(g>>>m&1)!=0}function o(g){if(!g)throw new Error("Assertion error")}const c=class $e{constructor(m,h,v){if(this.mode=m,this.numChars=h,this.bitData=v,h<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(m){let h=[];for(const v of m)i(v,8,h);return new $e($e.Mode.BYTE,m.length,h)}static makeNumeric(m){if(!$e.isNumeric(m))throw new RangeError("String contains non-numeric characters");let h=[];for(let v=0;v<m.length;){const b=Math.min(m.length-v,3);i(parseInt(m.substring(v,v+b),10),b*3+1,h),v+=b}return new $e($e.Mode.NUMERIC,m.length,h)}static makeAlphanumeric(m){if(!$e.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],v;for(v=0;v+2<=m.length;v+=2){let b=$e.ALPHANUMERIC_CHARSET.indexOf(m.charAt(v))*45;b+=$e.ALPHANUMERIC_CHARSET.indexOf(m.charAt(v+1)),i(b,11,h)}return v<m.length&&i($e.ALPHANUMERIC_CHARSET.indexOf(m.charAt(v)),6,h),new $e($e.Mode.ALPHANUMERIC,m.length,h)}static makeSegments(m){return m==""?[]:$e.isNumeric(m)?[$e.makeNumeric(m)]:$e.isAlphanumeric(m)?[$e.makeAlphanumeric(m)]:[$e.makeBytes($e.toUtf8ByteArray(m))]}static makeEci(m){let h=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)i(m,8,h);else if(m<16384)i(2,2,h),i(m,14,h);else if(m<1e6)i(6,3,h),i(m,21,h);else throw new RangeError("ECI assignment value out of range");return new $e($e.Mode.ECI,0,h)}static isNumeric(m){return $e.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return $e.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,h){let v=0;for(const b of m){const _=b.mode.numCharCountBits(h);if(b.numChars>=1<<_)return 1/0;v+=4+_+b.bitData.length}return v}static toUtf8ByteArray(m){m=encodeURI(m);let h=[];for(let v=0;v<m.length;v++)m.charAt(v)!="%"?h.push(m.charCodeAt(v)):(h.push(parseInt(m.substring(v+1,v+3),16)),v+=2);return h}};c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let f=c;s.QrSegment=c})(xs||(xs={}));(s=>{(e=>{const i=class{constructor(o,c){this.ordinal=o,this.formatBits=c}};i.LOW=new i(0,1),i.MEDIUM=new i(1,0),i.QUARTILE=new i(2,3),i.HIGH=new i(3,2),e.Ecc=i})(s.QrCode||(s.QrCode={}))})(xs||(xs={}));(s=>{(e=>{const i=class{constructor(o,c){this.modeBits=o,this.numBitsCharCount=c}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};i.NUMERIC=new i(1,[10,12,14]),i.ALPHANUMERIC=new i(2,[9,11,13]),i.BYTE=new i(4,[8,16,16]),i.KANJI=new i(8,[8,10,12]),i.ECI=new i(7,[0,0,0]),e.Mode=i})(s.QrSegment||(s.QrSegment={}))})(xs||(xs={}));var fa=xs;var ZI={L:fa.QrCode.Ecc.LOW,M:fa.QrCode.Ecc.MEDIUM,Q:fa.QrCode.Ecc.QUARTILE,H:fa.QrCode.Ecc.HIGH},Cx=128,Sx="L",Nx="#FFFFFF",wx="#000000",Tx=!1,Rx=1,JI=4,ek=0,tk=.1;function Ax(s,e=0){const i=[];return s.forEach(function(l,o){let c=null;l.forEach(function(f,g){if(!f&&c!==null){i.push(`M${c+e} ${o+e}h${g-c}v1H${c+e}z`),c=null;return}if(g===l.length-1){if(!f)return;c===null?i.push(`M${g+e},${o+e} h1v1H${g+e}z`):i.push(`M${c+e},${o+e} h${g+1-c}v1H${c+e}z`);return}f&&c===null&&(c=g)})}),i.join("")}function Ix(s,e){return s.slice().map((i,l)=>l<e.y||l>=e.y+e.h?i:i.map((o,c)=>c<e.x||c>=e.x+e.w?o:!1))}function nk(s,e,i,l){if(l==null)return null;const o=s.length+i*2,c=Math.floor(e*tk),f=o/e,g=(l.width||c)*f,m=(l.height||c)*f,h=l.x==null?s.length/2-g/2:l.x*f,v=l.y==null?s.length/2-m/2:l.y*f,b=l.opacity==null?1:l.opacity;let _=null;if(l.excavate){let S=Math.floor(h),A=Math.floor(v),k=Math.ceil(g+h-S),F=Math.ceil(m+v-A);_={x:S,y:A,w:k,h:F}}const E=l.crossOrigin;return{x:h,y:v,h:m,w:g,excavation:_,opacity:b,crossOrigin:E}}function ik(s,e){return e!=null?Math.max(Math.floor(e),0):s?JI:ek}function kx({value:s,level:e,minVersion:i,includeMargin:l,marginSize:o,imageSettings:c,size:f,boostLevel:g}){let m=rt.useMemo(()=>{const S=(Array.isArray(s)?s:[s]).reduce((A,k)=>(A.push(...fa.QrSegment.makeSegments(k)),A),[]);return fa.QrCode.encodeSegments(S,ZI[e],i,void 0,void 0,g)},[s,e,i,g]);const{cells:h,margin:v,numCells:b,calculatedImageSettings:_}=rt.useMemo(()=>{let E=m.getModules();const S=ik(l,o),A=E.length+S*2,k=nk(E,f,S,c);return{cells:E,margin:S,numCells:A,calculatedImageSettings:k}},[m,f,c,l,o]);return{qrcode:m,margin:v,cells:h,numCells:b,calculatedImageSettings:_}}var sk=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),ak=rt.forwardRef(function(e,i){const l=e,{value:o,size:c=Cx,level:f=Sx,bgColor:g=Nx,fgColor:m=wx,includeMargin:h=Tx,minVersion:v=Rx,boostLevel:b,marginSize:_,imageSettings:E}=l,A=ch(l,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:k}=A,F=ch(A,["style"]),L=E?.src,z=rt.useRef(null),Y=rt.useRef(null),ne=rt.useCallback(Ge=>{z.current=Ge,typeof i=="function"?i(Ge):i&&(i.current=Ge)},[i]),[J,O]=rt.useState(!1),{margin:G,cells:X,numCells:_e,calculatedImageSettings:Se}=kx({value:o,level:f,minVersion:v,boostLevel:b,includeMargin:h,marginSize:_,imageSettings:E,size:c});rt.useEffect(()=>{if(z.current!=null){const Ge=z.current,Q=Ge.getContext("2d");if(!Q)return;let U=X;const $=Y.current,ie=Se!=null&&$!==null&&$.complete&&$.naturalHeight!==0&&$.naturalWidth!==0;ie&&Se.excavation!=null&&(U=Ix(X,Se.excavation));const me=window.devicePixelRatio||1;Ge.height=Ge.width=c*me;const Ce=c/_e*me;Q.scale(Ce,Ce),Q.fillStyle=g,Q.fillRect(0,0,_e,_e),Q.fillStyle=m,sk?Q.fill(new Path2D(Ax(U,G))):X.forEach(function(w,R){w.forEach(function(V,Z){V&&Q.fillRect(Z+G,R+G,1,1)})}),Se&&(Q.globalAlpha=Se.opacity),ie&&Q.drawImage($,Se.x+G,Se.y+G,Se.w,Se.h)}}),rt.useEffect(()=>{O(!1)},[L]);const Ye=oh({height:c,width:c},k);let It=null;return L!=null&&(It=rt.createElement("img",{src:L,key:L,style:{display:"none"},onLoad:()=>{O(!0)},ref:Y,crossOrigin:Se?.crossOrigin})),rt.createElement(rt.Fragment,null,rt.createElement("canvas",oh({style:Ye,height:c,width:c,ref:ne,role:"img"},F)),It)});ak.displayName="QRCodeCanvas";var _a=rt.forwardRef(function(e,i){const l=e,{value:o,size:c=Cx,level:f=Sx,bgColor:g=Nx,fgColor:m=wx,includeMargin:h=Tx,minVersion:v=Rx,boostLevel:b,title:_,marginSize:E,imageSettings:S}=l,A=ch(l,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:k,cells:F,numCells:L,calculatedImageSettings:z}=kx({value:o,level:f,minVersion:v,boostLevel:b,includeMargin:h,marginSize:E,imageSettings:S,size:c});let Y=F,ne=null;S!=null&&z!=null&&(z.excavation!=null&&(Y=Ix(F,z.excavation)),ne=rt.createElement("image",{href:S.src,height:z.h,width:z.w,x:z.x+k,y:z.y+k,preserveAspectRatio:"none",opacity:z.opacity,crossOrigin:z.crossOrigin}));const J=Ax(Y,k);return rt.createElement("svg",oh({height:c,width:c,viewBox:`0 0 ${L} ${L}`,ref:i,role:"img"},A),!!_&&rt.createElement("title",null,_),rt.createElement("path",{fill:g,d:`M0,0 h${L}v${L}H0z`,shapeRendering:"crispEdges"}),rt.createElement("path",{fill:m,d:J,shapeRendering:"crispEdges"}),ne)});_a.displayName="QRCodeSVG";function lk(){const{id:s}=i_(),{cabinets:e,files:i,documents:l,loading:o,user:c}=An(),[f,g]=I.useState(!1),[m,h]=I.useState(null),[v,b]=I.useState({cabinetId:"",level:1,column:1,isLocker:!1,type:"file"});if(o)return p.jsx("div",{className:"text-center p-8 text-slate-500",children:"Loading Cabinet..."});const _=e.find(Q=>Q.id===s);if(!_)return p.jsx("div",{className:"text-center p-8 text-slate-500",children:"Cabinet not found."});const S=[...i.map(Q=>({...Q,type:"file",level:Number(Q.level)||1,column:Number(Q.column)||1,isConfidential:Q.isConfidential===!0||String(Q.isConfidential)==="true"})),...l.map(Q=>({...Q,type:"document",level:Number(Q.level)||1,column:Number(Q.column)||1,fileNumber:Q.documentNumber||"Unnamed Document",fileName:Q.documentType?`Type: ${Q.documentType}`:"Document",financialYear:"",isConfidential:Q.isConfidential===!0||String(Q.isConfidential)==="true"}))].filter(Q=>Q.cabinetId===s),A=Array.from({length:_.levels},(Q,U)=>_.levels-U),[k,F]=I.useState(!0),[L,z]=I.useState(!1),[Y,ne]=I.useState(!1),[J,O]=I.useState(!1),[G,X]=I.useState(!1),_e=()=>{g(!0),setTimeout(()=>{window.print(),g(!1)},100)},Se=(Q,U)=>{Q.preventDefault(),h(U),b({cabinetId:U.cabinetId,level:U.level||1,column:U.column||1,isLocker:U.isLocker||!1,type:U.type||"file"})},Ye=async()=>{if(m)try{const Q=v.type==="document"?"documents":"files";await q3(Ct(St,`${Q}/${m.id}`),{cabinetId:v.cabinetId,level:v.level,column:v.column,isLocker:v.isLocker}),h(null)}catch(Q){console.error("Error updating file location:",Q),alert("Failed to update file location.")}},It=window.location.href,Ge=e.find(Q=>Q.id===v.cabinetId)||_;return p.jsxs("div",{className:`space-y-6 ${f?"print-mode":""}`,children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center border-b border-slate-200 pb-4 gap-4 no-print",children:[p.jsxs("div",{children:[p.jsx(tt,{to:"/",className:"text-indigo-600 hover:text-indigo-800 text-sm mb-2 inline-block",children:" Back to Dashboard"}),p.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[p.jsx(bs,{className:"w-8 h-8 text-indigo-600"})," ",_.name]}),p.jsxs("p",{className:"text-slate-500 mt-1",children:[_.levels," Levels  ",_.columns," Columns ",_.hasLocker?"| Includes Locker":""]})]}),p.jsxs("div",{className:"flex flex-col items-end gap-3 bg-slate-50 p-3 rounded-lg border border-slate-200 w-full sm:w-auto",children:[p.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-4 text-sm font-medium text-slate-700",children:[p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:k,onChange:Q=>F(Q.target.checked),className:"mr-2 h-4 w-4 text-indigo-600 rounded"}),"Include Layout QR"]}),p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:L,onChange:Q=>z(Q.target.checked),className:"mr-2 h-4 w-4 text-indigo-600 rounded"}),"Print Large Format"]}),p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:Y,onChange:Q=>ne(Q.target.checked),className:"mr-2 h-4 w-4 text-indigo-600 rounded"}),"Print QR (Large) Only"]}),p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:J,onChange:Q=>O(Q.target.checked),className:"mr-2 h-4 w-4 text-indigo-600 rounded"}),"Print Column List"]}),J&&p.jsxs("label",{className:"flex items-center cursor-pointer text-indigo-700 bg-indigo-50 px-2 py-1 rounded",children:[p.jsx("input",{type:"checkbox",checked:G,onChange:Q=>X(Q.target.checked),className:"mr-2 h-4 w-4 text-indigo-600 rounded"}),"Include Column QRs"]})]}),p.jsxs("div",{className:"flex gap-2 w-full sm:w-auto mt-2",children:[c&&p.jsxs(tt,{to:"/admin/cabinets",className:"flex items-center px-4 py-2 bg-white text-slate-700 border border-slate-300 rounded-lg hover:bg-slate-50 transition shadow-sm justify-center flex-1 sm:flex-none",children:[p.jsx(BI,{className:"w-4 h-4 mr-2"})," Edit Layout"]}),p.jsxs("button",{onClick:_e,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition shadow-sm flex-1 sm:flex-none justify-center",children:[p.jsx(_x,{className:"w-5 h-5 mr-2"})," Print Map"]})]})]})]}),(k||Y)&&p.jsxs("div",{className:`print-only hidden relative ${Y?"flex-col items-center justify-center h-screen":"mb-8 pb-4 border-b border-gray-300"}`,children:[p.jsx("div",{className:"absolute top-0 right-0 text-sm text-gray-500 font-medium",children:new Date().toLocaleDateString()}),p.jsxs("div",{className:`flex ${Y?"flex-col text-center":"items-center justify-between"} w-full`,children:[p.jsxs("div",{className:Y?"mb-8":"",children:[p.jsxs("h1",{className:`${Y?"text-5xl":"text-3xl"} font-bold text-black mb-4`,children:["Cabinet: ",_.name]}),!Y&&p.jsx("p",{className:"text-md text-gray-700 max-w-lg",children:"This document contains the physical layout mapping for files stored in this cabinet. Scan the QR code to access the secure digital version and view full file details instantly."})]}),p.jsxs("div",{className:`flex flex-col items-center border-4 border-black p-4 rounded-xl bg-gray-50 ${Y?"mt-8":""}`,children:[p.jsx(_a,{value:It,size:Y?400:L?200:120,level:"M"}),p.jsx("span",{className:`${Y?"text-xl":"text-xs"} font-bold mt-4 uppercase tracking-widest`,children:"Scan to View Cabinet Info"})]})]})]}),J&&p.jsx("div",{className:"hidden print:block w-full",children:A.map(Q=>{const U=_.lockers?.some(R=>R.level===Q&&(R.column===null||R.column===void 0)),$=_.levelColumns?.[Q]||_.columns,ie=_.lockers?.filter(R=>R.level===Q&&R.column!==null&&R.column!==void 0).map(R=>Number(R.column))||[],me=ie.length>0,Ce=Array.from({length:$},(R,V)=>V+1),w=me?ie.sort((R,V)=>R-V):Ce;if(U){const R=S.filter(V=>V.level===Q);return p.jsxs("div",{className:"mb-8 p-6 border-2 border-black rounded-xl page-break-inside-avoid relative",children:[p.jsx("div",{className:"absolute top-4 right-4 text-sm text-gray-500",children:new Date().toLocaleDateString()}),p.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Cabinet: ",_.name]}),p.jsxs("h3",{className:"text-xl text-gray-700 mb-4 flex items-center",children:[p.jsx(Et,{className:"w-5 h-5 mr-2"})," LOCKER STORAGE (LEVEL ",Q,")"]}),p.jsxs("div",{className:"flex gap-6",children:[G&&p.jsx("div",{className:"border p-2 self-start flex-shrink-0",children:p.jsx(_a,{value:It,size:100,level:"M"})}),p.jsx("div",{className:"flex-1 space-y-3",children:R.length===0?p.jsx("p",{className:"italic text-gray-500",children:"Empty Locker Level"}):R.map(V=>p.jsxs("div",{className:"border-b border-gray-200 pb-2 flex justify-between",children:[p.jsxs("div",{children:[p.jsxs("span",{className:"font-bold",children:[V.fileNumber,V.financialYear?`/${V.financialYear}`:""]}),p.jsx("span",{className:"ml-4",children:V.fileName}),V.bdCollection?p.jsxs("span",{className:"ml-4 text-sm text-gray-500",children:["BD: ",V.bdCollection]}):null]}),V.isConfidential&&p.jsxs("span",{className:"text-red-600 font-bold uppercase text-sm",children:[p.jsx(Et,{className:"w-3 h-3 inline mr-1"})," Confidential"]})]},V.id))})]})]},`print-row-${Q}`)}return w.map(R=>{const V=me||_.lockers?.some(W=>W.level===Q&&W.column===R),Z=S.filter(W=>W.level===Q&&W.column===R);return p.jsxs("div",{className:"mb-8 p-6 border-2 border-black rounded-xl page-break-inside-avoid relative",children:[p.jsx("div",{className:"absolute top-4 right-4 text-sm text-gray-500",children:new Date().toLocaleDateString()}),p.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Cabinet: ",_.name]}),p.jsxs("h3",{className:"text-xl text-gray-700 mb-4",children:["Location: Level ",Q," - Column ",R," ",V?"(Locker)":""]}),p.jsxs("div",{className:"flex gap-6",children:[G&&p.jsx("div",{className:"border p-2 self-start flex-shrink-0 bg-white",children:p.jsx(_a,{value:It,size:100,level:"M"})}),p.jsx("div",{className:"flex-1 space-y-3",children:Z.length===0?p.jsxs("p",{className:"italic text-gray-500",children:["Empty ",V?"Locker":"Column"]}):Z.map(W=>p.jsxs("div",{className:"border-b border-gray-200 pb-2 flex justify-between",children:[p.jsxs("div",{children:[p.jsxs("span",{className:"font-bold",children:[W.fileNumber,W.financialYear?`/${W.financialYear}`:""]}),p.jsx("span",{className:"ml-4",children:W.fileName}),W.bdCollection?p.jsxs("span",{className:"ml-4 text-sm text-gray-500",children:["BD: ",W.bdCollection]}):null]}),W.isConfidential&&p.jsxs("span",{className:"text-red-600 font-bold uppercase text-sm",children:[p.jsx(Et,{className:"w-3 h-3 inline mr-1"})," Confidential"]})]},W.id))})]})]},`print-row-${Q}-col-${R}`)})})}),p.jsxs("div",{className:`bg-white p-6 rounded-2xl shadow-sm border border-slate-200 overflow-x-auto print-container ${Y||J?"no-print":""}`,children:[p.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-6 flex items-center gap-2 no-print",children:[p.jsx(rh,{className:"w-5 h-5"})," Cabinet Structure Mapping"]}),p.jsx("div",{className:"inline-block min-w-full",children:p.jsx("div",{className:"flex flex-col gap-4",children:A.map(Q=>{const U=_.lockers?.some(R=>R.level===Q&&(R.column===null||R.column===void 0)),$=_.levelColumns?.[Q]||_.columns,ie=_.lockers?.filter(R=>R.level===Q&&R.column!==null&&R.column!==void 0).map(R=>Number(R.column))||[],me=ie.length>0,Ce=Array.from({length:$},(R,V)=>V+1),w=me?ie.sort((R,V)=>R-V):Ce;return p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:`w-20 flex flex-col justify-center items-center rounded-lg border font-bold shadow-inner ${U?"bg-amber-100 border-amber-300 text-amber-700":"bg-slate-100 border-slate-200 text-slate-500"}`,children:[p.jsx("span",{className:"text-xs uppercase tracking-widest",children:U?"Locker":"Level"}),p.jsx("span",{className:"text-2xl",children:Q})]}),p.jsx("div",{className:"flex gap-4 flex-1",children:U?p.jsxs("div",{className:"flex-1 min-w-[220px] border-2 border-amber-300 rounded-xl bg-amber-50/50 p-4 flex flex-col gap-3 transition relative shadow-sm",children:[p.jsx("div",{className:"text-xs font-bold text-amber-700 uppercase tracking-wide flex justify-between items-center mb-1",children:p.jsxs("span",{className:"bg-amber-200 px-3 py-1.5 rounded-lg text-amber-900 flex items-center gap-2",children:[p.jsx(Et,{className:"w-4 h-4"})," LOCKER STORAGE (LEVEL ",Q,")"]})}),p.jsx("div",{className:"flex flex-wrap gap-3 mt-1 flex-1",children:S.filter(R=>R.level===Q).length===0?p.jsx("div",{className:"flex-1 flex items-center justify-center text-amber-600/50 text-sm italic border border-dashed border-amber-200 rounded-lg py-8 w-full",children:"Empty Locker Level"}):S.filter(R=>R.level===Q).map(R=>p.jsxs(tt,{to:`/file/${R.id}`,className:"bg-white p-3 rounded-xl shadow-sm border border-amber-200 flex flex-col gap-1 hover:border-amber-400 hover:shadow-md transition group w-64 no-print-link relative overflow-hidden",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex flex-col gap-1 items-start",children:[R.bdCollection?p.jsxs("span",{className:"font-mono text-[10px] font-bold text-amber-900 bg-amber-50 px-1.5 py-0.5 rounded border border-amber-200",children:["BD: ",R.bdCollection]}):null,p.jsxs("span",{className:"font-mono text-xs font-bold text-amber-800 bg-amber-100 px-2 py-1 rounded border border-amber-200",children:[R.fileNumber,R.financialYear?`/${R.financialYear}`:""]})]}),R.isConfidential&&p.jsx(Et,{className:"w-4 h-4 text-red-500 shrink-0 ml-1"})]}),p.jsxs("div",{className:"flex flex-col mt-1",children:[p.jsx("span",{className:"text-sm text-slate-800 line-clamp-2 leading-tight",children:R.fileName}),R.isConfidential&&p.jsxs("span",{className:"mt-1 inline-flex items-center gap-1 text-[10px] font-bold uppercase tracking-wider text-red-700 bg-red-100 border border-red-200 px-1.5 py-0.5 rounded w-fit shadow-sm",children:[p.jsx(Et,{className:"w-3 h-3"})," Confidential"]})]}),c&&p.jsxs("button",{onClick:V=>Se(V,R),className:"no-print mt-2 text-xs text-amber-700 hover:text-amber-900 font-semibold flex items-center bg-amber-50 hover:bg-amber-100 p-1.5 rounded transition w-fit",children:[p.jsx(Wl,{className:"w-3 h-3 mr-1"})," Move File"]})]},R.id))})]}):w.map(R=>{const V=me||_.lockers?.some(W=>W.level===Q&&W.column===R),Z=S.filter(W=>W.level===Q&&W.column===R);return p.jsxs("div",{className:`flex-1 min-w-[220px] border-2 rounded-xl p-3 flex flex-col gap-2 transition relative ${V?"border-amber-300 bg-amber-50":"border-slate-200 bg-slate-50 hover:border-indigo-300"}`,children:[p.jsx("div",{className:`text-xs font-bold uppercase tracking-wide flex justify-between items-center mb-1 ${V?"text-amber-700":"text-slate-500"}`,children:p.jsxs("span",{className:`px-2 py-1 rounded flex items-center gap-1 ${V?"bg-amber-200 text-amber-900":"bg-slate-200 text-slate-700"}`,children:[V&&p.jsx(Et,{className:"w-3 h-3"})," Col ",R," ",V&&"(Locker)"]})}),p.jsx("div",{className:"flex flex-col gap-2 mt-1 flex-1",children:Z.length===0?p.jsxs("div",{className:`flex-1 flex items-center justify-center text-sm italic border border-dashed rounded-lg py-4 ${V?"text-amber-600/50 border-amber-200":"text-slate-400 border-slate-300"}`,children:["Empty ",V?"Locker":"Column"]}):Z.map(W=>p.jsxs(tt,{to:`/file/${W.id}`,className:`bg-white p-2 rounded-lg shadow-sm border flex flex-col gap-1 no-print-link relative overflow-hidden group ${V?"border-amber-200 hover:border-amber-400":"border-slate-200 hover:border-indigo-400"}`,children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex flex-col gap-1 items-start",children:[W.bdCollection?p.jsxs("span",{className:`font-mono text-[10px] font-bold px-1.5 py-0.5 rounded border ${V?"text-amber-900 bg-amber-50 border-amber-200":"text-slate-600 bg-slate-100 border-slate-200"}`,children:["BD: ",W.bdCollection]}):null,p.jsxs("span",{className:`font-mono text-xs font-bold px-1.5 py-0.5 rounded border ${V?"text-amber-800 bg-amber-100 border-amber-200":"text-indigo-700 bg-indigo-50 border-indigo-100"}`,children:[W.fileNumber,W.financialYear?`/${W.financialYear}`:""]})]}),W.isConfidential&&p.jsx(Et,{className:"w-3 h-3 text-red-500 shrink-0 ml-1"})]}),p.jsxs("div",{className:"flex flex-col mt-1",children:[p.jsx("span",{className:"text-sm text-slate-800 line-clamp-2 leading-tight",children:W.fileName}),W.isConfidential&&p.jsxs("span",{className:"mt-1 inline-flex items-center gap-1 text-[10px] font-bold uppercase tracking-wider text-red-700 bg-red-100 border border-red-200 px-1.5 py-0.5 rounded w-fit shadow-sm",children:[p.jsx(Et,{className:"w-3 h-3"})," Confidential"]})]}),c&&p.jsxs("button",{onClick:de=>Se(de,W),className:`no-print mt-1 text-xs font-semibold flex items-center p-1 rounded transition w-fit ${V?"text-amber-700 hover:text-amber-900 bg-amber-50 hover:bg-amber-100":"text-indigo-600 hover:text-indigo-800 bg-indigo-50 hover:bg-indigo-100"}`,children:[p.jsx(Wl,{className:"w-3 h-3 mr-1"})," Move File"]})]},W.id))})]},`col-${R}`)})})]},`row-${Q}`)})})})]}),c&&m&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 no-print",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[p.jsxs("h3",{className:"font-bold text-lg text-slate-800 flex items-center gap-2",children:[p.jsx(Wl,{className:"w-5 h-5 text-indigo-600"}),"Change File Location"]}),p.jsx("button",{onClick:()=>h(null),className:"text-slate-400 hover:text-slate-600 transition",children:p.jsx(KI,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsxs("div",{className:"bg-indigo-50 text-indigo-800 p-3 rounded-lg text-sm mb-2 border border-indigo-100",children:[p.jsx("span",{className:"font-bold",children:"Moving File:"})," ",m.fileName||`No. ${m.fileNumber}`]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Cabinet"}),p.jsx("select",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 focus:ring-2 focus:ring-indigo-500 outline-none",value:v.cabinetId,onChange:Q=>b({...v,cabinetId:Q.target.value,level:1,column:1,isLocker:!1}),children:e.map(Q=>p.jsx("option",{value:Q.id,children:Q.name},Q.id))})]}),Ge&&p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:v.isLocker?"Locker Level":"Level (Row)"}),p.jsx("select",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 focus:ring-2 focus:ring-indigo-500 outline-none",value:v.level,onChange:Q=>b({...v,level:parseInt(Q.target.value)}),children:Array.from({length:v.isLocker?10:Ge.levels||1}).map((Q,U)=>p.jsxs("option",{value:U+1,children:["Level ",U+1]},U+1))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:v.isLocker?"Locker Column":"Column"}),p.jsx("select",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 focus:ring-2 focus:ring-indigo-500 outline-none",value:v.column,onChange:Q=>b({...v,column:parseInt(Q.target.value)}),children:Array.from({length:v.isLocker?10:Ge.columns||1}).map((Q,U)=>p.jsxs("option",{value:U+1,children:["Column ",U+1]},U+1))})]})]}),Ge?.hasLocker&&p.jsxs("div",{className:"flex items-center mt-4 p-3 bg-amber-50 rounded-lg border border-amber-100",children:[p.jsx("input",{type:"checkbox",id:"modalLocker",checked:v.isLocker,onChange:Q=>b({...v,isLocker:Q.target.checked}),className:"h-4 w-4 text-amber-600 rounded border-amber-300 focus:ring-amber-500"}),p.jsx("label",{htmlFor:"modalLocker",className:"ml-2 block text-sm font-medium text-amber-900",children:"Store in Locker instead"})]})]}),p.jsxs("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-100 flex justify-end gap-2",children:[p.jsx("button",{onClick:()=>h(null),className:"px-4 py-2 text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition",children:"Cancel"}),p.jsx("button",{onClick:Ye,className:"px-4 py-2 text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition font-medium",children:"Save Location"})]})]})}),p.jsx("style",{children:`
        @media print {
          @page { size: ${L?"A3":"A4"} portrait; margin: 10mm; }
          body { background: white; -webkit-print-color-adjust: exact; print-color-adjust: exact; overflow: visible !important; zoom: ${L?"1.25":"1"}; }
          .no-print { display: none !important; }
          nav { display: none !important; }
          header { display: none !important; }
          #root > nav { display: none !important; }
          .print-only { display: flex !important; }
          .print-mode .print-container { box-shadow: none !important; border: none !important; padding: 0 !important; overflow: visible !important; }
          .print-mode .overflow-x-auto { overflow: visible !important; }
          .print-mode .min-w-full { min-width: auto !important; width: 100% !important; }
          .print-mode .bg-slate-50 { background: white !important; border-color: #000 !important; border-width: 2px !important; }
          .print-mode .bg-slate-100 { background: #e5e7eb !important; border-color: #000 !important; }
          .print-mode .bg-slate-200 { background: #d1d5db !important; color: #000 !important; }
          .print-mode .bg-indigo-50 { background: transparent !important; color: #000 !important; border-color: #000 !important; }
          .print-mode .text-indigo-700 { color: black !important; }
          .print-mode .text-slate-500 { color: #374151 !important; }
          .no-print-link { pointer-events: none; border-color: #000 !important; border-width: 1px !important; }
          
          /* Prevent page breaks inside rows and ensure elements stack neatly */
          .flex.gap-4 { page-break-inside: avoid; break-inside: avoid; }
          .page-break-inside-avoid { page-break-inside: avoid; break-inside: avoid; }
        }
      `})]})}function rk(){const{id:s}=i_(),{files:e,documents:i,cabinets:l,fileTypes:o,loading:c}=An(),[f,g]=I.useState(""),[m,h]=I.useState(!1),[v,b]=I.useState("");if(c)return p.jsx("div",{className:"text-center p-8 text-slate-500",children:"Loading Document..."});let _=e.find(O=>O.id===s);if(!_){const O=i.find(G=>G.id===s);O&&(_={...O,type:"document",fileNumber:O.documentNumber,fileName:O.documentType||"Document",financialYear:""})}const E=new URLSearchParams(window.location.search),S=E.get("name"),A=E.get("num"),k=E.get("cab"),F=E.get("loc");if(!_&&!S)return p.jsx("div",{className:"text-center p-8 text-slate-500",children:"Document not found."});const L=_||{isConfidential:!1,fileName:S,fileNumber:A?A.split("/")[0]:"",financialYear:A&&A.includes("/")?A.split("/")[1]:"",synthetic:!0,syntheticCab:k,syntheticLoc:F},z=_?l.find(O=>O.id===_.cabinetId):null,Y=_&&_.type!=="document"?o.find(O=>O.id===_.fileTypeId):null,ne=O=>{O.preventDefault(),f===L.password?(h(!0),b("")):b("Incorrect password.")},J=L.isConfidential&&!m;return p.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[p.jsx(tt,{to:"/",className:"text-indigo-600 hover:text-indigo-800 text-sm mb-4 inline-block",children:" Back to Dashboard"}),J?p.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-red-200 text-center space-y-6",children:[p.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:p.jsx(Et,{className:"w-8 h-8 text-red-600"})}),p.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Confidential Document"}),p.jsx("p",{className:"text-slate-500 max-w-sm mx-auto",children:"This document is password protected. Please enter the access code to view its details and location."}),p.jsxs("form",{onSubmit:ne,className:"max-w-sm mx-auto space-y-4",children:[p.jsx("div",{children:p.jsx("input",{type:"password",required:!0,value:f,onChange:O=>g(O.target.value),className:"w-full rounded-lg border border-slate-300 px-4 py-3 outline-none focus:ring-2 focus:ring-red-500 text-center text-lg tracking-widest",placeholder:""})}),v&&p.jsx("p",{className:"text-red-500 text-sm",children:v}),p.jsxs("button",{type:"submit",className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all",children:[p.jsx(NI,{className:"w-4 h-4 mr-2"})," Unlock Document"]})]})]}):p.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[p.jsxs("div",{className:`p-6 border-b flex items-start justify-between ${L.isConfidential?"bg-amber-50 border-amber-200":"bg-indigo-50 border-indigo-100"}`,children:[p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:`p-4 rounded-xl ${L.isConfidential?"bg-amber-100 text-amber-700":"bg-indigo-100 text-indigo-700"}`,children:p.jsx(fr,{className:"w-8 h-8"})}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[L.bdCollection&&p.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider bg-white px-2 py-1 rounded-md shadow-sm",children:["BD ",L.bdCollection]}),L.isConfidential&&p.jsxs("span",{className:"text-xs font-bold uppercase flex items-center bg-red-100 text-red-800 px-2 py-1 rounded-md shadow-sm",children:[p.jsx(Qc,{className:"w-3 h-3 mr-1"})," Confidential"]})]}),p.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:L.fileName||"Unknown File"}),p.jsxs("p",{className:"text-slate-600 font-mono mt-1",children:[L.fileNumber,L.financialYear?`/${L.financialYear}`:""]})]})]}),p.jsx("div",{className:"bg-white p-2 rounded-xl shadow-sm border border-slate-200",children:(()=>{let O=window.location.href;if(!L.isConfidential&&!L.synthetic){const G=z?.name||"Unknown Cabinet",X=L.isLocker?`Locker (L${L.level} C${L.column})`:`L${L.level} C${L.column}`;O=`Name: ${L.fileName||"Document"}
No: ${L.fileNumber}${L.financialYear?"/"+L.financialYear:""}
Cabinet: ${G}
Location: ${X}

Link: ${O}`}return p.jsx(_a,{value:O,size:80,level:"M"})})()})]}),p.jsxs("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-8",children:[p.jsx("div",{className:"space-y-6",children:p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"Document Details"}),p.jsxs("div",{className:"space-y-3 bg-slate-50 p-4 rounded-xl border border-slate-100",children:[Y&&p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-slate-500",children:"File Type"}),p.jsx("span",{className:"font-medium text-slate-900",children:Y.name})]}),L.bdCollection&&p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-slate-500",children:"Collection"}),p.jsxs("span",{className:"font-medium text-slate-900",children:["BD ",L.bdCollection]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-slate-500",children:"Number / FY"}),p.jsxs("span",{className:"font-medium text-slate-900 font-mono",children:[L.fileNumber,L.financialYear?`/${L.financialYear}`:""]})]})]})]})}),p.jsx("div",{className:"space-y-6",children:p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"Storage Location"}),p.jsxs("div",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-100",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(bs,{className:"w-5 h-5 text-indigo-600 mt-0.5"}),p.jsx("div",{children:L.synthetic?p.jsxs(p.Fragment,{children:[p.jsx("p",{className:"font-bold text-indigo-900",children:L.syntheticCab||"Unknown Cabinet"}),p.jsxs("p",{className:"text-indigo-700 mt-1 flex items-center",children:[p.jsx(Wl,{className:"w-4 h-4 mr-1"})," ",L.syntheticLoc||"Unknown Location"]})]}):p.jsxs(p.Fragment,{children:[p.jsx("p",{className:"font-bold text-indigo-900",children:z?.name||"Unknown Cabinet"}),L.isLocker?p.jsxs("p",{className:"text-indigo-700 mt-1 flex items-center",children:[p.jsx(Et,{className:"w-4 h-4 mr-1"})," Stored in Locker (Level ",L.level,", Col ",L.column,")"]}):p.jsxs("p",{className:"text-indigo-700 mt-1 flex items-center",children:[p.jsx(Wl,{className:"w-4 h-4 mr-1"})," Level ",L.level,", Column ",L.column]})]})})]}),z&&p.jsx("div",{className:"mt-4 pt-4 border-t border-indigo-200",children:p.jsx(tt,{to:`/cabinet/${z.id}`,className:"text-sm font-medium text-indigo-600 hover:text-indigo-800 flex items-center",children:"View Cabinet Structure "})})]})]})})]})]})]})}function ok(){const[s,e]=I.useState(""),[i,l]=I.useState(""),[o,c]=I.useState(""),[f,g]=I.useState(!1),m=Rc(),h=async v=>{v.preventDefault(),g(!0),c("");try{await CT(pm,s,i),m("/admin")}catch(b){c(b.message||"Failed to login. Check credentials.")}finally{g(!1)}};return p.jsx("div",{className:"flex justify-center items-center min-h-[70vh]",children:p.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-2xl shadow-xl border border-slate-100",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"mx-auto w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mb-4",children:p.jsx(Et,{className:"w-6 h-6 text-indigo-600"})}),p.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Admin Access"}),p.jsx("p",{className:"text-slate-500 mt-2 text-sm",children:"Sign in to manage cabinets and files"})]}),o&&p.jsxs("div",{className:"mb-6 bg-red-50 text-red-600 p-3 rounded-lg flex items-center text-sm border border-red-200",children:[p.jsx(dI,{className:"w-4 h-4 mr-2 flex-shrink-0"}),p.jsx("span",{children:o})]}),p.jsxs("form",{onSubmit:h,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(II,{className:"h-5 w-5 text-slate-400"})}),p.jsx("input",{type:"email",required:!0,value:s,onChange:v=>e(v.target.value),className:"pl-10 block w-full rounded-lg border border-slate-300 py-2.5 text-slate-900 focus:ring-2 focus:ring-indigo-600 focus:border-indigo-600 outline-none transition-all sm:text-sm",placeholder:"admin@example.com"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Et,{className:"h-5 w-5 text-slate-400"})}),p.jsx("input",{type:"password",required:!0,value:i,onChange:v=>l(v.target.value),className:"pl-10 block w-full rounded-lg border border-slate-300 py-2.5 text-slate-900 focus:ring-2 focus:ring-indigo-600 focus:border-indigo-600 outline-none transition-all sm:text-sm",placeholder:""})]})]}),p.jsx("button",{type:"submit",disabled:f,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:f?"Signing in...":"Sign In"})]})]})})}function ck(){const{cabinets:s,files:e}=An();return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Admin Dashboard"}),p.jsx("p",{className:"text-slate-500 mt-2",children:"Manage your cabinets, files, and QR codes."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs(tt,{to:"/admin/cabinets",className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 hover:border-indigo-300 transition-all flex items-center space-x-4",children:[p.jsx("div",{className:"p-4 bg-indigo-50 text-indigo-600 rounded-xl",children:p.jsx(bs,{className:"h-8 w-8"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Cabinets"}),p.jsxs("p",{className:"text-slate-500",children:[s.length," total"]})]})]}),p.jsxs(tt,{to:"/admin/files",className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 hover:border-emerald-300 transition-all flex items-center space-x-4",children:[p.jsx("div",{className:"p-4 bg-emerald-50 text-emerald-600 rounded-xl",children:p.jsx(fr,{className:"h-8 w-8"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Files"}),p.jsxs("p",{className:"text-slate-500",children:[e.length," total"]})]})]}),p.jsxs(tt,{to:"/admin/qrs",className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 hover:border-purple-300 transition-all flex items-center space-x-4",children:[p.jsx("div",{className:"p-4 bg-purple-50 text-purple-600 rounded-xl",children:p.jsx(bx,{className:"h-8 w-8"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"QR Generator"}),p.jsx("p",{className:"text-slate-500",children:"Print codes"})]})]})]})]})}function uk(){const{files:s,cabinets:e,fileTypes:i}=An(),[l,o]=I.useState("files"),c=new Date().getFullYear(),g=new Date().getMonth()>=3?c:c-1,m=Array.from({length:11},(O,G)=>{const X=g-5+G;return`${X}-${X+1}`}),h=`${g}-${g+1}`,[v,b]=I.useState(null),[_,E]=I.useState({bdCollection:"I",fileNumber:"",financialYear:h,fileName:"",fileTypeId:"",cabinetId:"",level:1,column:1,isLocker:!1,isConfidential:!1,password:""}),[S,A]=I.useState(null),[k,F]=I.useState({name:"",defaultCabinetId:"",defaultLevel:1,defaultColumn:1,defaultIsLocker:!1}),L=O=>{const G=O.target.value,X=i.find(_e=>_e.id===G);E(_e=>({..._e,fileTypeId:G})),X&&X.defaultCabinetId&&confirm(`Use default location for this file type? Cabinet: ${e.find(_e=>_e.id===X.defaultCabinetId)?.name}`)&&E(_e=>({..._e,cabinetId:X.defaultCabinetId||"",level:X.defaultLevel||1,column:X.defaultColumn||1,isLocker:X.defaultIsLocker||!1}))},z=async O=>{O.preventDefault();try{const G=v?Ct(St,`files/${v}`):Ct(St,"files");v?await Ra(G,_):await Nc(G,_),b(null),E({bdCollection:"I",fileNumber:"",financialYear:h,fileName:"",fileTypeId:"",cabinetId:"",level:1,column:1,isLocker:!1,isConfidential:!1,password:""})}catch(G){console.error(G),alert("Error saving file details. Check console.")}},Y=async O=>{O.preventDefault();try{const G=S?Ct(St,`fileTypes/${S}`):Ct(St,"fileTypes");S?await Ra(G,k):await Nc(G,k),A(null),F({name:"",defaultCabinetId:"",defaultLevel:1,defaultColumn:1,defaultIsLocker:!1})}catch(G){console.error(G),alert("Error saving type. Check console.")}},ne=async O=>{confirm("Are you sure you want to delete this record?")&&await hm(Ct(St,O))},J=O=>e.find(G=>G.id===O);return p.jsxs("div",{className:"space-y-6 pb-12",children:[p.jsxs("div",{className:"flex justify-between items-center border-b border-slate-200 pb-4",children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Manage Documents"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsxs("button",{onClick:()=>o("files"),className:`px-4 py-2 rounded-lg font-medium transition flex items-center gap-2 ${l==="files"?"bg-indigo-600 text-white shadow-sm":"bg-white text-slate-600 hover:bg-slate-50 border border-slate-200"}`,children:[p.jsx(bs,{className:"w-4 h-4"})," Files"]}),p.jsxs("button",{onClick:()=>o("types"),className:`px-4 py-2 rounded-lg font-medium transition flex items-center gap-2 ${l==="types"?"bg-indigo-600 text-white shadow-sm":"bg-white text-slate-600 hover:bg-slate-50 border border-slate-200"}`,children:[p.jsx(GI,{className:"w-4 h-4"})," File Types"]})]})]}),l==="files"&&p.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8 items-start",children:[p.jsx("div",{className:"xl:col-span-1 sticky top-6",children:p.jsxs("form",{onSubmit:z,className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 space-y-4",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-800",children:v?"Edit File":"Add New File"}),p.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"BD Coll."}),p.jsxs("select",{value:_.bdCollection,onChange:O=>E({..._,bdCollection:O.target.value}),className:"w-full rounded-lg border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500",children:[p.jsx("option",{value:"I",children:"I"}),p.jsx("option",{value:"II",children:"II"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"File No"}),p.jsx("input",{type:"text",required:!0,value:_.fileNumber,onChange:O=>E({..._,fileNumber:O.target.value}),className:"w-full rounded-lg border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g. 123"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Fin. Year"}),p.jsx("select",{value:_.financialYear,onChange:O=>E({..._,financialYear:O.target.value}),className:"w-full rounded-lg border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500",children:m.map(O=>p.jsx("option",{value:O,children:O},O))})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"File Name"}),p.jsx("input",{type:"text",required:!0,value:_.fileName,onChange:O=>E({..._,fileName:O.target.value}),className:"w-full rounded-lg border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"File Type (Optional)"}),p.jsxs("select",{value:_.fileTypeId,onChange:L,className:"w-full rounded-lg border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500",children:[p.jsx("option",{value:"",children:"Select Type (Optional)..."}),i.map(O=>p.jsx("option",{value:O.id,children:O.name},O.id))]})]}),p.jsxs("div",{className:"border-t border-slate-100 pt-4 mt-2",children:[p.jsx("h3",{className:"text-sm font-semibold text-slate-800 mb-3",children:"Storage Location"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Cabinet"}),p.jsxs("select",{required:!0,value:_.cabinetId,onChange:O=>{const G=O.target.value,X=J(G);let _e=!1,Se=1,Ye=1;X&&X.hasLocker&&X.lockers&&X.lockers.length>0&&(_e=!0,Se=X.lockers[0].level,Ye=X.lockers[0].column||1),E({..._,cabinetId:G,level:Se,column:Ye,isLocker:_e})},className:"w-full rounded-lg border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500",children:[p.jsx("option",{value:"",children:"Select Cabinet..."}),e.map(O=>p.jsx("option",{value:O.id,children:O.name},O.id))]})]}),_.cabinetId&&J(_.cabinetId)?.hasLocker&&p.jsxs("div",{className:"flex items-center bg-amber-50 p-3 rounded-lg border border-amber-200 mb-4 mt-2",children:[p.jsx("input",{type:"checkbox",id:"isLocker",checked:_.isLocker,onChange:O=>{const G=O.target.checked,X=J(_.cabinetId);let _e=_.level,Se=_.column;G&&X?.lockers&&X.lockers.length>0&&(_e=X.lockers[0].level,Se=X.lockers[0].column||1),E({..._,isLocker:G,level:_e,column:Se})},className:"h-4 w-4 text-amber-600 rounded border-amber-300 focus:ring-amber-500"}),p.jsx("label",{htmlFor:"isLocker",className:"ml-2 block text-sm font-medium text-amber-900",children:"Store in Locker"})]}),_.cabinetId&&p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:_.isLocker?"Locker Level (Auto)":"Level (Row)"}),p.jsx("select",{value:_.level,onChange:O=>E({..._,level:parseInt(O.target.value)}),disabled:_.isLocker,className:`w-full rounded-lg border px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500 ${_.isLocker?"bg-slate-100 border-slate-200 text-slate-500":"bg-white border-slate-300"}`,children:Array.from({length:_.isLocker?Math.max(10,_.level):J(_.cabinetId)?.levels||1}).map((O,G)=>p.jsxs("option",{value:G+1,children:["Level ",G+1," ",!_.isLocker&&G===0?"(Bottom)":""]},G+1))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:_.isLocker?"Locker Column (Auto)":"Column"}),p.jsx("select",{value:_.column,onChange:O=>E({..._,column:parseInt(O.target.value)}),disabled:_.isLocker,className:`w-full rounded-lg border px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500 ${_.isLocker?"bg-slate-100 border-slate-200 text-slate-500":"bg-white border-slate-300"}`,children:Array.from({length:_.isLocker?Math.max(10,_.column):J(_.cabinetId)?.levelColumns?.[_.level]||J(_.cabinetId)?.columns||1}).map((O,G)=>p.jsxs("option",{value:G+1,children:["Column ",G+1]},G+1))})]})]})]})]}),p.jsxs("div",{className:"border-t border-slate-100 pt-4 mt-2",children:[p.jsxs("div",{className:"flex items-center mb-3",children:[p.jsx("input",{type:"checkbox",id:"isConfidential",checked:_.isConfidential,onChange:O=>E({..._,isConfidential:O.target.checked}),className:"h-4 w-4 text-red-600 rounded border-gray-300"}),p.jsxs("label",{htmlFor:"isConfidential",className:"ml-2 flex items-center text-sm font-medium text-gray-900",children:[p.jsx(Qc,{className:"w-4 h-4 mr-1 text-red-500"}),"Confidential (Password Protected)"]})]}),_.isConfidential&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Access Password"}),p.jsx("input",{type:"text",required:!0,value:_.password,onChange:O=>E({..._,password:O.target.value}),className:"w-full rounded-lg border border-red-300 px-3 py-2 outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter access password"})]})]}),p.jsxs("div",{className:"pt-2 flex gap-2",children:[p.jsx("button",{type:"submit",className:"flex-1 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition",children:v?"Update File":"Save File"}),v&&p.jsx("button",{type:"button",onClick:()=>{b(null),E({bdCollection:"I",fileNumber:"",financialYear:h,fileName:"",fileTypeId:"",cabinetId:"",level:1,column:1,isLocker:!1,isConfidential:!1,password:""})},className:"bg-slate-200 text-slate-800 px-4 py-2 rounded-lg hover:bg-slate-300 transition",children:"Cancel"})]})]})}),p.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[i.map(O=>{const G=s.filter(X=>X.fileTypeId===O.id);return G.length===0?null:p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-700 border-b border-slate-200 pb-2",children:O.name}),G.map(X=>p.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-200 flex justify-between items-center hover:border-indigo-300 transition group ml-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsxs("span",{className:"text-xs font-bold bg-indigo-100 text-indigo-800 px-2 py-1 rounded-md",children:["BD ",X.bdCollection]}),p.jsxs("span",{className:"text-sm font-mono text-slate-600 bg-slate-100 px-2 py-1 rounded-md border border-slate-200",children:[X.fileNumber,"/",X.financialYear]}),X.isConfidential&&p.jsxs("span",{className:"text-xs flex items-center bg-red-100 text-red-800 px-2 py-1 rounded-md",children:[p.jsx(Et,{className:"w-3 h-3 mr-1"})," Confidential"]})]}),p.jsx("h3",{className:"text-lg font-bold text-slate-900",children:X.fileName}),p.jsxs("div",{className:"text-xs text-slate-500 flex flex-wrap gap-x-4 gap-y-1 bg-slate-50 p-2 rounded-lg inline-flex border border-slate-100 mt-2",children:[p.jsx("span",{className:"font-semibold text-slate-700",children:"Cabinet:"})," ",J(X.cabinetId)?.name||"Unknown",p.jsx("span",{className:"text-slate-300",children:"|"}),p.jsx("span",{className:"font-semibold text-slate-700",children:"Location:"})," ",X.isLocker?`Locker (Level ${X.level}, Col ${X.column})`:`Level ${X.level}, Column ${X.column}`]})]}),p.jsxs("div",{className:"flex gap-2 ml-4",children:[p.jsx("button",{onClick:()=>{b(X.id),E({bdCollection:X.bdCollection,fileNumber:X.fileNumber,financialYear:X.financialYear||h,fileName:X.fileName,fileTypeId:X.fileTypeId,cabinetId:X.cabinetId,level:X.level,column:X.column,isLocker:X.isLocker,isConfidential:X.isConfidential,password:X.password||""}),window.scrollTo({top:0,behavior:"smooth"})},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Edit",children:p.jsx(Zl,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>ne(`files/${X.id}`),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete",children:p.jsx(Jl,{className:"w-5 h-5"})})]})]},X.id))]},O.id)}),(()=>{const O=s.filter(G=>!G.fileTypeId||!i.some(X=>X.id===G.fileTypeId));return O.length===0?null:p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-700 border-b border-slate-200 pb-2",children:"Uncategorized"}),O.map(G=>p.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-200 flex justify-between items-center hover:border-indigo-300 transition group ml-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsxs("span",{className:"text-xs font-bold bg-indigo-100 text-indigo-800 px-2 py-1 rounded-md",children:["BD ",G.bdCollection]}),p.jsxs("span",{className:"text-sm font-mono text-slate-600 bg-slate-100 px-2 py-1 rounded-md border border-slate-200",children:[G.fileNumber,"/",G.financialYear]}),G.isConfidential&&p.jsxs("span",{className:"text-xs flex items-center bg-red-100 text-red-800 px-2 py-1 rounded-md",children:[p.jsx(Et,{className:"w-3 h-3 mr-1"})," Confidential"]})]}),p.jsx("h3",{className:"text-lg font-bold text-slate-900",children:G.fileName}),p.jsxs("div",{className:"text-xs text-slate-500 flex flex-wrap gap-x-4 gap-y-1 bg-slate-50 p-2 rounded-lg inline-flex border border-slate-100 mt-2",children:[p.jsx("span",{className:"font-semibold text-slate-700",children:"Cabinet:"})," ",J(G.cabinetId)?.name||"Unknown",p.jsx("span",{className:"text-slate-300",children:"|"}),p.jsx("span",{className:"font-semibold text-slate-700",children:"Location:"})," ",G.isLocker?`Locker (Level ${G.level}, Col ${G.column})`:`Level ${G.level}, Column ${G.column}`]})]}),p.jsxs("div",{className:"flex gap-2 ml-4",children:[p.jsx("button",{onClick:()=>{b(G.id),E({bdCollection:G.bdCollection,fileNumber:G.fileNumber,financialYear:G.financialYear||h,fileName:G.fileName,fileTypeId:G.fileTypeId,cabinetId:G.cabinetId,level:G.level,column:G.column,isLocker:G.isLocker,isConfidential:G.isConfidential,password:G.password||""}),window.scrollTo({top:0,behavior:"smooth"})},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Edit",children:p.jsx(Zl,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>ne(`files/${G.id}`),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete",children:p.jsx(Jl,{className:"w-5 h-5"})})]})]},G.id))]})})(),s.length===0&&p.jsx("div",{className:"text-center py-12 text-slate-500 border border-dashed border-slate-300 rounded-2xl",children:"No files found."})]})]}),l==="types"&&p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start",children:[p.jsx("div",{className:"md:col-span-1 sticky top-6",children:p.jsxs("form",{onSubmit:Y,className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 space-y-4",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-800",children:S?"Edit File Type":"Add File Type"}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Type Name"}),p.jsx("input",{type:"text",required:!0,value:k.name,onChange:O=>F({...k,name:O.target.value}),className:"w-full rounded-lg border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g. Leave and Personal File"})]}),p.jsxs("div",{className:"border-t border-slate-100 pt-4 mt-2",children:[p.jsx("h3",{className:"text-sm font-semibold text-slate-800 mb-2",children:"Default Storage (Optional)"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Default Cabinet"}),p.jsxs("select",{value:k.defaultCabinetId,onChange:O=>F({...k,defaultCabinetId:O.target.value}),className:"w-full rounded-lg border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500",children:[p.jsx("option",{value:"",children:"None"}),e.map(O=>p.jsx("option",{value:O.id,children:O.name},O.id))]})]}),k.defaultCabinetId&&p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Level"}),p.jsx("input",{type:"number",min:"1",value:k.defaultLevel,onChange:O=>F({...k,defaultLevel:parseInt(O.target.value)}),className:"w-full rounded-lg border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Column"}),p.jsx("input",{type:"number",min:"1",value:k.defaultColumn,onChange:O=>F({...k,defaultColumn:parseInt(O.target.value)}),className:"w-full rounded-lg border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),k.defaultCabinetId&&J(k.defaultCabinetId)?.hasLocker&&p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",id:"typeIsLocker",checked:k.defaultIsLocker,onChange:O=>F({...k,defaultIsLocker:O.target.checked}),className:"h-4 w-4 text-indigo-600 rounded border-gray-300"}),p.jsx("label",{htmlFor:"typeIsLocker",className:"ml-2 block text-sm text-gray-900",children:"Default to Locker"})]})]})]}),p.jsxs("div",{className:"pt-2 flex gap-2",children:[p.jsx("button",{type:"submit",className:"flex-1 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition",children:"Save Type"}),S&&p.jsx("button",{type:"button",onClick:()=>{A(null),F({name:"",defaultCabinetId:"",defaultLevel:1,defaultColumn:1,defaultIsLocker:!1})},className:"bg-slate-200 text-slate-800 px-4 py-2 rounded-lg hover:bg-slate-300 transition",children:"Cancel"})]})]})}),p.jsx("div",{className:"space-y-4",children:i.map(O=>p.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-200 flex justify-between items-center group",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-slate-900",children:O.name}),O.defaultCabinetId&&p.jsxs("p",{className:"text-xs text-slate-500 mt-1 flex flex-col",children:[p.jsxs("span",{children:["Default Cabinet: ",J(O.defaultCabinetId)?.name]}),p.jsxs("span",{children:["Level ",O.defaultLevel,", Col ",O.defaultColumn," ",O.defaultIsLocker?"(Locker)":""]})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>{A(O.id),F({name:O.name,defaultCabinetId:O.defaultCabinetId||"",defaultLevel:O.defaultLevel||1,defaultColumn:O.defaultColumn||1,defaultIsLocker:O.defaultIsLocker||!1}),window.scrollTo({top:0,behavior:"smooth"})},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Edit",children:p.jsx(Zl,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>ne(`fileTypes/${O.id}`),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete",children:p.jsx(Jl,{className:"w-5 h-5"})})]})]},O.id))})]})]})}function dk(){const{documents:s,cabinets:e}=An(),[i,l]=I.useState(null),[o,c]=I.useState({bdCollection:"",documentNumber:"",documentType:"",cabinetId:"",level:1,column:1,isLocker:!1,isConfidential:!1,password:""}),f=async h=>{h.preventDefault();try{const v=i?Ct(St,`documents/${i}`):Ct(St,"documents");i?await Ra(v,o):await Nc(v,o),l(null),c({bdCollection:"",documentNumber:"",documentType:"",cabinetId:"",level:1,column:1,isLocker:!1,isConfidential:!1,password:""})}catch(v){console.error(v),alert("Error saving document details.")}},g=async h=>{confirm("Are you sure you want to delete this document?")&&await hm(Ct(St,h))},m=h=>e.find(v=>v.id===h);return p.jsxs("div",{className:"space-y-6 pb-12",children:[p.jsx("div",{className:"flex justify-between items-center border-b border-slate-200 pb-4",children:p.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-2",children:[p.jsx(fr,{className:"w-8 h-8 text-indigo-600"}),"Manage Documents"]})}),p.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8 items-start",children:[p.jsx("div",{className:"xl:col-span-1 sticky top-6",children:p.jsxs("form",{onSubmit:f,className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 space-y-4",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-800",children:i?"Edit Document":"Add New Document"}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"BD Coll. (Optional)"}),p.jsxs("select",{value:o.bdCollection,onChange:h=>c({...o,bdCollection:h.target.value}),className:"w-full rounded-lg border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500",children:[p.jsx("option",{value:"",children:"Select (Blank)"}),p.jsx("option",{value:"I",children:"I"}),p.jsx("option",{value:"II",children:"II"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Doc Type (Optional)"}),p.jsx("input",{type:"text",value:o.documentType,onChange:h=>c({...o,documentType:h.target.value}),className:"w-full rounded-lg border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g. Legal, HR..."})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Document Name / Number"}),p.jsx("input",{type:"text",required:!0,value:o.documentNumber,onChange:h=>c({...o,documentNumber:h.target.value}),className:"w-full rounded-lg border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter Document Name or Number"})]}),p.jsxs("div",{className:"border-t border-slate-100 pt-4 mt-2",children:[p.jsx("h3",{className:"text-sm font-semibold text-slate-800 mb-3",children:"Storage Location (Optional)"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Cabinet"}),p.jsxs("select",{value:o.cabinetId,onChange:h=>{const v=h.target.value,b=m(v);let _=!1,E=1,S=1;b&&b.hasLocker&&b.lockers&&b.lockers.length>0&&(_=!0,E=b.lockers[0].level,S=b.lockers[0].column||1),c({...o,cabinetId:v,level:E,column:S,isLocker:_})},className:"w-full rounded-lg border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500",children:[p.jsx("option",{value:"",children:"Select Cabinet..."}),e.map(h=>p.jsx("option",{value:h.id,children:h.name},h.id))]})]}),o.cabinetId&&m(o.cabinetId)?.hasLocker&&p.jsxs("div",{className:"flex items-center bg-amber-50 p-3 rounded-lg border border-amber-200 mb-4 mt-2",children:[p.jsx("input",{type:"checkbox",id:"isLocker",checked:o.isLocker,onChange:h=>{const v=h.target.checked,b=m(o.cabinetId);let _=o.level,E=o.column;v&&b?.lockers&&b.lockers.length>0&&(_=b.lockers[0].level,E=b.lockers[0].column||1),c({...o,isLocker:v,level:_,column:E})},className:"h-4 w-4 text-amber-600 rounded border-amber-300 focus:ring-amber-500"}),p.jsx("label",{htmlFor:"isLocker",className:"ml-2 block text-sm font-medium text-amber-900",children:"Store in Locker"})]}),o.cabinetId&&p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:o.isLocker?"Locker Level (Auto)":"Level (Row)"}),p.jsx("select",{value:o.level,onChange:h=>c({...o,level:parseInt(h.target.value)}),disabled:o.isLocker,className:`w-full rounded-lg border px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500 ${o.isLocker?"bg-slate-100 border-slate-200 text-slate-500":"bg-white border-slate-300"}`,children:Array.from({length:o.isLocker?Math.max(10,o.level):m(o.cabinetId)?.levels||1}).map((h,v)=>p.jsxs("option",{value:v+1,children:["Level ",v+1," ",!o.isLocker&&v===0?"(Bottom)":""]},v+1))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:o.isLocker?"Locker Column (Auto)":"Column"}),p.jsx("select",{value:o.column,onChange:h=>c({...o,column:parseInt(h.target.value)}),disabled:o.isLocker,className:`w-full rounded-lg border px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500 ${o.isLocker?"bg-slate-100 border-slate-200 text-slate-500":"bg-white border-slate-300"}`,children:Array.from({length:o.isLocker?Math.max(10,o.column):m(o.cabinetId)?.levelColumns?.[o.level]||m(o.cabinetId)?.columns||1}).map((h,v)=>p.jsxs("option",{value:v+1,children:["Column ",v+1]},v+1))})]})]})]})]}),p.jsxs("div",{className:"border-t border-slate-100 pt-4 mt-2",children:[p.jsxs("div",{className:"flex items-center mb-3",children:[p.jsx("input",{type:"checkbox",id:"isConfidential",checked:o.isConfidential,onChange:h=>c({...o,isConfidential:h.target.checked}),className:"h-4 w-4 text-red-600 rounded border-gray-300"}),p.jsxs("label",{htmlFor:"isConfidential",className:"ml-2 flex items-center text-sm font-medium text-gray-900",children:[p.jsx(Qc,{className:"w-4 h-4 mr-1 text-red-500"}),"Confidential"]})]}),o.isConfidential&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),p.jsx("input",{type:"text",required:!0,value:o.password,onChange:h=>c({...o,password:h.target.value}),className:"w-full rounded-lg border border-red-300 px-3 py-2 outline-none focus:ring-2 focus:ring-red-500"})]})]}),p.jsxs("div",{className:"pt-2 flex gap-2",children:[p.jsx("button",{type:"submit",className:"flex-1 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition",children:i?"Update":"Save"}),i&&p.jsx("button",{type:"button",onClick:()=>{l(null),c({bdCollection:"",documentNumber:"",documentType:"",cabinetId:"",level:1,column:1,isLocker:!1,isConfidential:!1,password:""})},className:"bg-slate-200 text-slate-800 px-4 py-2 rounded-lg hover:bg-slate-300 transition",children:"Cancel"})]})]})}),p.jsxs("div",{className:"xl:col-span-2 space-y-4",children:[s.map(h=>p.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-200 flex justify-between items-center hover:border-indigo-300 transition group ml-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.bdCollection&&p.jsxs("span",{className:"text-xs font-bold bg-indigo-100 text-indigo-800 px-2 py-1 rounded-md",children:["BD ",h.bdCollection]}),p.jsx("span",{className:"text-sm font-mono text-slate-600 bg-slate-100 px-2 py-1 rounded-md border border-slate-200",children:h.documentType}),h.isConfidential&&p.jsxs("span",{className:"text-xs flex items-center bg-red-100 text-red-800 px-2 py-1 rounded-md",children:[p.jsx(Et,{className:"w-3 h-3 mr-1"})," Confidential"]})]}),p.jsx("h3",{className:"text-lg font-bold text-slate-900",children:h.documentNumber}),p.jsxs("div",{className:"text-xs text-slate-500 flex flex-wrap gap-x-4 gap-y-1 bg-slate-50 p-2 rounded-lg inline-flex border border-slate-100 mt-2",children:[p.jsx("span",{className:"font-semibold text-slate-700",children:"Cabinet:"})," ",m(h.cabinetId)?.name||"Unknown",p.jsx("span",{className:"text-slate-300",children:"|"}),p.jsx("span",{className:"font-semibold text-slate-700",children:"Location:"})," ",h.isLocker?`Locker (Level ${h.level}, Col ${h.column})`:`Level ${h.level}, Column ${h.column}`]})]}),p.jsxs("div",{className:"flex gap-2 ml-4",children:[p.jsx("button",{onClick:()=>{l(h.id),c({bdCollection:h.bdCollection,documentNumber:h.documentNumber,documentType:h.documentType,cabinetId:h.cabinetId,level:h.level,column:h.column,isLocker:h.isLocker,isConfidential:h.isConfidential,password:h.password||""}),window.scrollTo({top:0,behavior:"smooth"})},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Edit",children:p.jsx(Zl,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>g(`documents/${h.id}`),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete",children:p.jsx(Jl,{className:"w-5 h-5"})})]})]},h.id)),s.length===0&&p.jsx("div",{className:"text-center py-12 text-slate-500 border border-dashed border-slate-300 rounded-2xl",children:"No documents found."})]})]})]})}function fk(){const{cabinets:s}=An(),[e,i]=I.useState(null),[l,o]=I.useState({name:"",levels:1,columns:1,levelColumns:{},hasLocker:!1,lockers:[]}),c=async _=>{_.preventDefault();try{e?await Ra(Ct(St,`cabinets/${e}`),l):await Nc(Ct(St,"cabinets"),l),i(null),o({name:"",levels:1,columns:1,levelColumns:{},hasLocker:!1,lockers:[]})}catch(E){console.error("Error saving cabinet",E)}},f=_=>{i(_.id),o({name:_.name,levels:_.levels,columns:_.columns,levelColumns:_.levelColumns||{},hasLocker:_.hasLocker||!1,lockers:_.lockers||[]})},g=async _=>{confirm("Are you sure you want to delete this cabinet?")&&await hm(Ct(St,`cabinets/${_}`))},m=(_,E)=>{const S=parseInt(E);o(A=>{const k={...A.levelColumns};return isNaN(S)||S===A.columns?delete k[_]:k[_]=S,{...A,levelColumns:k}})},h=_=>l.levelColumns[_]||l.columns,v=(_,E)=>{o(S=>{let A=S.lockers.filter(k=>k.level!==_);return E==="whole"?A.push({level:_,column:null}):E==="partial"&&A.push({level:_,column:1}),{...S,lockers:A,hasLocker:A.length>0}})},b=(_,E)=>{o(S=>{let A=[...S.lockers];return A.some(F=>F.level===_&&F.column===E)?A=A.filter(F=>!(F.level===_&&F.column===E)):A.push({level:_,column:E}),{...S,lockers:A,hasLocker:A.length>0}})};return p.jsxs("div",{className:"space-y-8",children:[p.jsx("div",{className:"flex justify-between items-center",children:p.jsxs("div",{children:[p.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-2",children:[p.jsx(CI,{className:"w-8 h-8 text-indigo-600"}),"Manage Cabinets"]}),p.jsx("p",{className:"text-slate-500 mt-2",children:"Add or update advanced storage cabinet structures."})]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[p.jsxs("form",{onSubmit:c,className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 space-y-6 sticky top-6",children:[p.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:e?"Edit Cabinet":"Add New Cabinet"}),p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{className:"col-span-3",children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Cabinet Name"}),p.jsx("input",{type:"text",required:!0,value:l.name,onChange:_=>o({...l,name:_.target.value}),className:"w-full rounded-lg border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g. Main Archival A1"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Total Levels (Rows)"}),p.jsx("input",{type:"number",min:"1",required:!0,value:l.levels,onChange:_=>o({...l,levels:parseInt(_.target.value)||1}),className:"w-full rounded-lg border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{className:"col-span-2",children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Default Columns per Level"}),p.jsx("input",{type:"number",min:"1",required:!0,value:l.columns,onChange:_=>o({...l,columns:parseInt(_.target.value)||1}),className:"w-full rounded-lg border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),p.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[p.jsx("h3",{className:"text-sm font-semibold text-slate-800 mb-4",children:"Level Customization & Lockers"}),p.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:Array.from({length:l.levels},(_,E)=>E+1).map(_=>{const E=l.lockers.some(L=>L.level===_&&L.column===null),S=l.lockers.filter(L=>L.level===_&&L.column!==null).map(L=>L.column),A=S.length>0,k=E?"whole":A?"partial":"none",F=h(_);return p.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-xl space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("h4",{className:"font-bold text-slate-700",children:["Level ",_]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("label",{className:"text-xs text-slate-500",children:"Columns:"}),p.jsx("input",{type:"number",min:"1",value:l.levelColumns[_]||"",onChange:L=>m(_,L.target.value),placeholder:l.columns.toString(),className:"w-16 text-xs p-1 rounded border border-slate-300 outline-none"})]})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("label",{className:"text-xs flex items-center gap-1 cursor-pointer",children:[p.jsx("input",{type:"radio",checked:k==="none",onChange:()=>v(_,"none"),name:`locker-${_}`})," Normal"]}),p.jsxs("label",{className:"text-xs flex items-center gap-1 cursor-pointer",children:[p.jsx("input",{type:"radio",checked:k==="whole",onChange:()=>v(_,"whole"),name:`locker-${_}`})," Entire Level is Locker"]}),p.jsxs("label",{className:"text-xs flex items-center gap-1 cursor-pointer",children:[p.jsx("input",{type:"radio",checked:k==="partial",onChange:()=>v(_,"partial"),name:`locker-${_}`})," Specific Columns"]})]}),k==="partial"&&p.jsx("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-slate-200",children:Array.from({length:F},(L,z)=>z+1).map(L=>p.jsxs("label",{className:"text-xs flex items-center gap-1 bg-white px-2 py-1 rounded border border-slate-300 cursor-pointer hover:bg-slate-50",children:[p.jsx("input",{type:"checkbox",checked:S.includes(L),onChange:()=>b(_,L),className:"w-3 h-3 text-indigo-600 rounded"}),"Col ",L]},L))})]},_)})})]}),p.jsxs("div",{className:"pt-2 flex gap-2",children:[p.jsx("button",{type:"submit",className:"flex-1 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition flex justify-center items-center font-semibold",children:e?"Update Cabinet":p.jsxs(p.Fragment,{children:[p.jsx(MI,{className:"w-5 h-5 mr-1"})," Add Cabinet"]})}),e&&p.jsx("button",{type:"button",onClick:()=>{i(null),o({name:"",levels:1,columns:1,levelColumns:{},hasLocker:!1,lockers:[]})},className:"bg-slate-200 text-slate-800 px-4 py-2 rounded-lg hover:bg-slate-300 transition font-semibold",children:"Cancel"})]})]}),p.jsxs("div",{className:"space-y-4",children:[s.map(_=>p.jsx("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-200 flex justify-between items-start hover:border-indigo-300 transition",children:p.jsxs("div",{className:"w-full",children:[p.jsxs("div",{className:"flex justify-between w-full",children:[p.jsxs("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[_.name,_.lockers&&_.lockers.length>0&&p.jsx("span",{className:"text-xs bg-amber-100 text-amber-800 px-2 py-0.5 rounded-full font-bold",children:"Has Lockers"})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(tt,{to:`/cabinet/${_.id}`,className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition flex items-center gap-1",title:"Preview Drawing",children:p.jsx(yI,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>f(_),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Edit",children:p.jsx(Zl,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>g(_.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete",children:p.jsx(Jl,{className:"w-4 h-4"})})]})]}),p.jsxs("div",{className:"text-sm text-slate-500 mt-2 flex gap-4",children:[p.jsxs("span",{children:[p.jsx("strong",{children:"Levels:"})," ",_.levels]}),p.jsxs("span",{children:[p.jsx("strong",{children:"Default Cols:"})," ",_.columns]})]}),_.levelColumns&&Object.keys(_.levelColumns).length>0&&p.jsxs("div",{className:"mt-2 text-xs text-slate-600 bg-slate-50 p-2 rounded-lg border border-slate-100 inline-block",children:[p.jsx("strong",{children:"Custom Columns:"})," ",Object.entries(_.levelColumns).map(([E,S])=>`L${E}${S}c`).join(", ")]}),_.lockers&&_.lockers.length>0&&p.jsxs("div",{className:"mt-2 text-xs text-amber-700 bg-amber-50 p-2 rounded-lg border border-amber-100 inline-flex flex-wrap gap-2",children:[p.jsx("strong",{children:"Lockers:"}),_.lockers.map((E,S)=>p.jsxs("span",{className:"bg-amber-100 px-2 py-0.5 rounded-full font-semibold",children:["Level ",E.level,E.column?` (Col ${E.column})`:" (Whole Level)"]},S))]})]})},_.id)),s.length===0&&p.jsx("div",{className:"text-center py-12 text-slate-500 border border-dashed border-slate-300 rounded-2xl bg-slate-50",children:"No cabinets added yet. Create one to start storing documents."})]})]})]})}function hk(){const{files:s,documents:e,cabinets:i}=An(),[l,o]=I.useState([]),[c,f]=I.useState(""),[g,m]=I.useState(!0),[h,v]=I.useState(!0),[b,_]=I.useState(!0),E=[...s.map(z=>({...z,itemType:"file"})),...e.map(z=>({...z,itemType:"document",fileNumber:z.documentNumber,fileName:z.documentType||"Document",financialYear:""}))],S=E.filter(z=>z.fileNumber&&z.fileNumber.toLowerCase().includes(c.toLowerCase())||z.fileName&&z.fileName.toLowerCase().includes(c.toLowerCase())),A=z=>{o(Y=>Y.includes(z)?Y.filter(ne=>ne!==z):[...Y,z])},k=()=>{l.length===S.length?o([]):o(S.map(z=>z.id))},F=()=>{window.print()},L=z=>i.find(Y=>Y.id===z)?.name||"Unknown Cabinet";return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"print:hidden space-y-6",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center border-b border-slate-200 pb-4 gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"QR Code Generator"}),p.jsx("p",{className:"text-slate-500 mt-2",children:"Select files to print their QR labels on an A4 sheet."})]}),p.jsx("div",{className:"flex gap-2",children:p.jsxs("button",{onClick:F,disabled:l.length===0,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:[p.jsx(_x,{className:"w-5 h-5 mr-2"})," Print Selected (",l.length,")"]})})]}),p.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex flex-col gap-4",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[p.jsx("input",{type:"text",placeholder:"Search by number or name...",value:c,onChange:z=>f(z.target.value),className:"w-full sm:w-96 rounded-lg border border-slate-300 px-4 py-2 outline-none focus:ring-2 focus:ring-indigo-500"}),p.jsx("button",{onClick:k,className:"text-sm font-medium text-indigo-600 hover:text-indigo-800 whitespace-nowrap",children:l.length===S.length?"Deselect All":"Select All Filtered"})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-6 pt-4 border-t border-slate-100 text-sm font-medium text-slate-700",children:[p.jsx("span",{className:"text-slate-500 mr-2",children:"Print Options:"}),p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:g,onChange:z=>m(z.target.checked),className:"mr-2 h-4 w-4 text-indigo-600 rounded"}),"Include QR Code"]}),p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:h,onChange:z=>v(z.target.checked),className:"mr-2 h-4 w-4 text-indigo-600 rounded"}),"Include Text Details"]}),p.jsxs("label",{className:"flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:b,onChange:z=>_(z.target.checked),className:"mr-2 h-4 w-4 text-red-600 rounded border-red-300"}),"QR Only for Confidential Files"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[S.map(z=>p.jsxs("div",{onClick:()=>A(z.id),className:`cursor-pointer p-4 rounded-xl border-2 transition-all ${l.includes(z.id)?"border-indigo-600 bg-indigo-50":"border-slate-200 bg-white hover:border-indigo-300"}`,children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.includes(z.id)?p.jsx(PI,{className:"w-5 h-5 text-indigo-600"}):p.jsx(VI,{className:"w-5 h-5 text-slate-400"}),z.isConfidential&&p.jsx(Qc,{className:"w-4 h-4 text-red-500"})]}),p.jsx("h3",{className:"font-bold text-slate-900 line-clamp-1",children:z.fileName}),p.jsxs("p",{className:"text-xs text-slate-500 font-mono mt-1",children:[z.fileNumber,"/",z.financialYear]})]},z.id)),S.length===0&&p.jsx("div",{className:"col-span-full text-center py-8 text-slate-500 border border-dashed border-slate-300 rounded-xl",children:"No files found."})]})]}),p.jsx("div",{className:"hidden print:block",children:p.jsx("div",{className:"print-grid",children:l.map(z=>{const Y=E.find(_e=>_e.id===z);if(!Y)return null;const ne=`${window.location.origin}/file/${Y.id}`,J=Y.isConfidential===!0||String(Y.isConfidential)==="true";let O=ne;if(!J){const _e=L(Y.cabinetId),Se=Y.isLocker?`Locker (L${Y.level} C${Y.column})`:`L${Y.level} C${Y.column}`,Ye=new URLSearchParams({name:Y.fileName||"Document",num:`${Y.fileNumber}${Y.financialYear?"/"+Y.financialYear:""}`,cab:_e,loc:Se,type:Y.itemType||"file"});O=`${ne}?${Ye.toString()}`}const G=g,X=J&&b?!1:h;return p.jsxs("div",{className:"qr-container flex items-start border border-gray-300 p-2 break-inside-avoid w-fit",children:[G&&p.jsx("div",{style:{width:"2cm",height:"2cm"},className:"flex-shrink-0 flex flex-col justify-center items-center bg-white",children:p.jsx(_a,{value:O,size:65,level:"M",includeMargin:!1})}),X&&p.jsxs("div",{className:`${G?"ml-2":""} flex flex-col justify-center text-[8px] leading-tight w-[3.5cm] h-[2cm] overflow-hidden relative`,children:[p.jsx("div",{className:"absolute top-0 right-0 text-[5px] text-gray-500",children:new Date().toLocaleDateString()}),p.jsxs("div",{className:"font-bold truncate pr-6",children:[Y.fileNumber,Y.financialYear?`/${Y.financialYear}`:""]}),p.jsxs("div",{className:"truncate text-[7px]",children:["Cab: ",L(Y.cabinetId)]}),Y.isLocker?p.jsxs("div",{className:"truncate text-[7px]",children:["Loc: Locker (L",Y.level," C",Y.column,")"]}):p.jsxs("div",{className:"truncate text-[7px]",children:["Loc: L",Y.level," C",Y.column]}),J&&p.jsx("div",{className:"font-bold text-black mt-0.5",children:"CONFIDENTIAL"})]}),J&&p.jsxs("div",{className:"ml-4 pl-4 border-l-2 border-dashed border-gray-400 flex flex-col justify-center text-[9px] w-[5cm] h-[2cm] relative",children:[p.jsx("div",{className:"absolute top-0 right-0 text-[5px] text-gray-500",children:new Date().toLocaleDateString()}),p.jsx("span",{className:"font-bold mb-1 underline",children:"TEAR-OFF IDENTIFICATION"}),p.jsxs("span",{className:"truncate pr-8",children:["Name: ",Y.fileName]}),p.jsxs("span",{children:["No: ",Y.fileNumber,Y.financialYear?`/${Y.financialYear}`:""]}),b&&p.jsx("span",{className:"text-[7px] mt-1 text-gray-500 italic",children:"* Details hidden for security"})]})]},Y.id)})})}),p.jsx("style",{children:`
        @media print {
          @page { size: A4; margin: 1cm; }
          body * { visibility: hidden; }
          .print\\:block, .print\\:block * { visibility: visible; }
          .print\\:block { position: absolute; left: 0; top: 0; width: 100%; }
          .print-grid { display: flex; flex-wrap: wrap; gap: 0.5cm; }
        }
      `})]})}const Bl=({children:s})=>{const{user:e,loading:i}=An();return i?p.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):e?p.jsx(p.Fragment,{children:s}):p.jsx(rS,{to:"/login",replace:!0})};function mk(){return p.jsx(iI,{children:p.jsx(DS,{children:p.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[p.jsx($I,{}),p.jsx("main",{className:"flex-grow max-w-7xl w-full mx-auto p-4 sm:p-6 lg:p-8",children:p.jsxs(cS,{children:[p.jsx(Nn,{path:"/",element:p.jsx(XI,{})}),p.jsx(Nn,{path:"/cabinet/:id",element:p.jsx(lk,{})}),p.jsx(Nn,{path:"/file/:id",element:p.jsx(rk,{})}),p.jsx(Nn,{path:"/login",element:p.jsx(ok,{})}),p.jsx(Nn,{path:"/admin",element:p.jsx(Bl,{children:p.jsx(ck,{})})}),p.jsx(Nn,{path:"/admin/files",element:p.jsx(Bl,{children:p.jsx(uk,{})})}),p.jsx(Nn,{path:"/admin/documents",element:p.jsx(Bl,{children:p.jsx(dk,{})})}),p.jsx(Nn,{path:"/admin/cabinets",element:p.jsx(Bl,{children:p.jsx(fk,{})})}),p.jsx(Nn,{path:"/admin/qrs",element:p.jsx(Bl,{children:p.jsx(hk,{})})})]})})]})})})}dC.createRoot(document.getElementById("root")).render(p.jsx(I.StrictMode,{children:p.jsx(mk,{})}));</script>
    <style rel="stylesheet" crossorigin>@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-space-y-reverse:0;--tw-space-x-reverse:0;--tw-border-style:solid;--tw-leading:initial;--tw-font-weight:initial;--tw-tracking:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-50:oklch(97.1% .013 17.38);--color-red-100:oklch(93.6% .032 17.717);--color-red-200:oklch(88.5% .062 18.334);--color-red-300:oklch(80.8% .114 19.571);--color-red-400:oklch(70.4% .191 22.216);--color-red-500:oklch(63.7% .237 25.331);--color-red-600:oklch(57.7% .245 27.325);--color-red-700:oklch(50.5% .213 27.518);--color-red-800:oklch(44.4% .177 26.899);--color-amber-50:oklch(98.7% .022 95.277);--color-amber-100:oklch(96.2% .059 95.617);--color-amber-200:oklch(92.4% .12 95.746);--color-amber-300:oklch(87.9% .169 91.605);--color-amber-400:oklch(82.8% .189 84.429);--color-amber-500:oklch(76.9% .188 70.08);--color-amber-600:oklch(66.6% .179 58.318);--color-amber-700:oklch(55.5% .163 48.998);--color-amber-800:oklch(47.3% .137 46.201);--color-amber-900:oklch(41.4% .112 45.904);--color-emerald-50:oklch(97.9% .021 166.113);--color-emerald-300:oklch(84.5% .143 164.978);--color-emerald-600:oklch(59.6% .145 163.225);--color-blue-50:oklch(97% .014 254.604);--color-blue-600:oklch(54.6% .245 262.881);--color-indigo-50:oklch(96.2% .018 272.314);--color-indigo-100:oklch(93% .034 272.788);--color-indigo-200:oklch(87% .065 274.039);--color-indigo-300:oklch(78.5% .115 274.713);--color-indigo-400:oklch(67.3% .182 276.935);--color-indigo-500:oklch(58.5% .233 277.117);--color-indigo-600:oklch(51.1% .262 276.966);--color-indigo-700:oklch(45.7% .24 277.023);--color-indigo-800:oklch(39.8% .195 277.366);--color-indigo-900:oklch(35.9% .144 278.697);--color-purple-50:oklch(97.7% .014 308.299);--color-purple-300:oklch(82.7% .119 306.383);--color-purple-600:oklch(55.8% .288 302.321);--color-slate-50:oklch(98.4% .003 247.858);--color-slate-100:oklch(96.8% .007 247.896);--color-slate-200:oklch(92.9% .013 255.508);--color-slate-300:oklch(86.9% .022 252.894);--color-slate-400:oklch(70.4% .04 256.788);--color-slate-500:oklch(55.4% .046 257.417);--color-slate-600:oklch(44.6% .043 257.281);--color-slate-700:oklch(37.2% .044 257.287);--color-slate-800:oklch(27.9% .041 260.031);--color-slate-900:oklch(20.8% .042 265.755);--color-gray-50:oklch(98.5% .002 247.839);--color-gray-200:oklch(92.8% .006 264.531);--color-gray-300:oklch(87.2% .01 258.338);--color-gray-400:oklch(70.7% .022 261.325);--color-gray-500:oklch(55.1% .027 264.364);--color-gray-700:oklch(37.3% .034 259.733);--color-gray-900:oklch(21% .034 264.665);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-sm:24rem;--container-md:28rem;--container-lg:32rem;--container-3xl:48rem;--container-7xl:80rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--text-3xl:1.875rem;--text-3xl--line-height: 1.2 ;--text-5xl:3rem;--text-5xl--line-height:1;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--tracking-tight:-.025em;--tracking-wide:.025em;--tracking-wider:.05em;--tracking-widest:.1em;--leading-tight:1.25;--radius-md:.375rem;--radius-lg:.5rem;--radius-xl:.75rem;--radius-2xl:1rem;--blur-sm:8px;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::file-selector-button{appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer components;@layer utilities{.pointer-events-none{pointer-events:none}.visible{visibility:visible}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:calc(var(--spacing)*0)}.inset-y-0{inset-block:calc(var(--spacing)*0)}.top-0{top:calc(var(--spacing)*0)}.top-4{top:calc(var(--spacing)*4)}.top-6{top:calc(var(--spacing)*6)}.right-0{right:calc(var(--spacing)*0)}.right-4{right:calc(var(--spacing)*4)}.left-0{left:calc(var(--spacing)*0)}.z-50{z-index:50}.col-span-2{grid-column:span 2/span 2}.col-span-3{grid-column:span 3/span 3}.col-span-full{grid-column:1/-1}.mx-auto{margin-inline:auto}.mt-0\.5{margin-top:calc(var(--spacing)*.5)}.mt-1{margin-top:calc(var(--spacing)*1)}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-4{margin-top:calc(var(--spacing)*4)}.mt-8{margin-top:calc(var(--spacing)*8)}.mr-1{margin-right:calc(var(--spacing)*1)}.mr-2{margin-right:calc(var(--spacing)*2)}.mb-1{margin-bottom:calc(var(--spacing)*1)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-6{margin-bottom:calc(var(--spacing)*6)}.mb-8{margin-bottom:calc(var(--spacing)*8)}.ml-1{margin-left:calc(var(--spacing)*1)}.ml-2{margin-left:calc(var(--spacing)*2)}.ml-4{margin-left:calc(var(--spacing)*4)}.line-clamp-1{-webkit-line-clamp:1;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.line-clamp-2{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.block{display:block}.contents{display:contents}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.inline-block{display:inline-block}.inline-flex{display:inline-flex}.h-3{height:calc(var(--spacing)*3)}.h-4{height:calc(var(--spacing)*4)}.h-5{height:calc(var(--spacing)*5)}.h-6{height:calc(var(--spacing)*6)}.h-8{height:calc(var(--spacing)*8)}.h-12{height:calc(var(--spacing)*12)}.h-16{height:calc(var(--spacing)*16)}.h-\[2cm\]{height:2cm}.h-screen{height:100vh}.max-h-96{max-height:calc(var(--spacing)*96)}.min-h-\[70vh\]{min-height:70vh}.min-h-screen{min-height:100vh}.w-3{width:calc(var(--spacing)*3)}.w-4{width:calc(var(--spacing)*4)}.w-5{width:calc(var(--spacing)*5)}.w-6{width:calc(var(--spacing)*6)}.w-8{width:calc(var(--spacing)*8)}.w-12{width:calc(var(--spacing)*12)}.w-16{width:calc(var(--spacing)*16)}.w-20{width:calc(var(--spacing)*20)}.w-64{width:calc(var(--spacing)*64)}.w-\[3\.5cm\]{width:3.5cm}.w-\[5cm\]{width:5cm}.w-fit{width:fit-content}.w-full{width:100%}.max-w-3xl{max-width:var(--container-3xl)}.max-w-7xl{max-width:var(--container-7xl)}.max-w-lg{max-width:var(--container-lg)}.max-w-md{max-width:var(--container-md)}.max-w-sm{max-width:var(--container-sm)}.min-w-\[220px\]{min-width:220px}.min-w-full{min-width:100%}.flex-1{flex:1}.flex-shrink-0,.shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.cursor-pointer{cursor:pointer}.break-inside-avoid{break-inside:avoid}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.items-end{align-items:flex-end}.items-start{align-items:flex-start}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.gap-1{gap:calc(var(--spacing)*1)}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}.gap-6{gap:calc(var(--spacing)*6)}.gap-8{gap:calc(var(--spacing)*8)}:where(.space-y-3>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*3)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-6>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*6)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*6)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-8>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*8)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*8)*calc(1 - var(--tw-space-y-reverse)))}.gap-x-4{column-gap:calc(var(--spacing)*4)}:where(.space-x-2>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*2)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-x-reverse)))}:where(.space-x-4>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*4)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-x-reverse)))}.gap-y-1{row-gap:calc(var(--spacing)*1)}.self-start{align-self:flex-start}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:var(--radius-2xl)}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-lg)}.rounded-md{border-radius:var(--radius-md)}.rounded-xl{border-radius:var(--radius-xl)}.border{border-style:var(--tw-border-style);border-width:1px}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-4{border-style:var(--tw-border-style);border-width:4px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-l-2{border-left-style:var(--tw-border-style);border-left-width:2px}.border-dashed{--tw-border-style:dashed;border-style:dashed}.border-amber-100{border-color:var(--color-amber-100)}.border-amber-200{border-color:var(--color-amber-200)}.border-amber-300{border-color:var(--color-amber-300)}.border-black{border-color:var(--color-black)}.border-gray-200{border-color:var(--color-gray-200)}.border-gray-300{border-color:var(--color-gray-300)}.border-gray-400{border-color:var(--color-gray-400)}.border-indigo-100{border-color:var(--color-indigo-100)}.border-indigo-200{border-color:var(--color-indigo-200)}.border-indigo-600{border-color:var(--color-indigo-600)}.border-red-200{border-color:var(--color-red-200)}.border-red-300{border-color:var(--color-red-300)}.border-slate-100{border-color:var(--color-slate-100)}.border-slate-200{border-color:var(--color-slate-200)}.border-slate-300{border-color:var(--color-slate-300)}.border-transparent{border-color:#0000}.bg-amber-50{background-color:var(--color-amber-50)}.bg-amber-50\/50{background-color:#fffbeb80}@supports (color:color-mix(in lab,red,red)){.bg-amber-50\/50{background-color:color-mix(in oklab,var(--color-amber-50)50%,transparent)}}.bg-amber-100{background-color:var(--color-amber-100)}.bg-amber-200{background-color:var(--color-amber-200)}.bg-black\/50{background-color:#00000080}@supports (color:color-mix(in lab,red,red)){.bg-black\/50{background-color:color-mix(in oklab,var(--color-black)50%,transparent)}}.bg-emerald-50{background-color:var(--color-emerald-50)}.bg-gray-50{background-color:var(--color-gray-50)}.bg-indigo-50{background-color:var(--color-indigo-50)}.bg-indigo-100{background-color:var(--color-indigo-100)}.bg-indigo-600{background-color:var(--color-indigo-600)}.bg-purple-50{background-color:var(--color-purple-50)}.bg-red-50{background-color:var(--color-red-50)}.bg-red-100{background-color:var(--color-red-100)}.bg-red-600{background-color:var(--color-red-600)}.bg-slate-50{background-color:var(--color-slate-50)}.bg-slate-100{background-color:var(--color-slate-100)}.bg-slate-200{background-color:var(--color-slate-200)}.bg-slate-900{background-color:var(--color-slate-900)}.bg-white{background-color:var(--color-white)}.p-1{padding:calc(var(--spacing)*1)}.p-1\.5{padding:calc(var(--spacing)*1.5)}.p-2{padding:calc(var(--spacing)*2)}.p-3{padding:calc(var(--spacing)*3)}.p-4{padding:calc(var(--spacing)*4)}.p-5{padding:calc(var(--spacing)*5)}.p-6{padding:calc(var(--spacing)*6)}.p-8{padding:calc(var(--spacing)*8)}.px-1\.5{padding-inline:calc(var(--spacing)*1.5)}.px-2{padding-inline:calc(var(--spacing)*2)}.px-3{padding-inline:calc(var(--spacing)*3)}.px-4{padding-inline:calc(var(--spacing)*4)}.px-6{padding-inline:calc(var(--spacing)*6)}.py-0\.5{padding-block:calc(var(--spacing)*.5)}.py-1{padding-block:calc(var(--spacing)*1)}.py-1\.5{padding-block:calc(var(--spacing)*1.5)}.py-2{padding-block:calc(var(--spacing)*2)}.py-2\.5{padding-block:calc(var(--spacing)*2.5)}.py-3{padding-block:calc(var(--spacing)*3)}.py-4{padding-block:calc(var(--spacing)*4)}.py-8{padding-block:calc(var(--spacing)*8)}.py-12{padding-block:calc(var(--spacing)*12)}.pt-2{padding-top:calc(var(--spacing)*2)}.pt-4{padding-top:calc(var(--spacing)*4)}.pr-2{padding-right:calc(var(--spacing)*2)}.pr-6{padding-right:calc(var(--spacing)*6)}.pr-8{padding-right:calc(var(--spacing)*8)}.pb-2{padding-bottom:calc(var(--spacing)*2)}.pb-4{padding-bottom:calc(var(--spacing)*4)}.pb-12{padding-bottom:calc(var(--spacing)*12)}.pl-3{padding-left:calc(var(--spacing)*3)}.pl-4{padding-left:calc(var(--spacing)*4)}.pl-10{padding-left:calc(var(--spacing)*10)}.text-center{text-align:center}.font-mono{font-family:var(--font-mono)}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.text-5xl{font-size:var(--text-5xl);line-height:var(--tw-leading,var(--text-5xl--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.text-\[5px\]{font-size:5px}.text-\[7px\]{font-size:7px}.text-\[8px\]{font-size:8px}.text-\[9px\]{font-size:9px}.text-\[10px\]{font-size:10px}.leading-tight{--tw-leading:var(--leading-tight);line-height:var(--leading-tight)}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.tracking-tight{--tw-tracking:var(--tracking-tight);letter-spacing:var(--tracking-tight)}.tracking-wide{--tw-tracking:var(--tracking-wide);letter-spacing:var(--tracking-wide)}.tracking-wider{--tw-tracking:var(--tracking-wider);letter-spacing:var(--tracking-wider)}.tracking-widest{--tw-tracking:var(--tracking-widest);letter-spacing:var(--tracking-widest)}.whitespace-nowrap{white-space:nowrap}.text-amber-600{color:var(--color-amber-600)}.text-amber-600\/50{color:#dd740080}@supports (color:color-mix(in lab,red,red)){.text-amber-600\/50{color:color-mix(in oklab,var(--color-amber-600)50%,transparent)}}.text-amber-700{color:var(--color-amber-700)}.text-amber-800{color:var(--color-amber-800)}.text-amber-900{color:var(--color-amber-900)}.text-black{color:var(--color-black)}.text-blue-600{color:var(--color-blue-600)}.text-emerald-600{color:var(--color-emerald-600)}.text-gray-300{color:var(--color-gray-300)}.text-gray-500{color:var(--color-gray-500)}.text-gray-700{color:var(--color-gray-700)}.text-gray-900{color:var(--color-gray-900)}.text-indigo-400{color:var(--color-indigo-400)}.text-indigo-600{color:var(--color-indigo-600)}.text-indigo-700{color:var(--color-indigo-700)}.text-indigo-800{color:var(--color-indigo-800)}.text-indigo-900{color:var(--color-indigo-900)}.text-purple-600{color:var(--color-purple-600)}.text-red-400{color:var(--color-red-400)}.text-red-500{color:var(--color-red-500)}.text-red-600{color:var(--color-red-600)}.text-red-700{color:var(--color-red-700)}.text-red-800{color:var(--color-red-800)}.text-slate-300{color:var(--color-slate-300)}.text-slate-400{color:var(--color-slate-400)}.text-slate-500{color:var(--color-slate-500)}.text-slate-600{color:var(--color-slate-600)}.text-slate-700{color:var(--color-slate-700)}.text-slate-800{color:var(--color-slate-800)}.text-slate-900{color:var(--color-slate-900)}.text-white{color:var(--color-white)}.uppercase{text-transform:uppercase}.italic{font-style:italic}.underline{text-decoration-line:underline}.shadow-inner{--tw-shadow:inset 0 2px 4px 0 var(--tw-shadow-color,#0000000d);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-1{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-amber-600\/20{--tw-ring-color:#dd740033}@supports (color:color-mix(in lab,red,red)){.ring-amber-600\/20{--tw-ring-color:color-mix(in oklab,var(--color-amber-600)20%,transparent)}}.backdrop-blur-sm{--tw-backdrop-blur:blur(var(--blur-sm));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.outline-none{--tw-outline-style:none;outline-style:none}.ring-inset{--tw-ring-inset:inset}@media(hover:hover){.group-hover\:bg-indigo-100:is(:where(.group):hover *){background-color:var(--color-indigo-100)}.group-hover\:text-indigo-700:is(:where(.group):hover *){color:var(--color-indigo-700)}.hover\:border-amber-400:hover{border-color:var(--color-amber-400)}.hover\:border-emerald-300:hover{border-color:var(--color-emerald-300)}.hover\:border-indigo-300:hover{border-color:var(--color-indigo-300)}.hover\:border-indigo-400:hover{border-color:var(--color-indigo-400)}.hover\:border-purple-300:hover{border-color:var(--color-purple-300)}.hover\:bg-amber-100:hover{background-color:var(--color-amber-100)}.hover\:bg-blue-50:hover{background-color:var(--color-blue-50)}.hover\:bg-indigo-50:hover{background-color:var(--color-indigo-50)}.hover\:bg-indigo-100:hover{background-color:var(--color-indigo-100)}.hover\:bg-indigo-700:hover{background-color:var(--color-indigo-700)}.hover\:bg-red-50:hover{background-color:var(--color-red-50)}.hover\:bg-red-700:hover{background-color:var(--color-red-700)}.hover\:bg-slate-50:hover{background-color:var(--color-slate-50)}.hover\:bg-slate-300:hover{background-color:var(--color-slate-300)}.hover\:text-amber-900:hover{color:var(--color-amber-900)}.hover\:text-indigo-800:hover{color:var(--color-indigo-800)}.hover\:text-red-300:hover{color:var(--color-red-300)}.hover\:text-slate-600:hover{color:var(--color-slate-600)}.hover\:text-white:hover{color:var(--color-white)}.hover\:shadow-md:hover{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}}.focus\:border-indigo-600:focus{border-color:var(--color-indigo-600)}.focus\:ring-2:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\:ring-amber-500:focus{--tw-ring-color:var(--color-amber-500)}.focus\:ring-indigo-500:focus{--tw-ring-color:var(--color-indigo-500)}.focus\:ring-indigo-600:focus{--tw-ring-color:var(--color-indigo-600)}.focus\:ring-red-500:focus{--tw-ring-color:var(--color-red-500)}.focus\:ring-offset-2:focus{--tw-ring-offset-width:2px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)}.focus\:outline-none:focus{--tw-outline-style:none;outline-style:none}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:opacity-50:disabled{opacity:.5}@media(min-width:40rem){.sm\:block{display:block}.sm\:w-96{width:calc(var(--spacing)*96)}.sm\:w-auto{width:auto}.sm\:flex-none{flex:none}.sm\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.sm\:flex-row{flex-direction:row}.sm\:items-center{align-items:center}.sm\:p-6{padding:calc(var(--spacing)*6)}.sm\:px-6{padding-inline:calc(var(--spacing)*6)}.sm\:text-left{text-align:left}.sm\:text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}}@media(min-width:48rem){.md\:col-span-1{grid-column:span 1/span 1}.md\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}@media(min-width:64rem){.lg\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.lg\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.lg\:p-8{padding:calc(var(--spacing)*8)}.lg\:px-8{padding-inline:calc(var(--spacing)*8)}}@media(min-width:80rem){.xl\:col-span-1{grid-column:span 1/span 1}.xl\:col-span-2{grid-column:span 2/span 2}.xl\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.xl\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}}@media print{.print\:block{display:block}.print\:hidden{display:none}}}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-space-x-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}</style>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
